{
    "fastqc": {
        "name_process": "fastqc",
        "string_process": "\nprocess fastqc {\n\n    tag { fastq.name }\n\n    label 'fastqc'\n\n    publishDir(\n        path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\",\n        enabled: params.publish_everything || params.publish_fastqc,\n        mode: params.publish_mode,\n    )\n\n    input:\n    path fastq\n\n    output:\n    path \"*_fastqc.{zip,html}\"\n\n    \"\"\"\n    fastqc -q \"${fastq}\"\n    \"\"\"\n}",
        "nb_lignes_process": 21,
        "string_script": "\"\"\"\n    fastqc -q \"${fastq}\"\n    \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "FastQC"
        ],
        "tools_url": [
            "https://bio.tools/fastqc"
        ],
        "tools_dico": [
            {
                "name": "FastQC",
                "uri": "https://bio.tools/fastqc",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3572",
                            "term": "Data quality management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical calculation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality control"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0236",
                                    "term": "Sequence composition calculation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Significance testing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical testing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical test"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing QC"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality assessment"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0848",
                                "term": "Raw sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2955",
                                "term": "Sequence report"
                            }
                        ]
                    }
                ],
                "description": "This tool aims to provide a QC report which can spot problems or biases which originate either in the sequencer or in the starting library material. It can be run in one of two modes. It can either run as a stand alone interactive application for the immediate analysis of small numbers of FastQ files, or it can be run in a non-interactive mode where it would be suitable for integrating into a larger analysis pipeline for the systematic processing of large numbers of files.",
                "homepage": "http://www.bioinformatics.babraham.ac.uk/projects/fastqc/"
            }
        ],
        "inputs": [
            "fastq"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "ampatchlab__nf-typeHLA",
        "directive": [
            "tag { fastq.name }",
            "label 'fastqc'",
            "publishDir( path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\", enabled: params.publish_everything || params.publish_fastqc, mode: params.publish_mode, )"
        ],
        "when": "",
        "stub": ""
    },
    "samtools_sort": {
        "name_process": "samtools_sort",
        "string_process": "\nprocess samtools_sort {\n\n    tag { bam.name }\n\n    label 'samtools'\n\n    publishDir(\n        path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\",\n        enabled: params.publish_everything || params.publish_samtools_sort,\n        mode: params.publish_mode,\n    )\n\n    input:\n    path bam\n\n    output:\n    path \"${bam.baseName}.sorted.bam{,.bai}\"\n\n    script:\n    def tmp_prefix = \"${bam.baseName}.sorted\"\n    def out_files = [ \"${tmp_prefix}.bam\", \"${tmp_prefix}.bam.bai\" ].join('##idx##')\n\n    def avail_mem = task.memory ? task.memory.toGiga().intdiv(task.cpus) : 0\n    def mem_per_thread = avail_mem ? \"-m ${avail_mem}G\" : ''\n\n    \"\"\"\n    samtools sort \\\\\n        --write-index \\\\\n        ${mem_per_thread} \\\\\n        -o \"${out_files}\" \\\\\n        -T \"${tmp_prefix}\" \\\\\n        -@ \"${task.cpus - 1}\" \\\\\n        \"${bam}\"\n    \"\"\"\n}",
        "nb_lignes_process": 34,
        "string_script": "    def tmp_prefix = \"${bam.baseName}.sorted\"\n    def out_files = [ \"${tmp_prefix}.bam\", \"${tmp_prefix}.bam.bai\" ].join('##idx##')\n\n    def avail_mem = task.memory ? task.memory.toGiga().intdiv(task.cpus) : 0\n    def mem_per_thread = avail_mem ? \"-m ${avail_mem}G\" : ''\n\n    \"\"\"\n    samtools sort \\\\\n        --write-index \\\\\n        ${mem_per_thread} \\\\\n        -o \"${out_files}\" \\\\\n        -T \"${tmp_prefix}\" \\\\\n        -@ \"${task.cpus - 1}\" \\\\\n        \"${bam}\"\n    \"\"\"",
        "nb_lignes_script": 14,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "bam"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "ampatchlab__nf-typeHLA",
        "directive": [
            "tag { bam.name }",
            "label 'samtools'",
            "publishDir( path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\", enabled: params.publish_everything || params.publish_samtools_sort, mode: params.publish_mode, )"
        ],
        "when": "",
        "stub": ""
    },
    "samtools_merge": {
        "name_process": "samtools_merge",
        "string_process": "\nprocess samtools_merge {\n\n    tag { sample }\n\n    label 'samtools'\n\n    publishDir(\n        path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\",\n        enabled: params.publish_everything || params.publish_samtools_merge,\n        mode: params.publish_mode,\n    )\n\n    input:\n    tuple val(sample), path(bams)\n\n    output:\n    path \"${sample}.bam{,.bai}\"\n\n    script:\n    def input_bams = bams.collect { /\"$it\"/ }.join(' ')\n    def out_files = [ \"${sample}.bam\", \"${sample}.bam.bai\" ].join('##idx##')\n\n    \"\"\"\n    samtools merge \\\\\n        --write-index \\\\\n        \"${out_files}\" \\\\\n        ${input_bams}\n    \"\"\"\n}",
        "nb_lignes_process": 28,
        "string_script": "    def input_bams = bams.collect { /\"$it\"/ }.join(' ')\n    def out_files = [ \"${sample}.bam\", \"${sample}.bam.bai\" ].join('##idx##')\n\n    \"\"\"\n    samtools merge \\\\\n        --write-index \\\\\n        \"${out_files}\" \\\\\n        ${input_bams}\n    \"\"\"",
        "nb_lignes_script": 8,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "sample",
            "bams"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "ampatchlab__nf-typeHLA",
        "directive": [
            "tag { sample }",
            "label 'samtools'",
            "publishDir( path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\", enabled: params.publish_everything || params.publish_samtools_merge, mode: params.publish_mode, )"
        ],
        "when": "",
        "stub": ""
    },
    "samtools_stats": {
        "name_process": "samtools_stats",
        "string_process": "\nprocess samtools_stats {\n\n    tag { bam.name }\n\n    label 'samtools'\n\n    publishDir(\n        path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\",\n        enabled: params.publish_everything || params.publish_samtools_stats,\n        mode: params.publish_mode,\n    )\n\n    input:\n    path bam\n\n    output:\n    path \"${bam.baseName}.{stats,flagstat,idxstats}\"\n\n    \"\"\"\n    samtools stats \"${bam}\" > \"${bam.baseName}.stats\"\n    samtools flagstat \"${bam}\" > \"${bam.baseName}.flagstat\"\n    samtools idxstats \"${bam}\" > \"${bam.baseName}.idxstats\"\n    \"\"\"\n}",
        "nb_lignes_process": 23,
        "string_script": "\"\"\"\n    samtools stats \"${bam}\" > \"${bam.baseName}.stats\"\n    samtools flagstat \"${bam}\" > \"${bam.baseName}.flagstat\"\n    samtools idxstats \"${bam}\" > \"${bam.baseName}.idxstats\"\n    \"\"\"",
        "nb_lignes_script": 4,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "bam"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "ampatchlab__nf-typeHLA",
        "directive": [
            "tag { bam.name }",
            "label 'samtools'",
            "publishDir( path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\", enabled: params.publish_everything || params.publish_samtools_stats, mode: params.publish_mode, )"
        ],
        "when": "",
        "stub": ""
    },
    "cutadapt": {
        "name_process": "cutadapt",
        "string_process": "\nprocess cutadapt {\n\n    tag { readgroup }\n\n    label 'cutadapt'\n\n    publishDir(\n        path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\",\n        enabled: params.publish_everything || params.publish_cutadapt,\n        mode: params.publish_mode,\n    )\n\n    input:\n    tuple val(readgroup), path(input_reads)\n    path adapter_files\n\n    output:\n    tuple val(readgroup), path(output_reads), emit: trimmed_reads\n    path \"${readgroup}.log\", emit: logs\n\n    script:\n    def (in1_fq, in2_fq) = input_reads\n\n    def in1_str = in1_fq ? /\"$in1_fq\"/ : ''\n    def in2_str = in2_fq ? /\"$in2_fq\"/ : ''\n\n                     \n    def (r1_file, r2_file) = adapter_files\n\n    def r1_adapters = in1_fq && r1_file?.name != 'null-1.fa' ? /-a \"file:${r1_file}\"/ : ''\n    def r2_adapters = in2_fq && r2_file?.name != 'null-2.fa' ? /-A \"file:${r2_file}\"/ : ''\n\n                    \n    def (out1_fq, out2_fq) = output_reads = input_reads.collect {\n        get_fastq_basename( it ) + '.trimmed.fastq.gz'\n    }\n\n    def out1_str = in1_fq && out1_fq ? /-o \"${out1_fq}\"/ : ''\n    def out2_str = in2_fq && out2_fq ? /-p \"${out2_fq}\"/ : ''\n\n                                    \n    def min_read_length = params.min_read_length ? \"-m ${params.min_read_length}\" : ''\n    def base_qual_cutoff = params.base_qual_cutoff ? \"-q ${params.base_qual_cutoff}\" : ''\n\n    \"\"\"\n    cutadapt \\\\\n        -j \"${task.cpus}\" \\\\\n        -Z \\\\\n        ${r1_adapters} \\\\\n        ${r2_adapters} \\\\\n        ${min_read_length} \\\\\n        ${base_qual_cutoff} \\\\\n        --trim-n \\\\\n        ${out1_str} \\\\\n        ${out2_str} \\\\\n        ${in1_str} \\\\\n        ${in2_str} \\\\\n        > \"${readgroup}.log\"\n    \"\"\"\n}",
        "nb_lignes_process": 59,
        "string_script": "    def (in1_fq, in2_fq) = input_reads\n\n    def in1_str = in1_fq ? /\"$in1_fq\"/ : ''\n    def in2_str = in2_fq ? /\"$in2_fq\"/ : ''\n\n                     \n    def (r1_file, r2_file) = adapter_files\n\n    def r1_adapters = in1_fq && r1_file?.name != 'null-1.fa' ? /-a \"file:${r1_file}\"/ : ''\n    def r2_adapters = in2_fq && r2_file?.name != 'null-2.fa' ? /-A \"file:${r2_file}\"/ : ''\n\n                    \n    def (out1_fq, out2_fq) = output_reads = input_reads.collect {\n        get_fastq_basename( it ) + '.trimmed.fastq.gz'\n    }\n\n    def out1_str = in1_fq && out1_fq ? /-o \"${out1_fq}\"/ : ''\n    def out2_str = in2_fq && out2_fq ? /-p \"${out2_fq}\"/ : ''\n\n                                    \n    def min_read_length = params.min_read_length ? \"-m ${params.min_read_length}\" : ''\n    def base_qual_cutoff = params.base_qual_cutoff ? \"-q ${params.base_qual_cutoff}\" : ''\n\n    \"\"\"\n    cutadapt \\\\\n        -j \"${task.cpus}\" \\\\\n        -Z \\\\\n        ${r1_adapters} \\\\\n        ${r2_adapters} \\\\\n        ${min_read_length} \\\\\n        ${base_qual_cutoff} \\\\\n        --trim-n \\\\\n        ${out1_str} \\\\\n        ${out2_str} \\\\\n        ${in1_str} \\\\\n        ${in2_str} \\\\\n        > \"${readgroup}.log\"\n    \"\"\"",
        "nb_lignes_script": 37,
        "language_script": "bash",
        "tools": [
            "Cutadapt"
        ],
        "tools_url": [
            "https://bio.tools/cutadapt"
        ],
        "tools_dico": [
            {
                "name": "Cutadapt",
                "uri": "https://bio.tools/cutadapt",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0632",
                            "term": "Probes and primers"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3192",
                                    "term": "Sequence trimming"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3192",
                                    "term": "Trimming"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_3495",
                                "term": "RNA sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_3495",
                                "term": "RNA sequence"
                            }
                        ]
                    }
                ],
                "description": "Find and remove adapter sequences, primers, poly-A tails and other types of unwanted sequence from your high-throughput sequencing reads.",
                "homepage": "https://pypi.python.org/pypi/cutadapt"
            }
        ],
        "inputs": [
            "readgroup",
            "input_reads",
            "adapter_files"
        ],
        "nb_inputs": 3,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "ampatchlab__nf-typeHLA",
        "directive": [
            "tag { readgroup }",
            "label 'cutadapt'",
            "publishDir( path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\", enabled: params.publish_everything || params.publish_cutadapt, mode: params.publish_mode, )"
        ],
        "when": "",
        "stub": ""
    },
    "multiqc": {
        "name_process": "multiqc",
        "string_process": "\nprocess multiqc {\n\n    label 'multiqc'\n\n    publishDir(\n        path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\",\n        enabled: params.publish_everything || params.publish_multiqc,\n        mode: params.publish_mode,\n    )\n\n    input:\n    path 'data/*'\n    path config\n\n    output:\n    path \"multiqc_report.html\", emit: report\n    path \"multiqc_data\", emit: data\n\n    \"\"\"\n    multiqc \\\\\n        --config \"${config}\" \\\\\n        .\n    \"\"\"\n}",
        "nb_lignes_process": 23,
        "string_script": "\"\"\"\n    multiqc \\\\\n        --config \"${config}\" \\\\\n        .\n    \"\"\"",
        "nb_lignes_script": 4,
        "language_script": "bash",
        "tools": [
            "MultiQC"
        ],
        "tools_url": [
            "https://bio.tools/multiqc"
        ],
        "tools_dico": [
            {
                "name": "MultiQC",
                "uri": "https://bio.tools/multiqc",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0091",
                            "term": "Bioinformatics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2428",
                                    "term": "Validation"
                                }
                            ],
                            []
                        ],
                        "input": [],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2048",
                                "term": "Report"
                            }
                        ]
                    }
                ],
                "description": "MultiQC aggregates results from multiple bioinformatics analyses across many samples into a single report. It searches a given directory for analysis logs and compiles a HTML report. It's a general use tool, perfect for summarising the output from numerous bioinformatics tools.",
                "homepage": "http://multiqc.info/"
            }
        ],
        "inputs": [
            "config"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "ampatchlab__nf-typeHLA",
        "directive": [
            "label 'multiqc'",
            "publishDir( path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\", enabled: params.publish_everything || params.publish_multiqc, mode: params.publish_mode, )"
        ],
        "when": "",
        "stub": ""
    },
    "bwa_mem": {
        "name_process": "bwa_mem",
        "string_process": "\nprocess bwa_mem {\n\n    tag { sample == readgroup ? sample : \"${sample}:${readgroup}\" }\n\n    label 'bwakit'\n\n    publishDir(\n        path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\",\n        enabled: params.publish_everything || params.publish_bwa_mem,\n        mode: params.publish_mode,\n    )\n\n    input:\n    tuple val(sample), val(readgroup), path(reads)\n    path bwa_index\n\n    output:\n    tuple val(sample), path(\"${readgroup}.aln.bam\"), emit: alignments\n    tuple val(sample), path(\"${readgroup}.hla.HLA-*.fq\"), emit: hla_reads\n\n    script:\n    def task_cpus = task.cpus > 2 ? task.cpus - 2 : task.cpus\n\n    def idxbase = bwa_index.first().baseName\n    def fastq_files = reads.collect { /\"$it\"/ }.join(' ')\n\n    \"\"\"\n    bwa mem \\\\\n        -t ${task_cpus} \\\\\n        -R '@RG\\\\tID:${readgroup}\\\\tSM:${sample}' \\\\\n        \"${idxbase}\" \\\\\n        ${fastq_files} |\n    bwa-postalt.js \\\\\n        -p \"${readgroup}.hla\" \\\\\n        \"${idxbase}.alt\" |\n    samtools view \\\\\n        -1 \\\\\n        -o \"${readgroup}.aln.bam\" \\\\\n        -\n    \"\"\"\n}",
        "nb_lignes_process": 40,
        "string_script": "    def task_cpus = task.cpus > 2 ? task.cpus - 2 : task.cpus\n\n    def idxbase = bwa_index.first().baseName\n    def fastq_files = reads.collect { /\"$it\"/ }.join(' ')\n\n    \"\"\"\n    bwa mem \\\\\n        -t ${task_cpus} \\\\\n        -R '@RG\\\\tID:${readgroup}\\\\tSM:${sample}' \\\\\n        \"${idxbase}\" \\\\\n        ${fastq_files} |\n    bwa-postalt.js \\\\\n        -p \"${readgroup}.hla\" \\\\\n        \"${idxbase}.alt\" |\n    samtools view \\\\\n        -1 \\\\\n        -o \"${readgroup}.aln.bam\" \\\\\n        -\n    \"\"\"",
        "nb_lignes_script": 18,
        "language_script": "bash",
        "tools": [
            "BWA",
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/bwa",
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "BWA",
                "uri": "https://bio.tools/bwa",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3211",
                                    "term": "Genome indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3429",
                                    "term": "Generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Read mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3429",
                                    "term": "Construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Read alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide alignment construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short read mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short oligonucleotide alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short sequence read mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short read alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_2044",
                                "term": "Sequence"
                            },
                            {
                                "uri": "http://edamontology.org/data_3210",
                                "term": "Genome index"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0863",
                                "term": "Sequence alignment"
                            },
                            {
                                "uri": "http://edamontology.org/data_2012",
                                "term": "Sequence coordinates"
                            },
                            {
                                "uri": "http://edamontology.org/data_1916",
                                "term": "Alignment"
                            },
                            {
                                "uri": "http://edamontology.org/data_3210",
                                "term": "Genome index"
                            }
                        ]
                    }
                ],
                "description": "Fast, accurate, memory-efficient aligner for short and long sequencing reads",
                "homepage": "http://bio-bwa.sourceforge.net"
            },
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "sample",
            "readgroup",
            "reads",
            "bwa_index"
        ],
        "nb_inputs": 4,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "ampatchlab__nf-typeHLA",
        "directive": [
            "tag { sample == readgroup ? sample : \"${sample}:${readgroup}\" }",
            "label 'bwakit'",
            "publishDir( path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\", enabled: params.publish_everything || params.publish_bwa_mem, mode: params.publish_mode, )"
        ],
        "when": "",
        "stub": ""
    },
    "hla_typing": {
        "name_process": "hla_typing",
        "string_process": "\nprocess hla_typing {\n\n    tag { sample }\n\n    label 'bwakit'\n\n    publishDir(\n        path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\",\n        enabled: params.publish_everything || params.publish_hla_typing,\n        mode: params.publish_mode,\n    )\n\n    input:\n    tuple val(sample), path(\"staged/fastq/*\")\n    path \"staged/resource_bundle\"\n\n    output:\n    tuple val(sample), path(\"*/*.{fq,mag,sam,tsv}\")\n\n    shell:\n    '''\n    mkdir -p resource_bundle/HLA-ALT-idx\n    pushd resource_bundle\n    ln -s ../staged/resource_bundle/HLA-ALT-exons.bed\n    ln -s ../staged/resource_bundle/HLA-CDS.fa\n    pushd HLA-ALT-idx\n    ln -s ../../staged/resource_bundle/HLA-ALT-idx/*.fa.gz .\n    popd\n    popd\n    for fasta in resource_bundle/HLA-ALT-idx/*.fa.gz ; do\n        bwa index \"${fasta}\"\n    done\n\n    declare -A genes\n\n    for fq in staged/fastq/*.fq ; do\n        [[ \"${fq}\" =~ \\\\.(HLA-[A-Z]+[0-9]*)\\\\.fq$ ]] || continue\n        genes[\"${BASH_REMATCH[1]}\"]=1\n    done\n\n    for gene in \"${!genes[@]}\" ; do\n        echo >&2 \"*** Processing gene ${gene}...\"\n\n        prefix=\"!{sample}.${gene}\"\n\n        mkdir -p \"${prefix}/tmp\"\n        pushd \"${prefix}\"\n\n        cat ../staged/fastq/*.${gene}.fq > \"${prefix}.fq\"\n        ln -s ../resource_bundle/* .\n\n        touch \"${prefix}.mag\"\n        touch \"${prefix}.sam\"\n        touch \"${prefix}.tsv\"\n\n        echo >&2 \"** De novo assembling...\"\n\n        readlength=\"$(seqtk comp \"${prefix}.fq\" | awk '{ s+=$2 } END { printf(\"%.0f\", NR ? s/NR : 0) }')\"\n        [ \"${readlength}\" -ge 70 ] || { popd; continue; }\n\n        fermi2.pl unitig -p \"./tmp/${prefix}.tmp\" -l \"${readlength}\" -t 1 \"${prefix}.fq\" | make -f-\n\n        gunzip -dc \"./tmp/${prefix}.tmp.mag.gz\" > \"${prefix}.mag\"\n        [ -s \"${prefix}.mag\" ] || { popd; continue; }\n\n        echo >&2 \"** Selecting contigs overlapping target exons...\"\n\n        for idxbase in HLA-ALT-idx/*.fa.gz ; do\n            bwa mem -B1 -O1 -E1 \"${idxbase}\" \"${prefix}.mag\" |\n            samtools sort -o \"./tmp/${prefix}.tmp.ALT.$(basename \"${idxbase}\" '.fa.gz').bam\" -\n        done\n\n        samtools merge -O sam \"./tmp/${prefix}.tmp.ALT.sam\" ./tmp/*.bam\n\n        typeHLA-selctg.js \"${gene}\" HLA-ALT-exons.bed \"./tmp/${prefix}.tmp.ALT.sam\" |\n        seqtk subseq \"${prefix}.mag\" - > \"./tmp/${prefix}.tmp.fq\"\n\n        echo >&2 \"** Mapping exons to de novo contigs...\"\n\n        bwa index -p \"./tmp/${prefix}.tmp\" \"./tmp/${prefix}.tmp.fq\"\n        seqtk comp HLA-CDS.fa | cut -f1 | grep \"^${gene}\" | seqtk subseq HLA-CDS.fa - |\n        bwa mem -aD.1 \"./tmp/${prefix}.tmp\" - > \"${prefix}.sam\"\n\n        echo >&2 \"** Typing...\"\n\n        typeHLA.js \"${prefix}.sam\" > \"${prefix}.gt\"\n        grep \"^GT\" \"${prefix}.gt\" | sed \"s/^GT/!{sample}/\" > \"${prefix}.tsv\"\n\n        popd\n    done\n    '''\n}",
        "nb_lignes_process": 91,
        "string_script": "    '''\n    mkdir -p resource_bundle/HLA-ALT-idx\n    pushd resource_bundle\n    ln -s ../staged/resource_bundle/HLA-ALT-exons.bed\n    ln -s ../staged/resource_bundle/HLA-CDS.fa\n    pushd HLA-ALT-idx\n    ln -s ../../staged/resource_bundle/HLA-ALT-idx/*.fa.gz .\n    popd\n    popd\n    for fasta in resource_bundle/HLA-ALT-idx/*.fa.gz ; do\n        bwa index \"${fasta}\"\n    done\n\n    declare -A genes\n\n    for fq in staged/fastq/*.fq ; do\n        [[ \"${fq}\" =~ \\\\.(HLA-[A-Z]+[0-9]*)\\\\.fq$ ]] || continue\n        genes[\"${BASH_REMATCH[1]}\"]=1\n    done\n\n    for gene in \"${!genes[@]}\" ; do\n        echo >&2 \"*** Processing gene ${gene}...\"\n\n        prefix=\"!{sample}.${gene}\"\n\n        mkdir -p \"${prefix}/tmp\"\n        pushd \"${prefix}\"\n\n        cat ../staged/fastq/*.${gene}.fq > \"${prefix}.fq\"\n        ln -s ../resource_bundle/* .\n\n        touch \"${prefix}.mag\"\n        touch \"${prefix}.sam\"\n        touch \"${prefix}.tsv\"\n\n        echo >&2 \"** De novo assembling...\"\n\n        readlength=\"$(seqtk comp \"${prefix}.fq\" | awk '{ s+=$2 } END { printf(\"%.0f\", NR ? s/NR : 0) }')\"\n        [ \"${readlength}\" -ge 70 ] || { popd; continue; }\n\n        fermi2.pl unitig -p \"./tmp/${prefix}.tmp\" -l \"${readlength}\" -t 1 \"${prefix}.fq\" | make -f-\n\n        gunzip -dc \"./tmp/${prefix}.tmp.mag.gz\" > \"${prefix}.mag\"\n        [ -s \"${prefix}.mag\" ] || { popd; continue; }\n\n        echo >&2 \"** Selecting contigs overlapping target exons...\"\n\n        for idxbase in HLA-ALT-idx/*.fa.gz ; do\n            bwa mem -B1 -O1 -E1 \"${idxbase}\" \"${prefix}.mag\" |\n            samtools sort -o \"./tmp/${prefix}.tmp.ALT.$(basename \"${idxbase}\" '.fa.gz').bam\" -\n        done\n\n        samtools merge -O sam \"./tmp/${prefix}.tmp.ALT.sam\" ./tmp/*.bam\n\n        typeHLA-selctg.js \"${gene}\" HLA-ALT-exons.bed \"./tmp/${prefix}.tmp.ALT.sam\" |\n        seqtk subseq \"${prefix}.mag\" - > \"./tmp/${prefix}.tmp.fq\"\n\n        echo >&2 \"** Mapping exons to de novo contigs...\"\n\n        bwa index -p \"./tmp/${prefix}.tmp\" \"./tmp/${prefix}.tmp.fq\"\n        seqtk comp HLA-CDS.fa | cut -f1 | grep \"^${gene}\" | seqtk subseq HLA-CDS.fa - |\n        bwa mem -aD.1 \"./tmp/${prefix}.tmp\" - > \"${prefix}.sam\"\n\n        echo >&2 \"** Typing...\"\n\n        typeHLA.js \"${prefix}.sam\" > \"${prefix}.gt\"\n        grep \"^GT\" \"${prefix}.gt\" | sed \"s/^GT/!{sample}/\" > \"${prefix}.tsv\"\n\n        popd\n    done\n    '''",
        "nb_lignes_script": 70,
        "language_script": "bash",
        "tools": [
            "PopDel",
            "BWA",
            "SAMtools",
            "seqtk"
        ],
        "tools_url": [
            "https://bio.tools/PopDel",
            "https://bio.tools/bwa",
            "https://bio.tools/samtools",
            "https://bio.tools/seqtk"
        ],
        "tools_dico": [
            {
                "name": "PopDel",
                "uri": "https://bio.tools/PopDel",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3175",
                            "term": "Structural variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3175",
                            "term": "Genomic structural variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3175",
                            "term": "DNA structural variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3227",
                                    "term": "Variant calling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3196",
                                    "term": "Genotyping"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3227",
                                    "term": "Variant mapping"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_1383",
                                "term": "Nucleic acid sequence alignment"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_3498",
                                "term": "Sequence variations"
                            }
                        ]
                    }
                ],
                "description": "A tool for population level deletion calling from short paired-end sequence reads.",
                "homepage": "https://github.com/kehrlab/PopDel"
            },
            {
                "name": "BWA",
                "uri": "https://bio.tools/bwa",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3211",
                                    "term": "Genome indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3429",
                                    "term": "Generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Read mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3429",
                                    "term": "Construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Read alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide alignment construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short read mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short oligonucleotide alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short sequence read mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short read alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_2044",
                                "term": "Sequence"
                            },
                            {
                                "uri": "http://edamontology.org/data_3210",
                                "term": "Genome index"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0863",
                                "term": "Sequence alignment"
                            },
                            {
                                "uri": "http://edamontology.org/data_2012",
                                "term": "Sequence coordinates"
                            },
                            {
                                "uri": "http://edamontology.org/data_1916",
                                "term": "Alignment"
                            },
                            {
                                "uri": "http://edamontology.org/data_3210",
                                "term": "Genome index"
                            }
                        ]
                    }
                ],
                "description": "Fast, accurate, memory-efficient aligner for short and long sequencing reads",
                "homepage": "http://bio-bwa.sourceforge.net"
            },
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            },
            {
                "name": "seqtk",
                "uri": "https://bio.tools/seqtk",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Biological databases"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Data management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Information systems"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Databases and information systems"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "Data handling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2121",
                                    "term": "Sequence file editing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "Utility operation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "File handling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "File processing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "Report handling"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "A tool for processing sequences in the FASTA or FASTQ format. It parses both FASTA and FASTQ files which can also be optionally compressed by gzip.",
                "homepage": "https://github.com/lh3/seqtk"
            }
        ],
        "inputs": [
            "sample"
        ],
        "nb_inputs": 1,
        "outputs": [
            "sample"
        ],
        "nb_outputs": 1,
        "name_workflow": "ampatchlab__nf-typeHLA",
        "directive": [
            "tag { sample }",
            "label 'bwakit'",
            "publishDir( path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\", enabled: params.publish_everything || params.publish_hla_typing, mode: params.publish_mode, )"
        ],
        "when": "",
        "stub": ""
    },
    "mark_duplicates": {
        "name_process": "mark_duplicates",
        "string_process": "\nprocess mark_duplicates {\n\n    tag { bam.name }\n\n    label 'picard'\n\n    publishDir(\n        path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\",\n        enabled: params.publish_everything || params.publish_mark_duplicates,\n        mode: params.publish_mode,\n    )\n\n    input:\n    path bam\n\n    output:\n    path \"${bam.baseName}.markdup.bam{,.bai}\", emit: alignments\n    path \"${bam.baseName}.markdup.bam.md5\", emit: md5sum\n    path \"${bam.baseName}.metrics.txt\", emit: metrics\n\n    script:\n    def avail_mem = task.memory ? task.memory.toGiga() : 0\n\n    def Xmx = avail_mem >= 8 ? \"-Xmx${avail_mem - 1}G\" : ''\n    def Xms = avail_mem >= 8 ? \"-Xms${avail_mem.intdiv(2)}G\" : ''\n\n    \"\"\"\n    picard \\\\\n        -Djava.io.tmpdir=\"\\${PWD}/tmp\" \\\\\n        -Dpicard.useLegacyParser=false \\\\\n        -XX:+UseSerialGC \\\\\n        ${Xms} \\\\\n        ${Xmx} \\\\\n    MarkDuplicates \\\\\n        -INPUT \"${bam}\" \\\\\n        -OUTPUT \"${bam.baseName}.markdup.bam\" \\\\\n        -MAX_FILE_HANDLES \"${params.max_file_handles}\" \\\\\n        -METRICS_FILE \"${bam.baseName}.metrics.txt\" \\\\\n        -ASSUME_SORT_ORDER coordinate \\\\\n        -CREATE_INDEX TRUE \\\\\n        -CREATE_MD5_FILE TRUE \\\\\n        -VALIDATION_STRINGENCY LENIENT\n    mv \\\\\n        \"${bam.baseName}.markdup.bai\" \\\\\n        \"${bam.baseName}.markdup.bam.bai\"\n    \"\"\"\n}",
        "nb_lignes_process": 46,
        "string_script": "    def avail_mem = task.memory ? task.memory.toGiga() : 0\n\n    def Xmx = avail_mem >= 8 ? \"-Xmx${avail_mem - 1}G\" : ''\n    def Xms = avail_mem >= 8 ? \"-Xms${avail_mem.intdiv(2)}G\" : ''\n\n    \"\"\"\n    picard \\\\\n        -Djava.io.tmpdir=\"\\${PWD}/tmp\" \\\\\n        -Dpicard.useLegacyParser=false \\\\\n        -XX:+UseSerialGC \\\\\n        ${Xms} \\\\\n        ${Xmx} \\\\\n    MarkDuplicates \\\\\n        -INPUT \"${bam}\" \\\\\n        -OUTPUT \"${bam.baseName}.markdup.bam\" \\\\\n        -MAX_FILE_HANDLES \"${params.max_file_handles}\" \\\\\n        -METRICS_FILE \"${bam.baseName}.metrics.txt\" \\\\\n        -ASSUME_SORT_ORDER coordinate \\\\\n        -CREATE_INDEX TRUE \\\\\n        -CREATE_MD5_FILE TRUE \\\\\n        -VALIDATION_STRINGENCY LENIENT\n    mv \\\\\n        \"${bam.baseName}.markdup.bai\" \\\\\n        \"${bam.baseName}.markdup.bam.bai\"\n    \"\"\"",
        "nb_lignes_script": 24,
        "language_script": "bash",
        "tools": [
            "Picard",
            "TMPD",
            "MarkDuplicates (IP)"
        ],
        "tools_url": [
            "https://bio.tools/picard_tools",
            "https://bio.tools/tmpd",
            "https://bio.tools/markduplicates_ip"
        ],
        "tools_dico": [
            {
                "name": "Picard",
                "uri": "https://bio.tools/picard_tools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Biological databases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Data management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Information systems"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Databases and information systems"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Genetic variation analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Sequence variation analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Variant analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Genetic variation annotation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "A set of command line tools for manipulating high-throughput sequencing (HTS) data in formats such as SAM/BAM/CRAM and VCF. Available as a standalone program or within the GATK4 program.",
                "homepage": "https://github.com/broadinstitute/picard"
            },
            {
                "name": "TMPD",
                "uri": "https://bio.tools/tmpd",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0780",
                            "term": "Plant biology"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0160",
                            "term": "Sequence sites, features and motifs"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0780",
                            "term": "Plant science"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0780",
                            "term": "Plants"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0780",
                            "term": "Botany"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0780",
                            "term": "Plant"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2422",
                                    "term": "Data retrieval"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2422",
                                    "term": "Data extraction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2422",
                                    "term": "Retrieval"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "The Tobacco Markers & Primers Database.",
                "homepage": "http://biodb.sdau.edu.cn/tmpd/index.html"
            },
            {
                "name": "MarkDuplicates (IP)",
                "uri": "https://bio.tools/markduplicates_ip",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0253",
                                    "term": "Sequence feature detection"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0253",
                                    "term": "Sequence feature recognition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0253",
                                    "term": "Sequence feature prediction"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0006",
                                "term": "Data"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            },
                            {
                                "uri": "http://edamontology.org/data_2048",
                                "term": "Report"
                            }
                        ]
                    }
                ],
                "description": "Marks all duplicate reads in a provided SAM or BAM file and either removes them or flags them.",
                "homepage": "https://galaxy.pasteur.fr/tool_runner?tool_id=toolshed.pasteur.fr/repos/fmareuil/picard_pasteur_wrapper/rgPicardMarkDups/1.56.0"
            }
        ],
        "inputs": [
            "bam"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "ampatchlab__nf-typeHLA",
        "directive": [
            "tag { bam.name }",
            "label 'picard'",
            "publishDir( path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\", enabled: params.publish_everything || params.publish_mark_duplicates, mode: params.publish_mode, )"
        ],
        "when": "",
        "stub": ""
    },
    "qualimap": {
        "name_process": "qualimap",
        "string_process": "\nprocess qualimap {\n\n    tag { bam.name }\n\n    label 'qualimap'\n\n    publishDir(\n        path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\",\n        enabled: params.publish_everything || params.publish_qualimap,\n        mode: params.publish_mode,\n    )\n\n    input:\n    path bam\n    path gff\n\n    output:\n    path \"${bam.baseName}\"\n\n    script:\n    def avail_mem = task.memory ? \"${task.memory.toGiga()}g\" : \"1200m\"\n    def JAVA_OPTS = \"-XX:+UseSerialGC -Xms32m -Xmx${avail_mem}\"\n\n    def feature_file = gff.name != 'null' ? /--feature-file \"${gff}\"/ : ''\n\n    \"\"\"\n    export JAVA_OPTS=\"${JAVA_OPTS}\"\n    qualimap bamqc \\\\\n        -bam \"${bam}\" \\\\\n        -nr ${params.num_reads} \\\\\n        -nt ${task.cpus} \\\\\n        -nw ${params.num_windows} \\\\\n        -outdir \"${bam.baseName}\" \\\\\n        ${feature_file} \\\\\n        --paint-chromosome-limits \\\\\n        --collect-overlap-pairs \\\\\n        --skip-duplicated\n    \"\"\"\n}",
        "nb_lignes_process": 38,
        "string_script": "    def avail_mem = task.memory ? \"${task.memory.toGiga()}g\" : \"1200m\"\n    def JAVA_OPTS = \"-XX:+UseSerialGC -Xms32m -Xmx${avail_mem}\"\n\n    def feature_file = gff.name != 'null' ? /--feature-file \"${gff}\"/ : ''\n\n    \"\"\"\n    export JAVA_OPTS=\"${JAVA_OPTS}\"\n    qualimap bamqc \\\\\n        -bam \"${bam}\" \\\\\n        -nr ${params.num_reads} \\\\\n        -nt ${task.cpus} \\\\\n        -nw ${params.num_windows} \\\\\n        -outdir \"${bam.baseName}\" \\\\\n        ${feature_file} \\\\\n        --paint-chromosome-limits \\\\\n        --collect-overlap-pairs \\\\\n        --skip-duplicated\n    \"\"\"",
        "nb_lignes_script": 17,
        "language_script": "bash",
        "tools": [
            "QualiMap"
        ],
        "tools_url": [
            "https://bio.tools/qualimap"
        ],
        "tools_dico": [
            {
                "name": "QualiMap",
                "uri": "https://bio.tools/qualimap",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3572",
                            "term": "Data quality management"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality control"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing QC"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality assessment"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Platform-independent application written in Java and R that provides both a Graphical User Inteface (GUI) and a command-line interface to facilitate the quality control of alignment sequencing data.",
                "homepage": "http://qualimap.bioinfo.cipf.es/"
            }
        ],
        "inputs": [
            "bam",
            "gff"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "ampatchlab__nf-typeHLA",
        "directive": [
            "tag { bam.name }",
            "label 'qualimap'",
            "publishDir( path: \"${params.publish_dir}/${task.process.replaceAll(':', '/')}\", enabled: params.publish_everything || params.publish_qualimap, mode: params.publish_mode, )"
        ],
        "when": "",
        "stub": ""
    }
}