{
    "kallisto_quant": {
        "name_process": "kallisto_quant",
        "string_process": "process kallisto_quant {\n\ttag \"${sample_id}\"\n\tlabel 'small'\n\tpublishDir \"${params.out}/kallisto\", mode: 'copy'\n\tcpus \"$params.cpus\"\n  conda \"$baseDir/conda-envs/kallisto-env.yaml\"\n\n  input:\n  \tpath transcriptome_idx\n    tuple val(sample_id), file(reads)\n  output:\n    path sample_id\n  script:\n  \t\"\"\"\n    kallisto quant \\\n\t\t-t ${task.cpus} \\\n\t\t-i $transcriptome_idx \\\n\t\t-o $sample_id ${reads[0]} ${reads[1]} \\\n\t\t&> ${sample_id}.log\n\n    mv ${sample_id}.log ${sample_id}/\n    \"\"\"\n}",
        "nb_lignes_process": 21,
        "string_script": "  \t\"\"\"\n    kallisto quant \\\n\t\t-t ${task.cpus} \\\n\t\t-i $transcriptome_idx \\\n\t\t-o $sample_id ${reads[0]} ${reads[1]} \\\n\t\t&> ${sample_id}.log\n\n    mv ${sample_id}.log ${sample_id}/\n    \"\"\"",
        "nb_lignes_script": 8,
        "language_script": "bash",
        "tools": [
            "kallisto"
        ],
        "tools_url": [
            "https://bio.tools/kallisto"
        ],
        "tools_dico": [
            {
                "name": "kallisto",
                "uri": "https://bio.tools/kallisto",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Gene expression"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Expression"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression profiling"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Functional profiling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression profile construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Feature expression analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene transcription profiling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression quantification"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression profile generation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "A program for quantifying abundances of transcripts from RNA-Seq data, or more generally of target sequences using high-throughput sequencing reads. It is based on the novel idea of pseudoalignment for rapidly determining the compatibility of reads with targets, without the need for alignment.",
                "homepage": "https://pachterlab.github.io/kallisto/about.html"
            }
        ],
        "inputs": [
            "transcriptome_idx",
            "sample_id",
            "reads"
        ],
        "nb_inputs": 3,
        "outputs": [
            "sample_id"
        ],
        "nb_outputs": 1,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"${sample_id}\"",
            "label 'small'",
            "publishDir \"${params.out}/kallisto\", mode: 'copy'",
            "cpus \"$params.cpus\"",
            "conda \"$baseDir/conda-envs/kallisto-env.yaml\""
        ],
        "when": "",
        "stub": ""
    },
    "salmon_quant": {
        "name_process": "salmon_quant",
        "string_process": "process salmon_quant {\n\ttag \"${sample_id}\"\n\tlabel 'small'\n\tpublishDir \"${params.out}/salmon\", mode: 'copy'\n\tcpus \"$params.cpus\"\n  conda \"$baseDir/conda-envs/salmon-env.yaml\"\n\n  input:\n  \tpath transcriptome_idx\n    tuple val(sample_id), file(reads)\n  output:\n    path sample_id\n  script:\n    \"\"\"\n    salmon quant \\\n\t\t--libType A \\\n\t\t--validateMappings \\\n\t\t-p ${task.cpus} \\\n\t\t-i $transcriptome_idx \\\n\t\t-1 ${reads[0]} \\\n\t\t-2 ${reads[1]} \\\n\t\t-o $sample_id\n    \"\"\"\n}",
        "nb_lignes_process": 22,
        "string_script": "    \"\"\"\n    salmon quant \\\n\t\t--libType A \\\n\t\t--validateMappings \\\n\t\t-p ${task.cpus} \\\n\t\t-i $transcriptome_idx \\\n\t\t-1 ${reads[0]} \\\n\t\t-2 ${reads[1]} \\\n\t\t-o $sample_id\n    \"\"\"",
        "nb_lignes_script": 9,
        "language_script": "bash",
        "tools": [
            "Salmon"
        ],
        "tools_url": [
            "https://bio.tools/salmon"
        ],
        "tools_dico": [
            {
                "name": "Salmon",
                "uri": "https://bio.tools/salmon",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Gene expression"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Expression"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2495",
                                    "term": "Expression analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3800",
                                    "term": "RNA-Seq quantification"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0236",
                                    "term": "Sequence composition calculation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2495",
                                    "term": "Expression data analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3800",
                                    "term": "RNA-Seq quantitation"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_3496",
                                "term": "RNA sequence (raw)"
                            },
                            {
                                "uri": "http://edamontology.org/data_2093",
                                "term": "Data reference"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2048",
                                "term": "Report"
                            }
                        ]
                    }
                ],
                "description": "A tool for transcript expression quantification from RNA-seq data",
                "homepage": "https://github.com/COMBINE-lab/salmon"
            }
        ],
        "inputs": [
            "transcriptome_idx",
            "sample_id",
            "reads"
        ],
        "nb_inputs": 3,
        "outputs": [
            "sample_id"
        ],
        "nb_outputs": 1,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"${sample_id}\"",
            "label 'small'",
            "publishDir \"${params.out}/salmon\", mode: 'copy'",
            "cpus \"$params.cpus\"",
            "conda \"$baseDir/conda-envs/salmon-env.yaml\""
        ],
        "when": "",
        "stub": ""
    },
    "run_fastpSE": {
        "name_process": "run_fastpSE",
        "string_process": "process run_fastpSE {\ntag \"$sample_id\"\nlabel 'small_plus'\ncpus \"$params.cpus\"\npublishDir \"${params.out}/fastp_qc\", mode: 'copy', pattern: '*.json'\npublishDir path: { params.save_trimmed ? \"${params.out}/trimmed\" : params.out },\n            mode: 'copy', saveAs: { params.save_index ? it : null }, pattern: '*.fastq.gz'\nconda \"$baseDir/conda-envs/trim-env.yaml\"\n\nwhen:\n  !skip_trim\ninput:\n  file reads\noutput:\n  path \"trim_*\", emit: trimmed\n  path \"*.json\", emit: json\nscript:\n  \"\"\"\n  fastp \\\n  -w ${task.cpus} \\\n  -i ${reads} \\\n  -o trim_${reads} \\\n  --overrepresentation_analysis \\\n  --json ${reads.simpleName}_fastp.json\n  \"\"\"\n}",
        "nb_lignes_process": 24,
        "string_script": "  \"\"\"\n  fastp \\\n  -w ${task.cpus} \\\n  -i ${reads} \\\n  -o trim_${reads} \\\n  --overrepresentation_analysis \\\n  --json ${reads.simpleName}_fastp.json\n  \"\"\"",
        "nb_lignes_script": 7,
        "language_script": "bash",
        "tools": [
            "fastPHASE"
        ],
        "tools_url": [
            "https://bio.tools/fastphase"
        ],
        "tools_dico": [
            {
                "name": "fastPHASE",
                "uri": "https://bio.tools/fastphase",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3056",
                            "term": "Population genetics"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3454",
                                    "term": "Phasing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3557",
                                    "term": "Imputation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3557",
                                    "term": "Data imputation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "fastPHASE is a program to estimate missing genotypes and unobserved haplotypes. It is an implementation of the model described in Scheet & Stephens (2006). This is a cluster-based model for haplotype variation, and gains its utility from implicitly modeling the genealogy of chromosomes in a random sample from a population as a tree but summarizing all haplotype variation in the \"tips\" of the trees.",
                "homepage": "http://scheet.org/software.html"
            }
        ],
        "inputs": [
            "reads"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$sample_id\"",
            "label 'small_plus'",
            "cpus \"$params.cpus\"",
            "publishDir \"${params.out}/fastp_qc\", mode: 'copy', pattern: '*.json'",
            "publishDir path: { params.save_trimmed ? \"${params.out}/trimmed\" : params.out } , mode: 'copy', saveAs: { params.save_index ? it : null }, pattern: '*.fastq.gz'",
            "conda \"$baseDir/conda-envs/trim-env.yaml\""
        ],
        "when": "!skip_trim",
        "stub": ""
    },
    "star_idx": {
        "name_process": "star_idx",
        "string_process": "process star_idx {\n  tag \"$genome\"\n  label 'small_plus'\n  cpus \"$params.cpus\"\n  publishDir path: { params.save_index ? \"${params.out}/star_index\" : params.out },\n             mode: 'copy', saveAs: { params.save_index ? it : null }\n  conda \"$baseDir/conda-envs/star-env.yaml\"\n\n  input:\n    path genome\n    path gtf\n  output:\n    path \"${genome.simpleName}_idx\"\n  script:\n    \"\"\"\n\t\tmkdir ${genome.simpleName}_idx\n    STAR --runMode genomeGenerate \\\n    --runThreadN ${task.cpus} \\\n    --genomeDir ${genome.simpleName}_idx \\\n    --genomeFastaFiles $genome \\\n    --sjdbGTFfile $gtf \\\n    --sjdbGTFfeatureExon \"${params.sjdbGTFfeatureExon}\"\n    \"\"\"\n}",
        "nb_lignes_process": 22,
        "string_script": "    \"\"\"\n\t\tmkdir ${genome.simpleName}_idx\n    STAR --runMode genomeGenerate \\\n    --runThreadN ${task.cpus} \\\n    --genomeDir ${genome.simpleName}_idx \\\n    --genomeFastaFiles $genome \\\n    --sjdbGTFfile $gtf \\\n    --sjdbGTFfeatureExon \"${params.sjdbGTFfeatureExon}\"\n    \"\"\"",
        "nb_lignes_script": 8,
        "language_script": "bash",
        "tools": [
            "STAR"
        ],
        "tools_url": [
            "https://bio.tools/star"
        ],
        "tools_dico": [
            {
                "name": "STAR",
                "uri": "https://bio.tools/star",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Ultrafast universal RNA-seq aligner",
                "homepage": "http://code.google.com/p/rna-star/"
            }
        ],
        "inputs": [
            "genome",
            "gtf"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$genome\"",
            "label 'small_plus'",
            "cpus \"$params.cpus\"",
            "publishDir path: { params.save_index ? \"${params.out}/star_index\" : params.out } , mode: 'copy', saveAs: { params.save_index ? it : null }",
            "conda \"$baseDir/conda-envs/star-env.yaml\""
        ],
        "when": "",
        "stub": ""
    },
    "run_fastqcSE": {
        "name_process": "run_fastqcSE",
        "string_process": "process run_fastqcSE {\n        tag \"$reads.simpleName\"\n        cpus \"$params.cpus\"\n\n\tpublishDir \"${params.out}/fastqc\", mode: 'copy'\n\n        conda \"$baseDir/conda-envs/fastqc-env.yaml\"\n\n        when:\n\t\t!params.skip_qc\n\tinput:\n                path reads\n        output:\n                path 'fastqc_*'\n        script:\n                \"\"\"\n                mkdir fastqc_${reads.simpleName}\n\t\tfastqc -t ${task.cpus} -o fastqc_${reads.simpleName} $reads\n                \"\"\"\n}",
        "nb_lignes_process": 18,
        "string_script": "                \"\"\"\n                mkdir fastqc_${reads.simpleName}\n\t\tfastqc -t ${task.cpus} -o fastqc_${reads.simpleName} $reads\n                \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [
            "FastQC"
        ],
        "tools_url": [
            "https://bio.tools/fastqc"
        ],
        "tools_dico": [
            {
                "name": "FastQC",
                "uri": "https://bio.tools/fastqc",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3572",
                            "term": "Data quality management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical calculation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality control"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0236",
                                    "term": "Sequence composition calculation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Significance testing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical testing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical test"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing QC"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality assessment"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0848",
                                "term": "Raw sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2955",
                                "term": "Sequence report"
                            }
                        ]
                    }
                ],
                "description": "This tool aims to provide a QC report which can spot problems or biases which originate either in the sequencer or in the starting library material. It can be run in one of two modes. It can either run as a stand alone interactive application for the immediate analysis of small numbers of FastQ files, or it can be run in a non-interactive mode where it would be suitable for integrating into a larger analysis pipeline for the systematic processing of large numbers of files.",
                "homepage": "http://www.bioinformatics.babraham.ac.uk/projects/fastqc/"
            }
        ],
        "inputs": [
            "reads"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$reads.simpleName\"",
            "cpus \"$params.cpus\"",
            "publishDir \"${params.out}/fastqc\", mode: 'copy'",
            "conda \"$baseDir/conda-envs/fastqc-env.yaml\""
        ],
        "when": "!params.skip_qc",
        "stub": ""
    },
    "run_fastp": {
        "name_process": "run_fastp",
        "string_process": "process run_fastp {\ntag \"$sample_id\"\nlabel 'small_plus'\ncpus \"$params.cpus\"\npublishDir \"${params.out}/fastp_qc\", mode: 'copy', pattern: '*.json'\npublishDir path: { params.save_trimmed ? \"${params.out}/trimmed\" : params.out },\n            mode: 'copy', saveAs: { params.save_index ? it : null }, pattern: '*.fastq.gz'\nconda \"$baseDir/conda-envs/trim-env.yaml\"\n\nwhen:\n  !skip_trim\ninput:\n  tuple val(sample_id), file(reads)\noutput:\n  tuple val(sample_id), file(\"trim_*\"), emit: trimmed\n  path \"*.json\", emit: json\nscript:\n\n  \"\"\"\n  fastp \\\n  -w ${task.cpus} \\\n  -i ${reads[0]} \\\n  -I ${reads[1]} \\\n  -o trim_${reads[0]} \\\n  -O trim_${reads[1]} \\\n  --detect_adapter_for_pe \\\n  --overrepresentation_analysis \\\n  --json ${sample_id}_fastp.json\n  \"\"\"\n}",
        "nb_lignes_process": 28,
        "string_script": "  \"\"\"\n  fastp \\\n  -w ${task.cpus} \\\n  -i ${reads[0]} \\\n  -I ${reads[1]} \\\n  -o trim_${reads[0]} \\\n  -O trim_${reads[1]} \\\n  --detect_adapter_for_pe \\\n  --overrepresentation_analysis \\\n  --json ${sample_id}_fastp.json\n  \"\"\"",
        "nb_lignes_script": 10,
        "language_script": "bash",
        "tools": [
            "fastPHASE"
        ],
        "tools_url": [
            "https://bio.tools/fastphase"
        ],
        "tools_dico": [
            {
                "name": "fastPHASE",
                "uri": "https://bio.tools/fastphase",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3056",
                            "term": "Population genetics"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3454",
                                    "term": "Phasing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3557",
                                    "term": "Imputation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3557",
                                    "term": "Data imputation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "fastPHASE is a program to estimate missing genotypes and unobserved haplotypes. It is an implementation of the model described in Scheet & Stephens (2006). This is a cluster-based model for haplotype variation, and gains its utility from implicitly modeling the genealogy of chromosomes in a random sample from a population as a tree but summarizing all haplotype variation in the \"tips\" of the trees.",
                "homepage": "http://scheet.org/software.html"
            }
        ],
        "inputs": [
            "sample_id",
            "reads"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$sample_id\"",
            "label 'small_plus'",
            "cpus \"$params.cpus\"",
            "publishDir \"${params.out}/fastp_qc\", mode: 'copy', pattern: '*.json'",
            "publishDir path: { params.save_trimmed ? \"${params.out}/trimmed\" : params.out } , mode: 'copy', saveAs: { params.save_index ? it : null }, pattern: '*.fastq.gz'",
            "conda \"$baseDir/conda-envs/trim-env.yaml\""
        ],
        "when": "!skip_trim",
        "stub": ""
    },
    "run_fastpSE_qc": {
        "name_process": "run_fastpSE_qc",
        "string_process": "process run_fastpSE_qc {\ntag \"$sample_id\"\nlabel 'small_plus'\ncpus \"$params.cpus\"\npublishDir \"${params.out}/fastp_qc\", mode: 'copy', pattern: '*.json'\nconda \"$baseDir/conda-envs/trim-env.yaml\"\n\nwhen:\n  !skip_qc\ninput:\n  file reads\noutput:\n  path \"*.json\", emit: json\nscript:\n  \"\"\"\n  fastp \\\n  -w ${task.cpus} \\\n  -i ${reads} \\\n  --overrepresentation_analysis \\\n  --json ${reads.simpleName}_fastp.json\n  \"\"\"\n}",
        "nb_lignes_process": 20,
        "string_script": "  \"\"\"\n  fastp \\\n  -w ${task.cpus} \\\n  -i ${reads} \\\n  --overrepresentation_analysis \\\n  --json ${reads.simpleName}_fastp.json\n  \"\"\"",
        "nb_lignes_script": 6,
        "language_script": "bash",
        "tools": [
            "fastPHASE"
        ],
        "tools_url": [
            "https://bio.tools/fastphase"
        ],
        "tools_dico": [
            {
                "name": "fastPHASE",
                "uri": "https://bio.tools/fastphase",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3056",
                            "term": "Population genetics"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3454",
                                    "term": "Phasing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3557",
                                    "term": "Imputation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3557",
                                    "term": "Data imputation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "fastPHASE is a program to estimate missing genotypes and unobserved haplotypes. It is an implementation of the model described in Scheet & Stephens (2006). This is a cluster-based model for haplotype variation, and gains its utility from implicitly modeling the genealogy of chromosomes in a random sample from a population as a tree but summarizing all haplotype variation in the \"tips\" of the trees.",
                "homepage": "http://scheet.org/software.html"
            }
        ],
        "inputs": [
            "reads"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$sample_id\"",
            "label 'small_plus'",
            "cpus \"$params.cpus\"",
            "publishDir \"${params.out}/fastp_qc\", mode: 'copy', pattern: '*.json'",
            "conda \"$baseDir/conda-envs/trim-env.yaml\""
        ],
        "when": "!skip_qc",
        "stub": ""
    },
    "run_multiqc": {
        "name_process": "run_multiqc",
        "string_process": "process run_multiqc {\n  conda \"$baseDir/conda-envs/multiqc-env.yaml\"\n \tpublishDir \"${params.out}\", mode: 'move'\n  when:\n    !params.skip_multiqc\n\tinput:\n\t\tpath('*')\n\t\tpath config\n  output:\n    path 'multiqc*html'\n  script:\n    \"\"\"\n    export LC_ALL=en_US.utf8\n    multiqc $launchDir/$config/\n    \"\"\"\n}",
        "nb_lignes_process": 14,
        "string_script": "    \"\"\"\n    export LC_ALL=en_US.utf8\n    multiqc $launchDir/$config/\n    \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [
            "MultiQC"
        ],
        "tools_url": [
            "https://bio.tools/multiqc"
        ],
        "tools_dico": [
            {
                "name": "MultiQC",
                "uri": "https://bio.tools/multiqc",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0091",
                            "term": "Bioinformatics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2428",
                                    "term": "Validation"
                                }
                            ],
                            []
                        ],
                        "input": [],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2048",
                                "term": "Report"
                            }
                        ]
                    }
                ],
                "description": "MultiQC aggregates results from multiple bioinformatics analyses across many samples into a single report. It searches a given directory for analysis logs and compiles a HTML report. It's a general use tool, perfect for summarising the output from numerous bioinformatics tools.",
                "homepage": "http://multiqc.info/"
            }
        ],
        "inputs": [
            "config"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "conda \"$baseDir/conda-envs/multiqc-env.yaml\"",
            "publishDir \"${params.out}\", mode: 'move'"
        ],
        "when": "!params.skip_multiqc",
        "stub": ""
    },
    "collect_starSE": {
        "name_process": "collect_starSE",
        "string_process": "process collect_starSE {\n  tag \"$bam\"\n  label 'small'\n  cpus \"$params.cpus\"\n\n\tpublishDir \"${params.out}/featureCounts\", mode: 'copy'\n\n  conda \"$baseDir/conda-envs/subread-env.yaml\"\n\n\tinput:\n\t  path bam\n\t  path gtf\n  output:\n    path \"${bam}_gene.featureCounts.txt*\"\n  script:\n    \"\"\"\n    featureCounts \\\n    -T ${task.cpus} \\\n    -s ${params.featureCounts_direction} \\\n    -a $gtf \\\n    -o ${bam}_gene.featureCounts.txt \\\n    ${bam}/*.out.bam\n    \"\"\"\n\n}",
        "nb_lignes_process": 23,
        "string_script": "    \"\"\"\n    featureCounts \\\n    -T ${task.cpus} \\\n    -s ${params.featureCounts_direction} \\\n    -a $gtf \\\n    -o ${bam}_gene.featureCounts.txt \\\n    ${bam}/*.out.bam\n    \"\"\"",
        "nb_lignes_script": 7,
        "language_script": "bash",
        "tools": [
            "FeatureCounts"
        ],
        "tools_url": [
            "https://bio.tools/featurecounts"
        ],
        "tools_dico": [
            {
                "name": "FeatureCounts",
                "uri": "https://bio.tools/featurecounts",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3793",
                                    "term": "Read summarisation"
                                }
                            ],
                            []
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "featureCounts is a very efficient read quantifier. It can be used to summarize RNA-seq reads and gDNA-seq reads to a variety of genomic features such as genes, exons, promoters, gene bodies and genomic bins. It is included in the Bioconductor Rsubread package and also in the SourceForge Subread package.",
                "homepage": "http://bioconductor.org/packages/release/bioc/html/Rsubread.html"
            }
        ],
        "inputs": [
            "bam",
            "gtf"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$bam\"",
            "label 'small'",
            "cpus \"$params.cpus\"",
            "publishDir \"${params.out}/featureCounts\", mode: 'copy'",
            "conda \"$baseDir/conda-envs/subread-env.yaml\""
        ],
        "when": "",
        "stub": ""
    },
    "run_fastp_qc": {
        "name_process": "run_fastp_qc",
        "string_process": "process run_fastp_qc {\ntag \"$sample_id\"\nlabel 'small_plus'\ncpus \"$params.cpus\"\npublishDir \"${params.out}/fastp_qc\", mode: 'copy', pattern: '*.json'\nconda \"$baseDir/conda-envs/trim-env.yaml\"\n\nwhen:\n  !kip_qc\ninput:\n  tuple val(sample_id), file(reads)\noutput:\n  path \"*.json\", emit: json\nscript:\n  \"\"\"\n  fastp \\\n  -w ${task.cpus} \\\n  -i ${reads[0]} \\\n  -I ${reads[1]} \\\n  --overrepresentation_analysis \\\n  --json ${sample_id}_fastp.json\n  \"\"\"\n}",
        "nb_lignes_process": 21,
        "string_script": "  \"\"\"\n  fastp \\\n  -w ${task.cpus} \\\n  -i ${reads[0]} \\\n  -I ${reads[1]} \\\n  --overrepresentation_analysis \\\n  --json ${sample_id}_fastp.json\n  \"\"\"",
        "nb_lignes_script": 7,
        "language_script": "bash",
        "tools": [
            "fastPHASE"
        ],
        "tools_url": [
            "https://bio.tools/fastphase"
        ],
        "tools_dico": [
            {
                "name": "fastPHASE",
                "uri": "https://bio.tools/fastphase",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3056",
                            "term": "Population genetics"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3454",
                                    "term": "Phasing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3557",
                                    "term": "Imputation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3557",
                                    "term": "Data imputation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "fastPHASE is a program to estimate missing genotypes and unobserved haplotypes. It is an implementation of the model described in Scheet & Stephens (2006). This is a cluster-based model for haplotype variation, and gains its utility from implicitly modeling the genealogy of chromosomes in a random sample from a population as a tree but summarizing all haplotype variation in the \"tips\" of the trees.",
                "homepage": "http://scheet.org/software.html"
            }
        ],
        "inputs": [
            "sample_id",
            "reads"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$sample_id\"",
            "label 'small_plus'",
            "cpus \"$params.cpus\"",
            "publishDir \"${params.out}/fastp_qc\", mode: 'copy', pattern: '*.json'",
            "conda \"$baseDir/conda-envs/trim-env.yaml\""
        ],
        "when": "!kip_qc",
        "stub": ""
    },
    "salmon_idx": {
        "name_process": "salmon_idx",
        "string_process": "process salmon_idx {\n  tag \"$transcriptome\"\n  label 'small'\n  cpus \"$params.cpus\"\n  publishDir path: { params.save_index ? \"${params.out}/salmon_index\" : params.out },\n              mode: 'copy', saveAs: { params.save_index ? it : null }\n  conda \"$baseDir/conda-envs/salmon-env.yaml\"\n\n  input:\n    path transcriptome\n  output:\n    path 'index'\n  script:\n    \"\"\"\n    salmon index -p ${task.cpus} -t $transcriptome -i index\n    \"\"\"\n}",
        "nb_lignes_process": 15,
        "string_script": "    \"\"\"\n    salmon index -p ${task.cpus} -t $transcriptome -i index\n    \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "Salmon"
        ],
        "tools_url": [
            "https://bio.tools/salmon"
        ],
        "tools_dico": [
            {
                "name": "Salmon",
                "uri": "https://bio.tools/salmon",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Gene expression"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Expression"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2495",
                                    "term": "Expression analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3800",
                                    "term": "RNA-Seq quantification"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0236",
                                    "term": "Sequence composition calculation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2495",
                                    "term": "Expression data analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3800",
                                    "term": "RNA-Seq quantitation"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_3496",
                                "term": "RNA sequence (raw)"
                            },
                            {
                                "uri": "http://edamontology.org/data_2093",
                                "term": "Data reference"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2048",
                                "term": "Report"
                            }
                        ]
                    }
                ],
                "description": "A tool for transcript expression quantification from RNA-seq data",
                "homepage": "https://github.com/COMBINE-lab/salmon"
            }
        ],
        "inputs": [
            "transcriptome"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$transcriptome\"",
            "label 'small'",
            "cpus \"$params.cpus\"",
            "publishDir path: { params.save_index ? \"${params.out}/salmon_index\" : params.out } , mode: 'copy', saveAs: { params.save_index ? it : null }",
            "conda \"$baseDir/conda-envs/salmon-env.yaml\""
        ],
        "when": "",
        "stub": ""
    },
    "kallisto_quantSE": {
        "name_process": "kallisto_quantSE",
        "string_process": "process kallisto_quantSE {\n\ttag \"$reads.simpleName\"\n\tlabel 'small'\n\tpublishDir \"${params.out}/kallisto\", mode: 'copy'\n\tcpus \"$params.cpus\"\n  conda \"$baseDir/conda-envs/kallisto-env.yaml\"\n\n  input:\n  \tpath transcriptome_idx\n    path reads\n  output:\n    path \"$reads.simpleName\"\n  script:\n    \"\"\"\n    kallisto quant \\\n\t\t-t ${task.cpus} \\\n\t\t--single \\\n\t\t-l ${params.fragment_length} \\\n\t\t-s ${params.fragment_sd} \\\n\t\t-i $transcriptome_idx \\\n\t\t-o $reads.simpleName ${reads} \\\n\t\t&> ${reads.simpleName}.log\n\n    mv ${reads.simpleName}.log ${reads.simpleName}/\n    \"\"\"\n}",
        "nb_lignes_process": 24,
        "string_script": "    \"\"\"\n    kallisto quant \\\n\t\t-t ${task.cpus} \\\n\t\t--single \\\n\t\t-l ${params.fragment_length} \\\n\t\t-s ${params.fragment_sd} \\\n\t\t-i $transcriptome_idx \\\n\t\t-o $reads.simpleName ${reads} \\\n\t\t&> ${reads.simpleName}.log\n\n    mv ${reads.simpleName}.log ${reads.simpleName}/\n    \"\"\"",
        "nb_lignes_script": 11,
        "language_script": "bash",
        "tools": [
            "kallisto"
        ],
        "tools_url": [
            "https://bio.tools/kallisto"
        ],
        "tools_dico": [
            {
                "name": "kallisto",
                "uri": "https://bio.tools/kallisto",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Gene expression"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Expression"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression profiling"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Functional profiling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression profile construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Feature expression analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene transcription profiling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression quantification"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression profile generation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "A program for quantifying abundances of transcripts from RNA-Seq data, or more generally of target sequences using high-throughput sequencing reads. It is based on the novel idea of pseudoalignment for rapidly determining the compatibility of reads with targets, without the need for alignment.",
                "homepage": "https://pachterlab.github.io/kallisto/about.html"
            }
        ],
        "inputs": [
            "transcriptome_idx",
            "reads"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$reads.simpleName\"",
            "label 'small'",
            "publishDir \"${params.out}/kallisto\", mode: 'copy'",
            "cpus \"$params.cpus\"",
            "conda \"$baseDir/conda-envs/kallisto-env.yaml\""
        ],
        "when": "",
        "stub": ""
    },
    "star_align": {
        "name_process": "star_align",
        "string_process": "process star_align {\n\ttag \"$sample_id\"\n\tlabel 'small_plus'\n\tpublishDir \"${params.out}/star\", mode: 'copy'\n\tcpus \"$params.cpus\"\n  conda \"$baseDir/conda-envs/star-env.yaml\"\n\n  input:\n    path genome_idx\n    tuple val(sample_id), file(reads)\n  output:\n    path sample_id\n  script:\n    \"\"\"\n    mkdir $sample_id\n    STAR \\\n\t\t--runThreadN $task.cpus \\\n\t\t--genomeDir $genome_idx \\\n\t\t--readFilesIn $reads \\\n\t\t--readFilesCommand zcat \\\n\t\t--outFileNamePrefix ${sample_id}/${sample_id}_ \\\n\t\t--quantMode GeneCounts \\\n\t\t--outSAMtype BAM SortedByCoordinate\n\t\t\"\"\"\n}",
        "nb_lignes_process": 23,
        "string_script": "    \"\"\"\n    mkdir $sample_id\n    STAR \\\n\t\t--runThreadN $task.cpus \\\n\t\t--genomeDir $genome_idx \\\n\t\t--readFilesIn $reads \\\n\t\t--readFilesCommand zcat \\\n\t\t--outFileNamePrefix ${sample_id}/${sample_id}_ \\\n\t\t--quantMode GeneCounts \\\n\t\t--outSAMtype BAM SortedByCoordinate\n\t\t\"\"\"",
        "nb_lignes_script": 10,
        "language_script": "bash",
        "tools": [
            "STAR"
        ],
        "tools_url": [
            "https://bio.tools/star"
        ],
        "tools_dico": [
            {
                "name": "STAR",
                "uri": "https://bio.tools/star",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Ultrafast universal RNA-seq aligner",
                "homepage": "http://code.google.com/p/rna-star/"
            }
        ],
        "inputs": [
            "genome_idx",
            "sample_id",
            "reads"
        ],
        "nb_inputs": 3,
        "outputs": [
            "sample_id"
        ],
        "nb_outputs": 1,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$sample_id\"",
            "label 'small_plus'",
            "publishDir \"${params.out}/star\", mode: 'copy'",
            "cpus \"$params.cpus\"",
            "conda \"$baseDir/conda-envs/star-env.yaml\""
        ],
        "when": "",
        "stub": ""
    },
    "collect_star": {
        "name_process": "collect_star",
        "string_process": "process collect_star {\n  tag \"$bam\"\n  label 'small'\n  cpus \"$params.cpus\"\n\n\tpublishDir \"${params.out}/featureCounts\", mode: 'copy'\n\n  conda \"$baseDir/conda-envs/subread-env.yaml\"\n\n\tinput:\n\t  path bam\n\t  path gtf\n  output:\n    path \"${bam}_gene.featureCounts.txt*\"\n  script:\n    \"\"\"\n    featureCounts \\\n    -p \\\n    -T ${task.cpus} \\\n    -s ${params.featureCounts_direction} \\\n    -a $gtf \\\n    -o ${bam}_gene.featureCounts.txt \\\n    ${bam}/*.out.bam\n    \"\"\"\n\n}",
        "nb_lignes_process": 24,
        "string_script": "    \"\"\"\n    featureCounts \\\n    -p \\\n    -T ${task.cpus} \\\n    -s ${params.featureCounts_direction} \\\n    -a $gtf \\\n    -o ${bam}_gene.featureCounts.txt \\\n    ${bam}/*.out.bam\n    \"\"\"",
        "nb_lignes_script": 8,
        "language_script": "bash",
        "tools": [
            "FeatureCounts"
        ],
        "tools_url": [
            "https://bio.tools/featurecounts"
        ],
        "tools_dico": [
            {
                "name": "FeatureCounts",
                "uri": "https://bio.tools/featurecounts",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3793",
                                    "term": "Read summarisation"
                                }
                            ],
                            []
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "featureCounts is a very efficient read quantifier. It can be used to summarize RNA-seq reads and gDNA-seq reads to a variety of genomic features such as genes, exons, promoters, gene bodies and genomic bins. It is included in the Bioconductor Rsubread package and also in the SourceForge Subread package.",
                "homepage": "http://bioconductor.org/packages/release/bioc/html/Rsubread.html"
            }
        ],
        "inputs": [
            "bam",
            "gtf"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$bam\"",
            "label 'small'",
            "cpus \"$params.cpus\"",
            "publishDir \"${params.out}/featureCounts\", mode: 'copy'",
            "conda \"$baseDir/conda-envs/subread-env.yaml\""
        ],
        "when": "",
        "stub": ""
    },
    "kallisto_idx": {
        "name_process": "kallisto_idx",
        "string_process": "\nprocess kallisto_idx {\n  tag \"$transcriptome\"\n  publishDir path: { params.save_index ? \"${params.out}/kallisto_index\" : params.out },\n             mode: 'copy', saveAs: { params.save_index ? it : null }\n  conda \"$baseDir/conda-envs/kallisto-env.yaml\"\n\n  input:\n    path transcriptome\n  output:\n    path 'index'\n  script:\n    \"\"\"\n    kallisto index -i index $transcriptome\n    \"\"\"\n}",
        "nb_lignes_process": 14,
        "string_script": "    \"\"\"\n    kallisto index -i index $transcriptome\n    \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "kallisto"
        ],
        "tools_url": [
            "https://bio.tools/kallisto"
        ],
        "tools_dico": [
            {
                "name": "kallisto",
                "uri": "https://bio.tools/kallisto",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Gene expression"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Expression"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression profiling"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Functional profiling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression profile construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Feature expression analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene transcription profiling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression quantification"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0314",
                                    "term": "Gene expression profile generation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "A program for quantifying abundances of transcripts from RNA-Seq data, or more generally of target sequences using high-throughput sequencing reads. It is based on the novel idea of pseudoalignment for rapidly determining the compatibility of reads with targets, without the need for alignment.",
                "homepage": "https://pachterlab.github.io/kallisto/about.html"
            }
        ],
        "inputs": [
            "transcriptome"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$transcriptome\"",
            "publishDir path: { params.save_index ? \"${params.out}/kallisto_index\" : params.out } , mode: 'copy', saveAs: { params.save_index ? it : null }",
            "conda \"$baseDir/conda-envs/kallisto-env.yaml\""
        ],
        "when": "",
        "stub": ""
    },
    "star_alignSE": {
        "name_process": "star_alignSE",
        "string_process": "process star_alignSE {\n\ttag \"$reads.simpleName\"\n\tlabel 'small_plus'\n\tpublishDir \"${params.out}/star\", mode: 'copy'\n\tcpus \"$params.cpus\"\n  conda \"$baseDir/conda-envs/star-env.yaml\"\n\n  input:\n\t\tpath genome_idx\n    path reads\n  output:\n    path \"$reads.simpleName\"\n  script:\n    \"\"\"\n    mkdir \"${reads.simpleName}\"\n    STAR \\\n\t\t--runThreadN $task.cpus \\\n\t\t--genomeDir $genome_idx \\\n\t\t--readFilesIn $reads \\\n\t\t--readFilesCommand zcat \\\n\t\t--outFileNamePrefix ${reads.simpleName}/${reads.simpleName}_ \\\n\t\t--quantMode GeneCounts \\\n\t\t--outSAMtype BAM SortedByCoordinate\n\t  \"\"\"\n}",
        "nb_lignes_process": 23,
        "string_script": "    \"\"\"\n    mkdir \"${reads.simpleName}\"\n    STAR \\\n\t\t--runThreadN $task.cpus \\\n\t\t--genomeDir $genome_idx \\\n\t\t--readFilesIn $reads \\\n\t\t--readFilesCommand zcat \\\n\t\t--outFileNamePrefix ${reads.simpleName}/${reads.simpleName}_ \\\n\t\t--quantMode GeneCounts \\\n\t\t--outSAMtype BAM SortedByCoordinate\n\t  \"\"\"",
        "nb_lignes_script": 10,
        "language_script": "bash",
        "tools": [
            "STAR"
        ],
        "tools_url": [
            "https://bio.tools/star"
        ],
        "tools_dico": [
            {
                "name": "STAR",
                "uri": "https://bio.tools/star",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Ultrafast universal RNA-seq aligner",
                "homepage": "http://code.google.com/p/rna-star/"
            }
        ],
        "inputs": [
            "genome_idx",
            "reads"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$reads.simpleName\"",
            "label 'small_plus'",
            "publishDir \"${params.out}/star\", mode: 'copy'",
            "cpus \"$params.cpus\"",
            "conda \"$baseDir/conda-envs/star-env.yaml\""
        ],
        "when": "",
        "stub": ""
    },
    "run_fastqc": {
        "name_process": "run_fastqc",
        "string_process": "process run_fastqc {\n  tag \"$sample_id\"\n  cpus \"$params.cpus\"\n  publishDir \"${params.out}/fastqc\", mode: 'copy'\n  conda \"$baseDir/conda-envs/fastqc-env.yaml\"\n\n\twhen:\n                !params.skip_qc\n\tinput:\n                tuple val(sample_id), file(reads)\n        output:\n                path 'fastqc_*'\n        script:\n                \"\"\"\n                mkdir fastqc_${sample_id}\n\t\tfastqc -t ${task.cpus} -o fastqc_${sample_id} $reads\n                \"\"\"\n}",
        "nb_lignes_process": 16,
        "string_script": "                \"\"\"\n                mkdir fastqc_${sample_id}\n\t\tfastqc -t ${task.cpus} -o fastqc_${sample_id} $reads\n                \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [
            "FastQC"
        ],
        "tools_url": [
            "https://bio.tools/fastqc"
        ],
        "tools_dico": [
            {
                "name": "FastQC",
                "uri": "https://bio.tools/fastqc",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3572",
                            "term": "Data quality management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical calculation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality control"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0236",
                                    "term": "Sequence composition calculation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Significance testing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical testing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical test"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing QC"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality assessment"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0848",
                                "term": "Raw sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2955",
                                "term": "Sequence report"
                            }
                        ]
                    }
                ],
                "description": "This tool aims to provide a QC report which can spot problems or biases which originate either in the sequencer or in the starting library material. It can be run in one of two modes. It can either run as a stand alone interactive application for the immediate analysis of small numbers of FastQ files, or it can be run in a non-interactive mode where it would be suitable for integrating into a larger analysis pipeline for the systematic processing of large numbers of files.",
                "homepage": "http://www.bioinformatics.babraham.ac.uk/projects/fastqc/"
            }
        ],
        "inputs": [
            "sample_id",
            "reads"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"$sample_id\"",
            "cpus \"$params.cpus\"",
            "publishDir \"${params.out}/fastqc\", mode: 'copy'",
            "conda \"$baseDir/conda-envs/fastqc-env.yaml\""
        ],
        "when": "!params.skip_qc",
        "stub": ""
    },
    "salmon_quantSE": {
        "name_process": "salmon_quantSE",
        "string_process": "process salmon_quantSE {\n\ttag \"${reads.simpleName}\"\n\tlabel 'small'\n\tpublishDir \"${params.out}/salmon\", mode: 'copy'\n\tcpus \"$params.cpus\"\n  conda \"$baseDir/conda-envs/salmon-env.yaml\"\n\n  input:\n  \tpath transcriptome_idx\n    path reads\n  output:\n    path \"$reads.simpleName\"\n  script:\n    \"\"\"\n    salmon quant \\\n\t\t--libType A \\\n\t\t--validateMappings \\\n\t\t-p ${task.cpus} \\\n\t\t-i $transcriptome_idx \\\n\t\t-r ${reads} \\\n\t\t-o $reads.simpleName\n    \"\"\"\n}",
        "nb_lignes_process": 21,
        "string_script": "    \"\"\"\n    salmon quant \\\n\t\t--libType A \\\n\t\t--validateMappings \\\n\t\t-p ${task.cpus} \\\n\t\t-i $transcriptome_idx \\\n\t\t-r ${reads} \\\n\t\t-o $reads.simpleName\n    \"\"\"",
        "nb_lignes_script": 8,
        "language_script": "bash",
        "tools": [
            "Salmon"
        ],
        "tools_url": [
            "https://bio.tools/salmon"
        ],
        "tools_dico": [
            {
                "name": "Salmon",
                "uri": "https://bio.tools/salmon",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Gene expression"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Expression"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2495",
                                    "term": "Expression analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3800",
                                    "term": "RNA-Seq quantification"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0236",
                                    "term": "Sequence composition calculation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2495",
                                    "term": "Expression data analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3800",
                                    "term": "RNA-Seq quantitation"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_3496",
                                "term": "RNA sequence (raw)"
                            },
                            {
                                "uri": "http://edamontology.org/data_2093",
                                "term": "Data reference"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2048",
                                "term": "Report"
                            }
                        ]
                    }
                ],
                "description": "A tool for transcript expression quantification from RNA-seq data",
                "homepage": "https://github.com/COMBINE-lab/salmon"
            }
        ],
        "inputs": [
            "transcriptome_idx",
            "reads"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "palfalvi__rnaseq",
        "directive": [
            "tag \"${reads.simpleName}\"",
            "label 'small'",
            "publishDir \"${params.out}/salmon\", mode: 'copy'",
            "cpus \"$params.cpus\"",
            "conda \"$baseDir/conda-envs/salmon-env.yaml\""
        ],
        "when": "",
        "stub": ""
    }
}