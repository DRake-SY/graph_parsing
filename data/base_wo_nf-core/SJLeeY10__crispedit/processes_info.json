{
    "mergeReads": {
        "name_process": "mergeReads",
        "string_process": "\nprocess mergeReads {\n\n  tag \"${fastq}.baseName\"\n\n  publishDir \"${params.out_dir}\", mode: 'copy'\n\n  input:\n  val(fastq) from Channel.fromPath(params.in_fastq)\n\n  output:\n  file(\"${fastq.baseName}.fasta\") into (in_fasta_cluster, in_fasta_dereplicate)\n\n\n  script:\n  \"\"\"\n  reformat.sh in=${fastq}  out1=${fastq.baseName}.read1.fastq out2=${fastq.baseName}.read2.fastq\n  bbmerge.sh in1=${fastq.baseName}.read1.fastq in2=${fastq.baseName}.read2.fastq out=${fastq.baseName}.merged.fq\n  reformat.sh in=${fastq.baseName}.merged.fq out=${fastq.baseName}.fasta\n  \"\"\"\n}",
        "nb_lignes_process": 19,
        "string_script": "  \"\"\"\n  reformat.sh in=${fastq}  out1=${fastq.baseName}.read1.fastq out2=${fastq.baseName}.read2.fastq\n  bbmerge.sh in1=${fastq.baseName}.read1.fastq in2=${fastq.baseName}.read2.fastq out=${fastq.baseName}.merged.fq\n  reformat.sh in=${fastq.baseName}.merged.fq out=${fastq.baseName}.fasta\n  \"\"\"",
        "nb_lignes_script": 4,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [],
        "nb_inputs": 0,
        "outputs": [
            ""
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"${fastq}.baseName\"",
            "publishDir \"${params.out_dir}\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "clustering": {
        "name_process": "clustering",
        "string_process": "\nprocess clustering {\n\n    tag \"Clustering\"\n\n    publishDir \"${params.out_dir}\", mode: 'copy'\n\n    input:\n    file fasta1 from in_fasta_cluster\n    val(reference) from Channel.fromPath(params.ref)\n\n    output:\n    file \"${fasta1.baseName}.alnout.txt\" into cluster_out\n\n\n\n    script:\n    \"\"\"\n    vsearch --usearch_global ${fasta1} --db ${reference} --id 0.9 --alnout ${fasta1.baseName}.alnout.txt\n    \"\"\"\n}",
        "nb_lignes_process": 19,
        "string_script": "    \"\"\"\n    vsearch --usearch_global ${fasta1} --db ${reference} --id 0.9 --alnout ${fasta1.baseName}.alnout.txt\n    \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "VSEARCH"
        ],
        "tools_url": [
            "https://bio.tools/vsearch"
        ],
        "tools_dico": [
            {
                "name": "VSEARCH",
                "uri": "https://bio.tools/vsearch",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3174",
                            "term": "Metagenomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2520",
                                    "term": "DNA mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0450",
                                    "term": "Chimera detection"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0450",
                                    "term": "Chimeric sequence detection"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_2977",
                                "term": "Nucleic acid sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0863",
                                "term": "Sequence alignment"
                            },
                            {
                                "uri": "http://edamontology.org/data_0865",
                                "term": "Sequence similarity score"
                            }
                        ]
                    }
                ],
                "description": "High-throughput search and clustering sequence analysis tool. It supports de novo and reference based chimera detection, clustering, full-length and prefix dereplication, reverse complementation, masking, all-vs-all pairwise global alignment, exact and global alignment searching, shuffling, subsampling and sorting. It also supports FASTQ file analysis, filtering and conversion.",
                "homepage": "https://github.com/torognes/vsearch"
            }
        ],
        "inputs": [
            "in_fasta_cluster"
        ],
        "nb_inputs": 1,
        "outputs": [
            "cluster_out"
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"Clustering\"",
            "publishDir \"${params.out_dir}\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "dereplication": {
        "name_process": "dereplication",
        "string_process": "\nprocess dereplication {\n\n    tag \"Dereplication\"\n\n    publishDir \"${params.out_dir}\", mode: 'copy'\n\n    input:\n    file fasta2 from in_fasta_dereplicate\n    val(reference) from Channel.fromPath(params.ref)\n\n    output:\n    file \"${fasta2.baseName}_unique_seqs.fa\" into dereplicate_out\n  \n    script:\n    \"\"\"\n    vsearch --derep_fulllength ${fasta2} -sizeout -output ${fasta2.baseName}_unique_seqs.fa --minuniquesize 100 --strand both\n    \"\"\"\n}",
        "nb_lignes_process": 17,
        "string_script": "    \"\"\"\n    vsearch --derep_fulllength ${fasta2} -sizeout -output ${fasta2.baseName}_unique_seqs.fa --minuniquesize 100 --strand both\n    \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "VSEARCH"
        ],
        "tools_url": [
            "https://bio.tools/vsearch"
        ],
        "tools_dico": [
            {
                "name": "VSEARCH",
                "uri": "https://bio.tools/vsearch",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3174",
                            "term": "Metagenomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2520",
                                    "term": "DNA mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0450",
                                    "term": "Chimera detection"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0450",
                                    "term": "Chimeric sequence detection"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_2977",
                                "term": "Nucleic acid sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0863",
                                "term": "Sequence alignment"
                            },
                            {
                                "uri": "http://edamontology.org/data_0865",
                                "term": "Sequence similarity score"
                            }
                        ]
                    }
                ],
                "description": "High-throughput search and clustering sequence analysis tool. It supports de novo and reference based chimera detection, clustering, full-length and prefix dereplication, reverse complementation, masking, all-vs-all pairwise global alignment, exact and global alignment searching, shuffling, subsampling and sorting. It also supports FASTQ file analysis, filtering and conversion.",
                "homepage": "https://github.com/torognes/vsearch"
            }
        ],
        "inputs": [
            "in_fasta_dereplicate"
        ],
        "nb_inputs": 1,
        "outputs": [
            "dereplicate_out"
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"Dereplication\"",
            "publishDir \"${params.out_dir}\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "mapHighFrequencyReads": {
        "name_process": "mapHighFrequencyReads",
        "string_process": "\nprocess mapHighFrequencyReads {\n\n  tag \"Mapping\"\n\n  publishDir \"${params.out_dir}\", mode: 'copy'\n\n  \n  input:\n  file uniq_seqs from dereplicate_out\n  val(reference) from Channel.fromPath(params.ref)\n\n  output:\n  file \"${uniq_seqs.baseName}.sam\" into (sam_copy1, sam_copy2)\n  \n\n  script:\n  \"\"\"\n  bwa mem ${reference} ${uniq_seqs} > ${uniq_seqs.baseName}.sam\n  \"\"\"\n}",
        "nb_lignes_process": 19,
        "string_script": "  \"\"\"\n  bwa mem ${reference} ${uniq_seqs} > ${uniq_seqs.baseName}.sam\n  \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "BWA"
        ],
        "tools_url": [
            "https://bio.tools/bwa"
        ],
        "tools_dico": [
            {
                "name": "BWA",
                "uri": "https://bio.tools/bwa",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3211",
                                    "term": "Genome indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3429",
                                    "term": "Generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Read mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3429",
                                    "term": "Construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Read alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide alignment construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short read mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short oligonucleotide alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Oligonucleotide alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short sequence read mapping"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3198",
                                    "term": "Short read alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_2044",
                                "term": "Sequence"
                            },
                            {
                                "uri": "http://edamontology.org/data_3210",
                                "term": "Genome index"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0863",
                                "term": "Sequence alignment"
                            },
                            {
                                "uri": "http://edamontology.org/data_2012",
                                "term": "Sequence coordinates"
                            },
                            {
                                "uri": "http://edamontology.org/data_1916",
                                "term": "Alignment"
                            },
                            {
                                "uri": "http://edamontology.org/data_3210",
                                "term": "Genome index"
                            }
                        ]
                    }
                ],
                "description": "Fast, accurate, memory-efficient aligner for short and long sequencing reads",
                "homepage": "http://bio-bwa.sourceforge.net"
            }
        ],
        "inputs": [
            "dereplicate_out"
        ],
        "nb_inputs": 1,
        "outputs": [
            ""
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"Mapping\"",
            "publishDir \"${params.out_dir}\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "samToBam": {
        "name_process": "samToBam",
        "string_process": "\nprocess samToBam {\n\n  tag \"SAM to BAM\"\n\n  publishDir \"${params.out_dir}\", mode: 'copy'\n\n  \n  input:\n  file inputSam from sam_copy1\n\n  output:\n  file \"${inputSam.baseName}.bam\" into bamFile\n  \n\n  script:\n  \"\"\"\n  samtools view -S -b ${inputSam} > ${inputSam.baseName}.bam\n  \"\"\"\n\n}",
        "nb_lignes_process": 19,
        "string_script": "  \"\"\"\n  samtools view -S -b ${inputSam} > ${inputSam.baseName}.bam\n  \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "sam_copy1"
        ],
        "nb_inputs": 1,
        "outputs": [
            "bamFile"
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"SAM to BAM\"",
            "publishDir \"${params.out_dir}\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "indexBam": {
        "name_process": "indexBam",
        "string_process": "\nprocess indexBam {\n\n  tag \"Sort & Index BAM\"\n\n  publishDir \"${params.out_dir}\", mode: 'copy'\n\n  \n  input:\n  file inputBam from bamFile\n\n  output:\n  file(\"reads.mapped.txt\") into mapped_reads_out\n  \n\n  script:\n  \"\"\"\n  pushd ${params.out_dir}\n  samtools sort ${inputBam} -o ${inputBam.baseName}.sorted.bam\n  samtools index ${inputBam.baseName}.sorted.bam\n  popd\n  #samtools view -F 4 ${inputBam}|awk -F'\\t' '{ print \\$1\"\\t\"\\$3\"\\t\"\\$10\"\\t\"\\$4 }'>reads.mapped.txt\n  samtools view -F 4 ${inputBam} >reads.mapped.txt # kept the reads.mapped.txt just for compatibility reasons, otherwise identifyEditsPAM.py can just as easily read in the SAM file\n  \"\"\"\n\n}",
        "nb_lignes_process": 24,
        "string_script": "  \"\"\"\n  pushd ${params.out_dir}\n  samtools sort ${inputBam} -o ${inputBam.baseName}.sorted.bam\n  samtools index ${inputBam.baseName}.sorted.bam\n  popd\n  #samtools view -F 4 ${inputBam}|awk -F'\\t' '{ print \\$1\"\\t\"\\$3\"\\t\"\\$10\"\\t\"\\$4 }'>reads.mapped.txt\n  samtools view -F 4 ${inputBam} >reads.mapped.txt # kept the reads.mapped.txt just for compatibility reasons, otherwise identifyEditsPAM.py can just as easily read in the SAM file\n  \"\"\"",
        "nb_lignes_script": 7,
        "language_script": "bash",
        "tools": [
            "SAMtools",
            "PopDel"
        ],
        "tools_url": [
            "https://bio.tools/samtools",
            "https://bio.tools/PopDel"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            },
            {
                "name": "PopDel",
                "uri": "https://bio.tools/PopDel",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3175",
                            "term": "Structural variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3175",
                            "term": "Genomic structural variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3175",
                            "term": "DNA structural variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3227",
                                    "term": "Variant calling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3196",
                                    "term": "Genotyping"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3227",
                                    "term": "Variant mapping"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_1383",
                                "term": "Nucleic acid sequence alignment"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_3498",
                                "term": "Sequence variations"
                            }
                        ]
                    }
                ],
                "description": "A tool for population level deletion calling from short paired-end sequence reads.",
                "homepage": "https://github.com/kehrlab/PopDel"
            }
        ],
        "inputs": [
            "bamFile"
        ],
        "nb_inputs": 1,
        "outputs": [
            "mapped_reads_out"
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"Sort & Index BAM\"",
            "publishDir \"${params.out_dir}\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "identiyEdits": {
        "name_process": "identiyEdits",
        "string_process": "\nprocess identiyEdits {\n  tag \"${hfrFile.baseName}\"\n\n  input:\n  set val(hfrFile), file(hfR) from hfr_file\n\n  output:\n  file \"*.edits.hfr.txt\" into ( processed_hfr, processed_hfr_final_report)\n\n  script:\n  \"\"\"\n  cigar2seq.py ${hfrFile} > ${hfrFile.baseName}.edits.hfr.txt\n  \"\"\"\n}",
        "nb_lignes_process": 13,
        "string_script": "  \"\"\"\n  cigar2seq.py ${hfrFile} > ${hfrFile.baseName}.edits.hfr.txt\n  \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "hfr_file"
        ],
        "nb_inputs": 1,
        "outputs": [
            ""
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"${hfrFile.baseName}\""
        ],
        "when": "",
        "stub": ""
    },
    "prepForPSA": {
        "name_process": "prepForPSA",
        "string_process": "\nprocess prepForPSA {\n\n  tag \"Pre-processing for PSA\"\n\n  publishDir \"${params.out_dir}\", mode: 'copy'\n\n  input:\n  val(processedHfrFile) from hfr_file_copy1\n  val(reference) from Channel.fromPath(params.ref)\n\n\n  output:\n  file 'clustalO_input.txt' into clustal_inputs\n\n  script:\n  \"\"\"\n  createPSAFiles.sh ${processedHfrFile} ${reference} ${params.out_dir} > clustalO_input.txt\n  \"\"\"\n}",
        "nb_lignes_process": 18,
        "string_script": "  \"\"\"\n  createPSAFiles.sh ${processedHfrFile} ${reference} ${params.out_dir} > clustalO_input.txt\n  \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "hfr_file_copy1"
        ],
        "nb_inputs": 1,
        "outputs": [
            "clustal_inputs"
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"Pre-processing for PSA\"",
            "publishDir \"${params.out_dir}\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "performPSA": {
        "name_process": "performPSA",
        "string_process": "\nprocess performPSA {\n\n  tag \"Pair-wise alignment\"\n\n  publishDir \"${params.out_dir}\", mode: 'copy'\n\n  input:\n  val(clustal_in_fofn) from clustal_inputs.splitCsv(strip:true).map { line -> file(line[0]) }\n\n  output:\n  file \"${clustal_in_fofn.baseName}.clustal.out\" into clustal_out\n\n  script:\n  \"\"\"\n  clustalo  --in=${clustal_in_fofn} > ${clustal_in_fofn.baseName}.clustal.out \n  \"\"\"\n}",
        "nb_lignes_process": 16,
        "string_script": "  \"\"\"\n  clustalo  --in=${clustal_in_fofn} > ${clustal_in_fofn.baseName}.clustal.out \n  \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "clustal_inputs"
        ],
        "nb_inputs": 1,
        "outputs": [
            "clustal_out"
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"Pair-wise alignment\"",
            "publishDir \"${params.out_dir}\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "combineClustalOut": {
        "name_process": "combineClustalOut",
        "string_process": "\nprocess combineClustalOut {\n  tag \"${psa_out_file_comb.baseName}\"\n\n  echo true\n\n  input:\n  set val(psa_out_file_comb), val(psa_out_comb) from clustal_output_to_combine\n\n  output:\n  file(\"combine.complete.txt\") into combine_complete_marker\n\n  script:\n  \"\"\"\n  cat ${psa_out_file_comb} >> ${params.outdir}/${params.project_name}.combined.clustal.out\n  touch combine.complete.txt\n  \"\"\"\n}",
        "nb_lignes_process": 16,
        "string_script": "  \"\"\"\n  cat ${psa_out_file_comb} >> ${params.outdir}/${params.project_name}.combined.clustal.out\n  touch combine.complete.txt\n  \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "clustal_output_to_combine"
        ],
        "nb_inputs": 1,
        "outputs": [
            "combine_complete_marker"
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"${psa_out_file_comb.baseName}\"",
            "echo true"
        ],
        "when": "",
        "stub": ""
    },
    "createFinalReport": {
        "name_process": "createFinalReport",
        "string_process": "\nprocess createFinalReport {\n  \n  input:\n  file '*.complete.txt' from combine_complete_marker.collect()\n  file(processedHfrFile2) from processed_hfr_final_report\n\n\n  script:\n  \"\"\"\n  createReportPackage.sh ${processedHfrFile2} ${params.project_name} ${params.outdir} ${params.project_name}.combined.clustal.out\n  \"\"\"\n}",
        "nb_lignes_process": 11,
        "string_script": "  \"\"\"\n  createReportPackage.sh ${processedHfrFile2} ${params.project_name} ${params.outdir} ${params.project_name}.combined.clustal.out\n  \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "combine_complete_marker",
            "processed_hfr_final_report"
        ],
        "nb_inputs": 2,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [],
        "when": "",
        "stub": ""
    },
    "indexAndMapping": {
        "name_process": "indexAndMapping",
        "string_process": "\nprocess indexAndMapping {\n    tag \"${fastq.baseName}\"\n\n    input:\n    set val(fastq), file(reads) from in_fastq\n    set val(genome), file(reference) from in_reference_for_mapping\n\n    output:\n    file \"*.bam\" into aln_file\n\n\n\n    script:\n    \"\"\"\n    bbmap.sh ref=${genome}\n    bbmap.sh in=${fastq} out=${fastq.baseName}.bam\n    \"\"\"\n}",
        "nb_lignes_process": 17,
        "string_script": "    \"\"\"\n    bbmap.sh ref=${genome}\n    bbmap.sh in=${fastq} out=${fastq.baseName}.bam\n    \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "in_fastq",
            "in_reference_for_mapping"
        ],
        "nb_inputs": 2,
        "outputs": [
            "aln_file"
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"${fastq.baseName}\""
        ],
        "when": "",
        "stub": ""
    },
    "identifyHFR": {
        "name_process": "identifyHFR",
        "string_process": "\nprocess identifyHFR {\n    tag \"${bam.baseName}\"\n\n    input:\n    file bam from aln_file\n\n    output:\n    file \"*.hfr.txt\" into hfr_file\n\n\n    script:\n    \"\"\"\n    samtools view ${bam}|awk -F'\\t' '{ print \\$3\"\\t\"\\$4\"\\t\"\\$6\"\\t\"\\$10 }'|sort|uniq -c|sort -k1,1n|awk '\\$1>100' > ${bam.baseName}.hfr.txt\n    \"\"\"\n}",
        "nb_lignes_process": 14,
        "string_script": "    \"\"\"\n    samtools view ${bam}|awk -F'\\t' '{ print \\$3\"\\t\"\\$4\"\\t\"\\$6\"\\t\"\\$10 }'|sort|uniq -c|sort -k1,1n|awk '\\$1>100' > ${bam.baseName}.hfr.txt\n    \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "aln_file"
        ],
        "nb_inputs": 1,
        "outputs": [
            "hfr_file"
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"${bam.baseName}\""
        ],
        "when": "",
        "stub": ""
    },
    "prepAndPerformPSA": {
        "name_process": "prepAndPerformPSA",
        "string_process": "\nprocess prepAndPerformPSA {\n  tag \"${processedHfrFile.baseName}\"\n  publishDir params.outdir, mode: 'copy'\n\n  input:\n  set val(processedHfrFile), file(processedHfr) from processed_hfr\n  set val(genome), file(reference) from in_reference_for_psa\n\n\n  output:\n  file \"*.clustal.out\" into clustal_out\n\n  script:\n  \"\"\"\n  createPSAFiles.sh ${processedHfrFile} ${genome}\n  for psa in \\$(cat clustalO_input.txt);\n  do\n    clustalo  --in=\\${psa} > \\${psa%.*}.clustal.out \n  done\n  \"\"\"\n}",
        "nb_lignes_process": 20,
        "string_script": "  \"\"\"\n  createPSAFiles.sh ${processedHfrFile} ${genome}\n  for psa in \\$(cat clustalO_input.txt);\n  do\n    clustalo  --in=\\${psa} > \\${psa%.*}.clustal.out \n  done\n  \"\"\"",
        "nb_lignes_script": 6,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "processed_hfr",
            "in_reference_for_psa"
        ],
        "nb_inputs": 2,
        "outputs": [
            "clustal_out"
        ],
        "nb_outputs": 1,
        "name_workflow": "SJLeeY10__crispedit",
        "directive": [
            "tag \"${processedHfrFile.baseName}\"",
            "publishDir params.outdir, mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    }
}