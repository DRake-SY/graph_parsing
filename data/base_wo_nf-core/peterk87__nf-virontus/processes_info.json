{
    "REC2FASTA": {
        "name_process": "REC2FASTA",
        "string_process": "\nprocess REC2FASTA {\n  tag \"${record.id} - ${record.desc} - ${record.sequence.size()}\"\n  publishDir \"${params.outdir}/refs\", pattern: \"*.fa\", mode: 'copy'\n\n  input:\n    val(record)\n  output:\n    path(fasta)\n\n  script:\n  fasta = \"${record.id}.fa\"\n  \"\"\"\n  cat > $fasta << EOF\n>${record.id} ${record.desc}\n${record.sequence}\nEOF\n  \"\"\"\n}",
        "nb_lignes_process": 17,
        "string_script": "  fasta = \"${record.id}.fa\"\n  \"\"\"\n  cat > $fasta << EOF\n>${record.id} ${record.desc}\n${record.sequence}\nEOF\n  \"\"\"",
        "nb_lignes_script": 6,
        "language_script": "bash",
        "tools": [
            "FASTA",
            "NeoFuse"
        ],
        "tools_url": [
            "https://bio.tools/fasta",
            "https://bio.tools/NeoFuse"
        ],
        "tools_dico": [
            {
                "name": "FASTA",
                "uri": "https://bio.tools/fasta",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3512",
                            "term": "Gene transcripts"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0157",
                            "term": "Sequence composition, complexity and repeats"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3512",
                            "term": "mRNA features"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0346",
                                    "term": "Sequence similarity search"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2451",
                                    "term": "Sequence comparison"
                                }
                            ],
                            []
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_2044",
                                "term": "Sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0857",
                                "term": "Sequence search results"
                            }
                        ]
                    }
                ],
                "description": "The FASTA programs find regions of local or global similarity between protein or DNA sequences, either by searching protein or DNA databases, or by identifying local duplications within a sequence. Like BLAST, FASTA can be used to infer functional and evolutionary relationships between sequences as well as help identify members of gene families.",
                "homepage": "http://fasta.bioch.virginia.edu/"
            },
            {
                "name": "NeoFuse",
                "uri": "https://bio.tools/NeoFuse",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_2830",
                            "term": "Immunoproteins and antigens"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0154",
                            "term": "Small molecules"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2640",
                            "term": "Oncology"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3512",
                            "term": "Gene transcripts"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2640",
                            "term": "Cancer biology"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2640",
                            "term": "https://en.wikipedia.org/wiki/Oncology"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3512",
                            "term": "mRNA features"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0310",
                                    "term": "Sequence assembly"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0252",
                                    "term": "Peptide immunogenicity prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3799",
                                    "term": "Quantification"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0252",
                                    "term": "Immunogenicity prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0252",
                                    "term": "Antigenicity prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3799",
                                    "term": "Quantitation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Predicting fusion neoantigens from RNA sequencing data.\n\nThe Section for Bioinformatrics at the Biocenter of Innsbruck Medical University is commited to the generation, management, integration, and leveraging data from genomics studies.\n\nQuantification of the tumor immune contexture.\n\nZlatko Trajanoski awarded with ERC Advanced Grant.",
                "homepage": "https://icbi.i-med.ac.at/NeoFuse/"
            }
        ],
        "inputs": [
            "record"
        ],
        "nb_inputs": 1,
        "outputs": [
            "fasta"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"${record.id} - ${record.desc} - ${record.sequence.size()}\"",
            "publishDir \"${params.outdir}/refs\", pattern: \"*.fa\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "MAP": {
        "name_process": "MAP",
        "string_process": "\nprocess MAP {\n  tag \"$sample VS $ref_name\"\n  publishDir \"${params.outdir}/mapping/$sample/bamfiles\", pattern: \"*.bam\"\n\n  input:\n    tuple sample, \n          path(fastq), \n          path(ref_fasta)\n  output:\n    tuple sample, \n          path(ref_fasta),\n          path(bam)\n\n  script:\n  ref_name = ref_fasta.getBaseName()\n  bam = \"${sample}-${ref_name}.bam\"\n  \"\"\"\n  minimap2 \\\\\n    -ax map-ont \\\\\n    -t${task.cpus} \\\\\n    $ref_fasta \\\\\n    $fastq \\\\\n    | samtools sort -@${task.cpus} \\\\\n    | samtools view -F4 -b -o $bam -\n  \"\"\"\n}",
        "nb_lignes_process": 25,
        "string_script": "  ref_name = ref_fasta.getBaseName()\n  bam = \"${sample}-${ref_name}.bam\"\n  \"\"\"\n  minimap2 \\\\\n    -ax map-ont \\\\\n    -t${task.cpus} \\\\\n    $ref_fasta \\\\\n    $fastq \\\\\n    | samtools sort -@${task.cpus} \\\\\n    | samtools view -F4 -b -o $bam -\n  \"\"\"",
        "nb_lignes_script": 10,
        "language_script": "bash",
        "tools": [
            "BaMM",
            "Minimap2",
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/bamm",
            "https://bio.tools/minimap2",
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "BaMM",
                "uri": "https://bio.tools/bamm",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3169",
                            "term": "ChIP-seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0160",
                            "term": "Sequence sites, features and motifs"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3169",
                            "term": "Chip-sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3169",
                            "term": "Chip Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3169",
                            "term": "ChIP-sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3169",
                            "term": "Chip sequencing"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0239",
                                    "term": "Sequence motif recognition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3501",
                                    "term": "Enrichment analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0238",
                                    "term": "Sequence motif discovery"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0239",
                                    "term": "Motif scanning"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0239",
                                    "term": "Sequence signature recognition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0239",
                                    "term": "Sequence signature detection"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3501",
                                    "term": "Enrichment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3501",
                                    "term": "Over-representation analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0238",
                                    "term": "Motif discovery"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "de-novo motif discovery and regulatory sequence analysis.\nDiscovery of regulatory motifs with higher-order Bayesian Markov Models (BaMMs)",
                "homepage": "https://bammmotif.mpibpc.mpg.de"
            },
            {
                "name": "Minimap2",
                "uri": "https://bio.tools/minimap2",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0491",
                                    "term": "Pairwise sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0491",
                                    "term": "Pairwise alignment"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Pairwise aligner for genomic and spliced nucleotide sequences",
                "homepage": "https://github.com/lh3/minimap2"
            },
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "fastq",
            "ref_fasta",
            "sample"
        ],
        "nb_inputs": 3,
        "outputs": [
            "bam"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"$sample VS $ref_name\"",
            "publishDir \"${params.outdir}/mapping/$sample/bamfiles\", pattern: \"*.bam\""
        ],
        "when": "",
        "stub": ""
    },
    "IVAR_TRIM": {
        "name_process": "IVAR_TRIM",
        "string_process": "\nprocess IVAR_TRIM {\n  publishDir \"${params.outdir}/mapping/$sample/bamfiles\", pattern: \"*.trim.bam\"\n  input:\n    path(bedfile)\n    tuple sample,\n          path(ref_fasta),\n          path(bam)\n  output:\n    tuple sample,\n          path(ref_fasta),\n          path(trimmed_bam)\n\n  script:\n  ref_name = ref_fasta.getBaseName()\n  trimmed_bam = \"${sample}-${ref_name}.trim.bam\"\n  \"\"\"\n  ivar trim \\\\\n    -i $bam \\\\\n    -b $bedfile \\\\\n    -p trim -q 1 -m 20 -s 4 -e\n  samtools sort -o $trimmed_bam trim.bam\n  rm trim.bam\n  \"\"\"\n}",
        "nb_lignes_process": 23,
        "string_script": "  ref_name = ref_fasta.getBaseName()\n  trimmed_bam = \"${sample}-${ref_name}.trim.bam\"\n  \"\"\"\n  ivar trim \\\\\n    -i $bam \\\\\n    -b $bedfile \\\\\n    -p trim -q 1 -m 20 -s 4 -e\n  samtools sort -o $trimmed_bam trim.bam\n  rm trim.bam\n  \"\"\"",
        "nb_lignes_script": 9,
        "language_script": "bash",
        "tools": [
            "AIVAR",
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/AIVAR",
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "AIVAR",
                "uri": "https://bio.tools/AIVAR",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3474",
                            "term": "Machine learning"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Exome sequencing"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Targeted exome capture"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Exome analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "WES"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Exome"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Whole exome sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Exome capture"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3461",
                                    "term": "Virulence prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Deposition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3225",
                                    "term": "Variant classification"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3461",
                                    "term": "Pathogenicity prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Submission"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Data submission"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Database deposition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Database submission"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Data deposition"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Assessing concordance among human, in silico predictions and functional assays on genetic variant classification.",
                "homepage": "https://github.com/TopGene/AIvar"
            },
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "bedfile",
            "ref_fasta",
            "bam",
            "sample"
        ],
        "nb_inputs": 4,
        "outputs": [
            "trimmed_bam"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "publishDir \"${params.outdir}/mapping/$sample/bamfiles\", pattern: \"*.trim.bam\""
        ],
        "when": "",
        "stub": ""
    },
    "MAP_STATS": {
        "name_process": "MAP_STATS",
        "string_process": "\nprocess MAP_STATS {\n  tag \"$sample VS $ref_name\"\n  publishDir \"${params.outdir}/mapping/$sample\", mode: 'copy', pattern: \"*.{tsv,flagstat,idxstats}\"\n\n  input:\n    tuple val(sample),\n          path(ref_fasta),\n          path(bam)\n\n  output:\n    tuple val(sample),\n          path(ref_fasta),\n          path(bam),\n          path(depths),\n          path(flagstat),\n          path(idxstats)\n  script:\n  ref_name = ref_fasta.getBaseName()\n  depths = \"${sample}-${ref_name}-depths.tsv\"\n  flagstat = \"${sample}-${ref_name}.flagstat\"\n  idxstats = \"${sample}-${ref_name}.idxstats\"\n  \"\"\"\n  samtools flagstat $bam > $flagstat\n  samtools depth -a -d 0 $bam | perl -ne 'chomp \\$_; print \"${sample}\\t\\$_\\n\"' > $depths\n  samtools idxstats $bam | head -n1 | perl -ne 'chomp \\$_; print \"${sample}\\t\\$_\\n\"' > $idxstats\n  \"\"\"\n}",
        "nb_lignes_process": 26,
        "string_script": "  ref_name = ref_fasta.getBaseName()\n  depths = \"${sample}-${ref_name}-depths.tsv\"\n  flagstat = \"${sample}-${ref_name}.flagstat\"\n  idxstats = \"${sample}-${ref_name}.idxstats\"\n  \"\"\"\n  samtools flagstat $bam > $flagstat\n  samtools depth -a -d 0 $bam | perl -ne 'chomp \\$_; print \"${sample}\\t\\$_\\n\"' > $depths\n  samtools idxstats $bam | head -n1 | perl -ne 'chomp \\$_; print \"${sample}\\t\\$_\\n\"' > $idxstats\n  \"\"\"",
        "nb_lignes_script": 8,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "sample",
            "ref_fasta",
            "bam"
        ],
        "nb_inputs": 3,
        "outputs": [
            "sample"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"$sample VS $ref_name\"",
            "publishDir \"${params.outdir}/mapping/$sample\", mode: 'copy', pattern: \"*.{tsv,flagstat,idxstats}\""
        ],
        "when": "",
        "stub": ""
    },
    "MEDAKA": {
        "name_process": "MEDAKA",
        "string_process": "\nprocess MEDAKA {\n  tag \"$sample - $ref_name\"\n  publishDir \"${params.outdir}/vcf\", mode: 'copy', pattern: '*.vcf'\n\n  input:\n    tuple val(sample),\n          path(ref_fasta),\n          path(bam),\n          path(depths),\n          path(flagstat),\n          path(idxstats)\n  output:\n    tuple val(sample),\n          path(ref_fasta),\n          path(bam),\n          path(depths),\n          path(vcf)\n  script:\n  ref_name = ref_fasta.getBaseName()\n  vcf = \"${sample}-${ref_name}.medaka.vcf\"\n  \"\"\"\n  samtools index $bam\n  medaka consensus --chunk_len 800 --chunk_ovlp 400 $bam ${bam}.hdf\n  medaka variant $ref_fasta ${bam}.hdf $vcf\n  \"\"\"\n}",
        "nb_lignes_process": 25,
        "string_script": "  ref_name = ref_fasta.getBaseName()\n  vcf = \"${sample}-${ref_name}.medaka.vcf\"\n  \"\"\"\n  samtools index $bam\n  medaka consensus --chunk_len 800 --chunk_ovlp 400 $bam ${bam}.hdf\n  medaka variant $ref_fasta ${bam}.hdf $vcf\n  \"\"\"",
        "nb_lignes_script": 6,
        "language_script": "bash",
        "tools": [
            "vcfR",
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/vcfr",
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "vcfR",
                "uri": "https://bio.tools/vcfr",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0199",
                            "term": "Genetic variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Biological databases"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0199",
                            "term": "DNA variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Data management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Information systems"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Databases and information systems"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Facilitates easy manipulation of variant call format (VCF) data. Functions are provided to rapidly read from and write to VCF files. Once VCF data is read into R a parser function extracts matrices of data. This information can then be used for quality control or other purposes.",
                "homepage": "https://cran.r-project.org/web/packages/vcfR/index.html"
            },
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "sample",
            "ref_fasta",
            "bam",
            "depths",
            "flagstat",
            "idxstats"
        ],
        "nb_inputs": 6,
        "outputs": [
            "sample"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"$sample - $ref_name\"",
            "publishDir \"${params.outdir}/vcf\", mode: 'copy', pattern: '*.vcf'"
        ],
        "when": "",
        "stub": ""
    },
    "LONGSHOT": {
        "name_process": "LONGSHOT",
        "string_process": "\nprocess LONGSHOT {\n  tag \"$sample - $ref_name\"\n  publishDir \"${params.outdir}/vcf\", mode: 'copy', pattern: '*.vcf'\n\n  input:\n    tuple val(sample),\n          path(ref_fasta),\n          path(bam),\n          path(depths),\n          path(medaka_vcf)\n  output:\n    tuple val(sample),\n          path(ref_fasta),\n          path(bam),\n          path(depths),\n          path(longshot_vcf)\n  script:\n  ref_name = ref_fasta.getBaseName()\n  longshot_vcf = \"${sample}-${ref_name}.longshot.vcf\"\n  script:\n  \"\"\"\n  samtools faidx $ref_fasta\n  samtools index $bam\n  longshot -P 0 -F -A --no_haps \\\\\n    --potential_variants $medaka_vcf \\\\\n    --bam $bam \\\\\n    --ref $ref_fasta \\\\\n    --out $longshot_vcf\n  \"\"\"\n}",
        "nb_lignes_process": 29,
        "string_script": "  ref_name = ref_fasta.getBaseName()\n  longshot_vcf = \"${sample}-${ref_name}.longshot.vcf\"\n  script:\n  \"\"\"\n  samtools faidx $ref_fasta\n  samtools index $bam\n  longshot -P 0 -F -A --no_haps \\\\\n    --potential_variants $medaka_vcf \\\\\n    --bam $bam \\\\\n    --ref $ref_fasta \\\\\n    --out $longshot_vcf\n  \"\"\"",
        "nb_lignes_script": 11,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "sample",
            "ref_fasta",
            "bam",
            "depths",
            "medaka_vcf"
        ],
        "nb_inputs": 5,
        "outputs": [
            "sample"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"$sample - $ref_name\"",
            "publishDir \"${params.outdir}/vcf\", mode: 'copy', pattern: '*.vcf'"
        ],
        "when": "",
        "stub": ""
    },
    "BCF_FILTER": {
        "name_process": "BCF_FILTER",
        "string_process": "\nprocess BCF_FILTER {\n  tag \"$sample - $ref_name\"\n  publishDir \"${params.outdir}/vcf\",\n    pattern: \"*.filt.vcf\",\n    mode: 'copy'\n\n  input:\n    tuple val(sample),\n          path(ref_fasta),\n          path(bam),\n          path(depths),\n          path(vcf)\n  output:\n    tuple val(sample),\n          path(ref_fasta),\n          path(bam),\n          path(depths),\n          path(filt_vcf)\n  script:\n  ref_name = ref_fasta.getBaseName()\n  filt_vcf = \"${file(vcf).getBaseName()}.filt.vcf\"\n  \"\"\"\n  bcftools filter \\\\\n    -e 'AC[0] >= AC[1] || AC[1]<=2' \\\\\n    $vcf \\\\\n    -Ov \\\\\n    -o $filt_vcf\n  \"\"\"\n}",
        "nb_lignes_process": 28,
        "string_script": "  ref_name = ref_fasta.getBaseName()\n  filt_vcf = \"${file(vcf).getBaseName()}.filt.vcf\"\n  \"\"\"\n  bcftools filter \\\\\n    -e 'AC[0] >= AC[1] || AC[1]<=2' \\\\\n    $vcf \\\\\n    -Ov \\\\\n    -o $filt_vcf\n  \"\"\"",
        "nb_lignes_script": 8,
        "language_script": "bash",
        "tools": [
            "BCFtools"
        ],
        "tools_url": [
            "https://bio.tools/bcftools"
        ],
        "tools_dico": [
            {
                "name": "BCFtools",
                "uri": "https://bio.tools/bcftools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3516",
                            "term": "Genotyping experiment"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0199",
                            "term": "Genetic variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3517",
                            "term": "GWAS study"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2885",
                            "term": "DNA polymorphism"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0199",
                            "term": "DNA variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3517",
                            "term": "GWAS analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3517",
                            "term": "GWAS"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3517",
                            "term": "Genome-wide association study"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "Data handling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3227",
                                    "term": "Variant calling"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "Utility operation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "File handling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "File processing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "Report handling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3227",
                                    "term": "Variant mapping"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_3498",
                                "term": "Sequence variations"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_3498",
                                "term": "Sequence variations"
                            }
                        ]
                    }
                ],
                "description": "Set of utilities that manipulate variant calls in the Variant Call Format (VCF) and its binary counterpart BCF. All commands work transparently with both VCFs and BCFs, both uncompressed and BGZF-compressed.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "sample",
            "ref_fasta",
            "bam",
            "depths",
            "vcf"
        ],
        "nb_inputs": 5,
        "outputs": [
            "sample"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"$sample - $ref_name\"",
            "publishDir \"${params.outdir}/vcf\" , pattern: \"*.filt.vcf\" , mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "CONSENSUS": {
        "name_process": "CONSENSUS",
        "string_process": "\nprocess CONSENSUS {\n  tag \"$sample - $ref_name\"\n  publishDir \"${params.outdir}/consensus\", \n    pattern: \"*.consensus.fasta\",\n    mode: 'copy'\n\n  input:\n    tuple val(sample),\n          path(ref_fasta),\n          path(bam),\n          path(depths),\n          path(filt_vcf)\n  output:\n    tuple val(sample),\n          path(ref_fasta),\n          path(bam),\n          path(depths),\n          path(consensus)\n\n  script:\n  ref_name = ref_fasta.getBaseName()\n  consensus = \"${sample}-${ref_name}.consensus.fasta\"\n  \"\"\"\n  vcf_consensus_builder \\\\\n    -v $filt_vcf \\\\\n    -d $depths \\\\\n    -r $ref_fasta \\\\\n    -o $consensus \\\\\n    --low-coverage $params.low_coverage \\\\\n    --no-coverage $params.no_coverage \\\\\n    --low-cov-char $params.low_cov_char \\\\\n    --no-cov-char $params.no_cov_char \\\\\n    --sample-name $sample\n  \"\"\"\n}",
        "nb_lignes_process": 34,
        "string_script": "  ref_name = ref_fasta.getBaseName()\n  consensus = \"${sample}-${ref_name}.consensus.fasta\"\n  \"\"\"\n  vcf_consensus_builder \\\\\n    -v $filt_vcf \\\\\n    -d $depths \\\\\n    -r $ref_fasta \\\\\n    -o $consensus \\\\\n    --low-coverage $params.low_coverage \\\\\n    --no-coverage $params.no_coverage \\\\\n    --low-cov-char $params.low_cov_char \\\\\n    --no-cov-char $params.no_cov_char \\\\\n    --sample-name $sample\n  \"\"\"",
        "nb_lignes_script": 13,
        "language_script": "bash",
        "tools": [
            "Consensus"
        ],
        "tools_url": [
            "https://bio.tools/consensus"
        ],
        "tools_dico": [
            {
                "name": "Consensus",
                "uri": "https://bio.tools/consensus",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0082",
                            "term": "Structure prediction"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2275",
                            "term": "Molecular modelling"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0447",
                                    "term": "Sequence alignment validation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0295",
                                    "term": "Structure alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0477",
                                    "term": "Protein modelling"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0447",
                                    "term": "Sequence alignment quality evaluation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0295",
                                    "term": "Structural alignment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0477",
                                    "term": "Homology modelling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0477",
                                    "term": "Comparative modelling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0477",
                                    "term": "Protein structure comparative modelling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0477",
                                    "term": "Homology structure modelling"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "The Consensus server aligns a sequence to a structural template using a consensus of 5 different alignment methods.  A measure of reliability is produced for each alignment position in order to predict the suitability of regions for comparative modelling.",
                "homepage": "http://stormo.wustl.edu/consensus/"
            }
        ],
        "inputs": [
            "sample",
            "ref_fasta",
            "bam",
            "depths",
            "filt_vcf"
        ],
        "nb_inputs": 5,
        "outputs": [
            "sample"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"$sample - $ref_name\"",
            "publishDir \"${params.outdir}/consensus\" , pattern: \"*.consensus.fasta\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "COVERAGE_PLOT": {
        "name_process": "COVERAGE_PLOT",
        "string_process": "\nprocess COVERAGE_PLOT {\n  publishDir \"${params.outdir}/plots\", \n    pattern: '*.pdf',\n    mode: 'copy'\n\n  input:\n  tuple val(sample),\n        path(ref_fasta),\n        path(bam),\n        path(depths),\n        path(filt_vcf)\n  \n  output:\n  path(\"*.pdf\")\n\n  script:\n  ref_name = ref_fasta.getBaseName()\n  plot_filename = \"coverage_plot-${sample}-VS-${ref_name}.pdf\"\n  log_scale_plot_filename = \"coverage_plot-${sample}-VS-${ref_name}-log_scale.pdf\"\n  \"\"\"\n  plot_coverage.py -d $depths -v $filt_vcf -o $plot_filename\n  plot_coverage.py -d $depths -v $filt_vcf -o $log_scale_plot_filename --log-scale-y\n  \"\"\"\n}",
        "nb_lignes_process": 23,
        "string_script": "  ref_name = ref_fasta.getBaseName()\n  plot_filename = \"coverage_plot-${sample}-VS-${ref_name}.pdf\"\n  log_scale_plot_filename = \"coverage_plot-${sample}-VS-${ref_name}-log_scale.pdf\"\n  \"\"\"\n  plot_coverage.py -d $depths -v $filt_vcf -o $plot_filename\n  plot_coverage.py -d $depths -v $filt_vcf -o $log_scale_plot_filename --log-scale-y\n  \"\"\"",
        "nb_lignes_script": 6,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "sample",
            "ref_fasta",
            "bam",
            "depths",
            "filt_vcf"
        ],
        "nb_inputs": 5,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "publishDir \"${params.outdir}/plots\" , pattern: '*.pdf', mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "KRAKEN2": {
        "name_process": "KRAKEN2",
        "string_process": "\nprocess KRAKEN2 {\n  tag \"$sample\"\n  publishDir \"${params.outdir}/kraken2/results\",\n    pattern: \"*-kraken2_results.tsv\",\n    mode: 'copy'\n  publishDir \"${params.outdir}/kraken2/reports\",\n    pattern: \"*-kraken2_report.tsv\",\n    mode: 'copy'\n\n  input:\n    path(db)\n    tuple val(sample), \n          path(reads)\n  output:\n    tuple val(sample),\n          path(reads),\n          path(results),\n          path(report)\n\n  script:\n  results = \"${sample}-kraken2_results.tsv\"\n  report = \"${sample}-kraken2_report.tsv\"\n  \"\"\"\n  kraken2 \\\\\n    --threads ${task.cpus} \\\\\n    --memory-mapping \\\\\n    --db ./${db}/ \\\\\n    --report ${report} \\\\\n    --output ${results} \\\\\n    $reads\n  \"\"\"\n}",
        "nb_lignes_process": 31,
        "string_script": "  results = \"${sample}-kraken2_results.tsv\"\n  report = \"${sample}-kraken2_report.tsv\"\n  \"\"\"\n  kraken2 \\\\\n    --threads ${task.cpus} \\\\\n    --memory-mapping \\\\\n    --db ./${db}/ \\\\\n    --report ${report} \\\\\n    --output ${results} \\\\\n    $reads\n  \"\"\"",
        "nb_lignes_script": 10,
        "language_script": "bash",
        "tools": [
            "RESULTS:MWMM",
            "Reporter",
            "kraken2"
        ],
        "tools_url": [
            "https://bio.tools/RESULTSMWMM",
            "https://bio.tools/reporter",
            "https://bio.tools/kraken2"
        ],
        "tools_dico": [
            {
                "name": "RESULTS:MWMM",
                "uri": "https://bio.tools/RESULTSMWMM",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0659",
                            "term": "Functional, regulatory and non-coding RNA"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2640",
                            "term": "Oncology"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3512",
                            "term": "Gene transcripts"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_2640",
                            "term": "Cancer biology"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2640",
                            "term": "https://en.wikipedia.org/wiki/Oncology"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3512",
                            "term": "mRNA features"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3792",
                                    "term": "miRNA expression analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3766",
                                    "term": "Weighted correlation network analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3432",
                                    "term": "Clustering"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3792",
                                    "term": "miRNA expression profiling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3766",
                                    "term": "WGCNA"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3766",
                                    "term": "Weighted gene co-expression network analysis"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "> MEDIUM CONFIDENCE! | > CORRECT NAME OF TOOL COULD ALSO BE 'MWMM', 'blossom' | Clustering analysis of microRNA and mRNA expression data from TCGA using maximum edge-weighted matching algorithms | maximum weighted merger method",
                "homepage": "https://github.com/BaiLab/MWMM"
            },
            {
                "name": "Reporter",
                "uri": "https://bio.tools/reporter",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0121",
                            "term": "Proteomics"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3630",
                                    "term": "Protein quantification"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3630",
                                    "term": "Protein quantitation"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_2536",
                                "term": "Mass spectrometry data"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2886",
                                "term": "Protein sequence record"
                            }
                        ]
                    }
                ],
                "description": "Protein quantification based on reporter ions.",
                "homepage": "http://compomics.github.io/projects/reporter.html"
            },
            {
                "name": "kraken2",
                "uri": "https://bio.tools/kraken2",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0637",
                            "term": "Taxonomy"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3174",
                            "term": "Metagenomics"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3460",
                                    "term": "Taxonomic classification"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3460",
                                    "term": "Taxonomy assignment"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_3494",
                                "term": "DNA sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_3028",
                                "term": "Taxonomy"
                            }
                        ]
                    }
                ],
                "description": "Kraken 2 is the newest version of Kraken, a taxonomic classification system using exact k-mer matches to achieve high accuracy and fast classification speeds. This classifier matches each k-mer within a query sequence to the lowest common ancestor (LCA) of all genomes containing the given k-mer. The k-mer assignments inform the classification algorithm.",
                "homepage": "https://ccb.jhu.edu/software/kraken2/"
            }
        ],
        "inputs": [
            "db",
            "sample",
            "reads"
        ],
        "nb_inputs": 3,
        "outputs": [
            "sample"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"$sample\"",
            "publishDir \"${params.outdir}/kraken2/results\" , pattern: \"*-kraken2_results.tsv\" , mode: 'copy'",
            "publishDir \"${params.outdir}/kraken2/reports\" , pattern: \"*-kraken2_report.tsv\" , mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "CENTRIFUGE": {
        "name_process": "CENTRIFUGE",
        "string_process": "\nprocess CENTRIFUGE {\n  tag \"$sample\"\n  publishDir \"${params.outdir}/centrifuge/$sample\",\n    pattern: \"*.tsv\",\n    mode: 'copy'\n  publishDir \"${params.outdir}/centrifuge\",\n    pattern: \"*-kreport.tsv\",\n    mode: 'copy'\n\n  input:\n    tuple db_name, \n          path(db)\n    tuple val(sample),\n          path(reads)\n  output:\n    tuple val(sample),\n          path(reads),\n          path(results),\n          path(kreport)\n\n  script:\n  results = \"${sample}-centrifuge_results.tsv\"\n  kreport = \"${sample}-kreport.tsv\"\n  \"\"\"\n  centrifuge \\\\\n    -x ${db}/${db_name} \\\\\n    -U $reads \\\\\n    -S $results \\\\\n    -p ${task.cpus}\n  centrifuge-kreport -x ${db}/${db_name} $results > $kreport\n  \"\"\"\n}",
        "nb_lignes_process": 31,
        "string_script": "  results = \"${sample}-centrifuge_results.tsv\"\n  kreport = \"${sample}-kreport.tsv\"\n  \"\"\"\n  centrifuge \\\\\n    -x ${db}/${db_name} \\\\\n    -U $reads \\\\\n    -S $results \\\\\n    -p ${task.cpus}\n  centrifuge-kreport -x ${db}/${db_name} $results > $kreport\n  \"\"\"",
        "nb_lignes_script": 9,
        "language_script": "bash",
        "tools": [
            "RESULTS:MWMM",
            "Centrifuge"
        ],
        "tools_url": [
            "https://bio.tools/RESULTSMWMM",
            "https://bio.tools/centrifuge"
        ],
        "tools_dico": [
            {
                "name": "RESULTS:MWMM",
                "uri": "https://bio.tools/RESULTSMWMM",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0659",
                            "term": "Functional, regulatory and non-coding RNA"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2640",
                            "term": "Oncology"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3512",
                            "term": "Gene transcripts"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_2640",
                            "term": "Cancer biology"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2640",
                            "term": "https://en.wikipedia.org/wiki/Oncology"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3512",
                            "term": "mRNA features"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3792",
                                    "term": "miRNA expression analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3766",
                                    "term": "Weighted correlation network analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3432",
                                    "term": "Clustering"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3792",
                                    "term": "miRNA expression profiling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3766",
                                    "term": "WGCNA"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3766",
                                    "term": "Weighted gene co-expression network analysis"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "> MEDIUM CONFIDENCE! | > CORRECT NAME OF TOOL COULD ALSO BE 'MWMM', 'blossom' | Clustering analysis of microRNA and mRNA expression data from TCGA using maximum edge-weighted matching algorithms | maximum weighted merger method",
                "homepage": "https://github.com/BaiLab/MWMM"
            },
            {
                "name": "Centrifuge",
                "uri": "https://bio.tools/centrifuge",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3174",
                            "term": "Metagenomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3301",
                            "term": "Microbiology"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2478",
                                    "term": "Nucleic acid sequence analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2478",
                                    "term": "Sequence analysis (nucleic acid)"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "A very rapid and memory-efficient system for the classification of DNA sequences from microbial samples. The system uses a novel indexing scheme based on the Burrows-Wheeler transform and the Ferragina-Manzini index, optimized specifically for the metagenomic classification problem. Together these advances enable timely and accurate analysis of large metagenomics data sets on conventional desktop computers.",
                "homepage": "https://ccb.jhu.edu/software/centrifuge/"
            }
        ],
        "inputs": [
            "db",
            "db_name",
            "sample",
            "reads"
        ],
        "nb_inputs": 4,
        "outputs": [
            "sample"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"$sample\"",
            "publishDir \"${params.outdir}/centrifuge/$sample\" , pattern: \"*.tsv\" , mode: 'copy'",
            "publishDir \"${params.outdir}/centrifuge\" , pattern: \"*-kreport.tsv\" , mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "FILTER_READS_BY_CLASSIFICATIONS": {
        "name_process": "FILTER_READS_BY_CLASSIFICATIONS",
        "string_process": "\nprocess FILTER_READS_BY_CLASSIFICATIONS {\n  tag \"$sample|taxids=$taxids\"\n  publishDir \"${params.outdir}/filtered_reads/\", \n    pattern: \"*.filtered.fastq.gz\",\n    mode: 'copy'\n  errorStrategy 'ignore'\n\n  input:\n    tuple sample,\n          path(reads),\n          path(kraken2_results),\n          path(kraken2_report),\n          path(centrifuge_results),\n          path(centrifuge_report)\n  output:\n    tuple sample,\n          path(filtered_reads) optional true\n\n  script:\n  exclude_reads_arg = params.exclude_unclassified_reads ? \" --exclude-unclassified \" : \"\"\n  filtered_reads = \"${sample}.filtered.fastq.gz\"\n  taxids_arg = taxids ? \" --taxids $taxids\" : \"\"\n  \"\"\"\n  filter_classified_reads \\\\\n    $exclude_reads_arg \\\\\n    ${taxids_arg} \\\\\n    -i $reads \\\\\n    -o $filtered_reads \\\\\n    -c $centrifuge_results \\\\\n    -C $centrifuge_report \\\\\n    -k $kraken2_results \\\\\n    -K $kraken2_report\n  \"\"\"\n}",
        "nb_lignes_process": 33,
        "string_script": "  exclude_reads_arg = params.exclude_unclassified_reads ? \" --exclude-unclassified \" : \"\"\n  filtered_reads = \"${sample}.filtered.fastq.gz\"\n  taxids_arg = taxids ? \" --taxids $taxids\" : \"\"\n  \"\"\"\n  filter_classified_reads \\\\\n    $exclude_reads_arg \\\\\n    ${taxids_arg} \\\\\n    -i $reads \\\\\n    -o $filtered_reads \\\\\n    -c $centrifuge_results \\\\\n    -C $centrifuge_report \\\\\n    -k $kraken2_results \\\\\n    -K $kraken2_report\n  \"\"\"",
        "nb_lignes_script": 13,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "reads",
            "kraken2_results",
            "kraken2_report",
            "centrifuge_results",
            "centrifuge_report",
            "sample"
        ],
        "nb_inputs": 6,
        "outputs": [
            "filtered_reads"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"$sample|taxids=$taxids\"",
            "publishDir \"${params.outdir}/filtered_reads/\" , pattern: \"*.filtered.fastq.gz\", mode: 'copy'",
            "errorStrategy 'ignore'"
        ],
        "when": "",
        "stub": ""
    },
    "UNICYCLER_ASSEMBLY": {
        "name_process": "UNICYCLER_ASSEMBLY",
        "string_process": "\nprocess UNICYCLER_ASSEMBLY {\n  tag \"$sample\"\n  publishDir \"${params.outdir}/assemblies/unicycler/$sample\", mode: 'copy'\n  errorStrategy 'ignore'\n\n  input:\n    tuple val(sample),\n          path(reads)\n  output:\n    tuple val(sample),\n          val('unicycler'),\n          path(\"${sample}/\")\n\n  script:\n  output_contigs = \"${sample}-assembly.fasta\"\n  output_gfa = \"${sample}-assembly.gfa\"\n  output_unicycler_log = \"${sample}-unicycler.log\"\n  \"\"\"\n  unicycler -t ${task.cpus} --mode ${params.unicycler_mode} -o $sample -l $reads\n  ln -s ${sample}/assembly.fasta $output_contigs\n  ln -s ${sample}/assembly.gfa $output_gfa\n  ln -s ${sample}/unicycler.log $output_unicycler_log\n  \"\"\"\n}",
        "nb_lignes_process": 23,
        "string_script": "  output_contigs = \"${sample}-assembly.fasta\"\n  output_gfa = \"${sample}-assembly.gfa\"\n  output_unicycler_log = \"${sample}-unicycler.log\"\n  \"\"\"\n  unicycler -t ${task.cpus} --mode ${params.unicycler_mode} -o $sample -l $reads\n  ln -s ${sample}/assembly.fasta $output_contigs\n  ln -s ${sample}/assembly.gfa $output_gfa\n  ln -s ${sample}/unicycler.log $output_unicycler_log\n  \"\"\"",
        "nb_lignes_script": 8,
        "language_script": "bash",
        "tools": [
            "Unicycler"
        ],
        "tools_url": [
            "https://bio.tools/unicycler"
        ],
        "tools_dico": [
            {
                "name": "Unicycler",
                "uri": "https://bio.tools/unicycler",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0196",
                            "term": "Sequence assembly"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3301",
                            "term": "Microbiology"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3436",
                                    "term": "Aggregation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Genome assembly"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Sequence assembly (genome assembly)"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Genomic assembly"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0848",
                                "term": "Raw sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0925",
                                "term": "Sequence assembly"
                            }
                        ]
                    }
                ],
                "description": "A tool for assembling bacterial genomes from a combination of short (2nd generation) and long (3rd generation) sequencing reads.",
                "homepage": "https://github.com/rrwick/Unicycler"
            }
        ],
        "inputs": [
            "sample",
            "reads"
        ],
        "nb_inputs": 2,
        "outputs": [
            "sample"
        ],
        "nb_outputs": 1,
        "name_workflow": "peterk87__nf-virontus",
        "directive": [
            "tag \"$sample\"",
            "publishDir \"${params.outdir}/assemblies/unicycler/$sample\", mode: 'copy'",
            "errorStrategy 'ignore'"
        ],
        "when": "",
        "stub": ""
    }
}