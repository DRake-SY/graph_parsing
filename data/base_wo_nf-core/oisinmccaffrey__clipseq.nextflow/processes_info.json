{
    "generate_premap_index": {
        "name_process": "generate_premap_index",
        "string_process": "\nprocess generate_premap_index{\n\n\ttag \"$smrna_fasta\"\n\n    \tinput:\n    \tpath(smrna_fasta) from ch_smrna_fasta\n\n    \toutput:\n\n    \tpath(\"${smrna_fasta.simpleName}.*.bt2\") into ch_bt2_index\n\n    \tscript:\n    \t\"\"\"\n    \tbowtie2-build --threads $task.cpus $smrna_fasta ${smrna_fasta.simpleName}\n    \t\"\"\"\n}",
        "nb_lignes_process": 15,
        "string_script": "    \t\"\"\"\n    \tbowtie2-build --threads $task.cpus $smrna_fasta ${smrna_fasta.simpleName}\n    \t\"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "ch_smrna_fasta"
        ],
        "nb_inputs": 1,
        "outputs": [
            "ch_bt2_index"
        ],
        "nb_outputs": 1,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "tag \"$smrna_fasta\""
        ],
        "when": "",
        "stub": ""
    },
    "generate_fai": {
        "name_process": "generate_fai",
        "string_process": "\nprocess generate_fai{\n\n  tag \"$ref\"\n\n    \tinput:\n   \tpath(ref) from ch_ref_fai\n\n   \toutput:\n   \tpath(\"*.fai\") into (ch_fai_crosslinks, ch_fai_icount, ch_fai_icount_motif, ch_fai_paraclu_motif, ch_fai_pureclip_motif, ch_fai_piranha_motif)\n\n    \tscript:\n    \t\"\"\"\n    \tsamtools faidx $ref\n    \t\"\"\"\n}",
        "nb_lignes_process": 14,
        "string_script": "    \t\"\"\"\n    \tsamtools faidx $ref\n    \t\"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "ch_ref_fai"
        ],
        "nb_inputs": 1,
        "outputs": [
            ""
        ],
        "nb_outputs": 1,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "tag \"$ref\""
        ],
        "when": "",
        "stub": ""
    },
    "star_index": {
        "name_process": "star_index",
        "string_process": "\nprocess star_index{\n\t\t\t\t\n\ttag \"$fasta\"\n    \n   \tpublishDir path: \"${params.outdir}/STAR_index\", mode: 'copy'\n\n\n        input:\n        path(fasta) from ch_fasta_star\n        path(gtf) from ch_gtf_star\n\n        output:\n        \n        path(\"index_star_ch20\") into ch_star_index\n\n\tscript:\n    \t\"\"\"\n        mkdir -p index_star_ch20/\n    \t\t\n    \t\tSTAR \\\\\n        --runMode genomeGenerate \\\\\n        --genomeDir index_star_ch20 \\\\\n        --genomeFastaFiles $fasta \\\\\n        --sjdbGTFfile $gtf \\\\\n        --genomeSAindexNbases 10 \\\\\n        --outFileNamePrefix Hsapiens_chr20 \\\\\n        --runThreadN 4\n        \"\"\"\n\n}",
        "nb_lignes_process": 29,
        "string_script": "    \t\"\"\"\n        mkdir -p index_star_ch20/\n    \t\t\n    \t\tSTAR \\\\\n        --runMode genomeGenerate \\\\\n        --genomeDir index_star_ch20 \\\\\n        --genomeFastaFiles $fasta \\\\\n        --sjdbGTFfile $gtf \\\\\n        --genomeSAindexNbases 10 \\\\\n        --outFileNamePrefix Hsapiens_chr20 \\\\\n        --runThreadN 4\n        \"\"\"",
        "nb_lignes_script": 11,
        "language_script": "bash",
        "tools": [
            "STAR"
        ],
        "tools_url": [
            "https://bio.tools/star"
        ],
        "tools_dico": [
            {
                "name": "STAR",
                "uri": "https://bio.tools/star",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Ultrafast universal RNA-seq aligner",
                "homepage": "http://code.google.com/p/rna-star/"
            }
        ],
        "inputs": [
            "ch_fasta_star",
            "ch_gtf_star"
        ],
        "nb_inputs": 2,
        "outputs": [
            "ch_star_index"
        ],
        "nb_outputs": 1,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "tag \"$fasta\"",
            "publishDir path: \"${params.outdir}/STAR_index\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "FastQC": {
        "name_process": "FastQC",
        "string_process": "\nprocess FastQC {\n\n      publishDir \"${params.outdir}/QC/raw\", mode:'copy'\n\n      input:\n\n      tuple val(key), file(reads) from fastqc_reads\n\n      output:\n\n      file(\"*.{html,zip}\") into fastqc_ch\n\n      script:\n      \"\"\"\n      fastqc -q $reads\n      \"\"\"\n}",
        "nb_lignes_process": 16,
        "string_script": "      \"\"\"\n      fastqc -q $reads\n      \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "FastQC"
        ],
        "tools_url": [
            "https://bio.tools/fastqc"
        ],
        "tools_dico": [
            {
                "name": "FastQC",
                "uri": "https://bio.tools/fastqc",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3572",
                            "term": "Data quality management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical calculation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality control"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0236",
                                    "term": "Sequence composition calculation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Significance testing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical testing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical test"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing QC"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality assessment"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0848",
                                "term": "Raw sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2955",
                                "term": "Sequence report"
                            }
                        ]
                    }
                ],
                "description": "This tool aims to provide a QC report which can spot problems or biases which originate either in the sequencer or in the starting library material. It can be run in one of two modes. It can either run as a stand alone interactive application for the immediate analysis of small numbers of FastQ files, or it can be run in a non-interactive mode where it would be suitable for integrating into a larger analysis pipeline for the systematic processing of large numbers of files.",
                "homepage": "http://www.bioinformatics.babraham.ac.uk/projects/fastqc/"
            }
        ],
        "inputs": [
            "fastqc_reads"
        ],
        "nb_inputs": 1,
        "outputs": [
            "fastqc_ch"
        ],
        "nb_outputs": 1,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "publishDir \"${params.outdir}/QC/raw\", mode:'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "cutadapt": {
        "name_process": "cutadapt",
        "string_process": " process cutadapt {\n\n        tag \"$key\"\n        publishDir \"${params.outdir}/cutadapt\", mode: params.publish_dir_mode\n\n        input:\n        tuple val(key), file(reads) from trimming_reads\n\n        output:\n        tuple val(key), path(\"${key}.trimmed.fq\") into mapping_reads\n        path \"*.log\" into ch_cutadapt_mqc\n\n        script:\n        \"\"\"\n        ln -s $reads ${key}.fq\n        cutadapt -j $task.cpus -a ${params.adapter} -m 12 -o ${key}.trimmed.fq ${key}.fq > ${key}_cutadapt.log\n        \"\"\"\n    }",
        "nb_lignes_process": 16,
        "string_script": "        \"\"\"\n        ln -s $reads ${key}.fq\n        cutadapt -j $task.cpus -a ${params.adapter} -m 12 -o ${key}.trimmed.fq ${key}.fq > ${key}_cutadapt.log\n        \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [
            "Cutadapt"
        ],
        "tools_url": [
            "https://bio.tools/cutadapt"
        ],
        "tools_dico": [
            {
                "name": "Cutadapt",
                "uri": "https://bio.tools/cutadapt",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0632",
                            "term": "Probes and primers"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3192",
                                    "term": "Sequence trimming"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3192",
                                    "term": "Trimming"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_3495",
                                "term": "RNA sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_3495",
                                "term": "RNA sequence"
                            }
                        ]
                    }
                ],
                "description": "Find and remove adapter sequences, primers, poly-A tails and other types of unwanted sequence from your high-throughput sequencing reads.",
                "homepage": "https://pypi.python.org/pypi/cutadapt"
            }
        ],
        "inputs": [
            "trimming_reads"
        ],
        "nb_inputs": 1,
        "outputs": [
            "mapping_reads",
            "ch_cutadapt_mqc"
        ],
        "nb_outputs": 2,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "tag \"$key\"",
            "publishDir \"${params.outdir}/cutadapt\", mode: params.publish_dir_mode"
        ],
        "when": "",
        "stub": ""
    },
    "premap": {
        "name_process": "premap",
        "string_process": "\nprocess premap {\n\n    publishDir \"${params.outdir}/premap\", mode: 'copy'\n\n    tag \"$key\"\n\n    input:\n\n    tuple val(key), file(reads) from mapping_reads\n    path(index) from ch_bt2_index.collect()\n\n    output:\n    tuple val(key), path(\"${key}.unmapped.fq.gz\") into ch_unmapped\n    tuple val(key), path(\"${key}.premapped.bam\"), path(\"${key}.premapped.bam.bai\")\n    path \"*.log\" into ch_premap_mqc, ch_premap_qc\n\n    script:\n    \"\"\"\n    bowtie2 -p $task.cpus -x ${index[0].simpleName} --un-gz ${key}.unmapped.fq.gz -U $reads 2> ${key}.premap.log | \\\n    samtools sort -@ $task.cpus /dev/stdin > ${key}.premapped.bam && \\\n    samtools index -@ $task.cpus ${key}.premapped.bam\n    \"\"\"\n}",
        "nb_lignes_process": 22,
        "string_script": "    \"\"\"\n    bowtie2 -p $task.cpus -x ${index[0].simpleName} --un-gz ${key}.unmapped.fq.gz -U $reads 2> ${key}.premap.log | \\\n    samtools sort -@ $task.cpus /dev/stdin > ${key}.premapped.bam && \\\n    samtools index -@ $task.cpus ${key}.premapped.bam\n    \"\"\"",
        "nb_lignes_script": 4,
        "language_script": "bash",
        "tools": [
            "Rbowtie2",
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/rbowtie2",
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "Rbowtie2",
                "uri": "https://bio.tools/rbowtie2",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0232",
                                    "term": "Sequence merging"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0232",
                                    "term": "Sequence splicing"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "This package provides an R wrapper of the popular bowtie2 sequencing reads aligner and AdapterRemoval, a convenient tool for rapid adapter trimming, identification, and read merging.",
                "homepage": "http://bioconductor.org/packages/release/bioc/html/Rbowtie2.html"
            },
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "mapping_reads",
            "ch_bt2_index"
        ],
        "nb_inputs": 2,
        "outputs": [
            "ch_unmapped",
            "key",
            "ch_premap_mqc",
            "ch_premap_qc"
        ],
        "nb_outputs": 4,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "publishDir \"${params.outdir}/premap\", mode: 'copy'",
            "tag \"$key\""
        ],
        "when": "",
        "stub": ""
    },
    "align": {
        "name_process": "align",
        "string_process": "\nprocess align {\n    tag \"$name\"\n    publishDir \"${params.outdir}/mapped\", mode: 'copy'\n\n    input:\n    tuple val(name), path(reads) from ch_unmapped\n    path(index) from ch_star_index.collect()\n\n    output:\n    tuple val(name), path(\"${name}.Aligned.sortedByCoord.out.bam\"), path(\"${name}.Aligned.sortedByCoord.out.bam.bai\") into ch_aligned, ch_aligned_preseq\n    path \"*.Log.final.out\" into ch_align_mqc, ch_align_qc\n\n    script:\n    clip_args = \"--outFilterMultimapNmax 1 \\\n                --outFilterMultimapScoreRange 1 \\\n                --outSAMattributes All \\\n                --alignSJoverhangMin 8 \\\n                --alignSJDBoverhangMin 1 \\\n                --outFilterType BySJout \\\n                --alignIntronMin 20 \\\n                --alignIntronMax 1000000 \\\n                --outFilterScoreMin 10  \\\n                --alignEndsType Extend5pOfRead1 \\\n                --twopassMode Basic \\\n                --outSAMtype BAM Unsorted\"\n    \"\"\"\n    STAR \\\\\n        --runThreadN $task.cpus \\\\\n        --runMode alignReads \\\\\n        --genomeDir $index \\\\\n        --readFilesIn $reads --readFilesCommand gunzip -c \\\\\n        --outFileNamePrefix ${name}. $clip_args\n    samtools sort -@ $task.cpus -o ${name}.Aligned.sortedByCoord.out.bam ${name}.Aligned.out.bam\n    samtools index -@ $task.cpus ${name}.Aligned.sortedByCoord.out.bam\n    \"\"\"\n}",
        "nb_lignes_process": 35,
        "string_script": "    clip_args = \"--outFilterMultimapNmax 1 \\\n                --outFilterMultimapScoreRange 1 \\\n                --outSAMattributes All \\\n                --alignSJoverhangMin 8 \\\n                --alignSJDBoverhangMin 1 \\\n                --outFilterType BySJout \\\n                --alignIntronMin 20 \\\n                --alignIntronMax 1000000 \\\n                --outFilterScoreMin 10  \\\n                --alignEndsType Extend5pOfRead1 \\\n                --twopassMode Basic \\\n                --outSAMtype BAM Unsorted\"\n    \"\"\"\n    STAR \\\\\n        --runThreadN $task.cpus \\\\\n        --runMode alignReads \\\\\n        --genomeDir $index \\\\\n        --readFilesIn $reads --readFilesCommand gunzip -c \\\\\n        --outFileNamePrefix ${name}. $clip_args\n    samtools sort -@ $task.cpus -o ${name}.Aligned.sortedByCoord.out.bam ${name}.Aligned.out.bam\n    samtools index -@ $task.cpus ${name}.Aligned.sortedByCoord.out.bam\n    \"\"\"",
        "nb_lignes_script": 21,
        "language_script": "bash",
        "tools": [
            "STAR",
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/star",
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "STAR",
                "uri": "https://bio.tools/star",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Ultrafast universal RNA-seq aligner",
                "homepage": "http://code.google.com/p/rna-star/"
            },
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "ch_unmapped",
            "ch_star_index"
        ],
        "nb_inputs": 2,
        "outputs": [
            "ch_aligned",
            "ch_aligned_preseq",
            "ch_align_mqc",
            "ch_align_qc"
        ],
        "nb_outputs": 4,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "tag \"$name\"",
            "publishDir \"${params.outdir}/mapped\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "preseq": {
        "name_process": "preseq",
        "string_process": "\nprocess preseq {\n    tag \"$name\"\n    publishDir \"${params.outdir}/preseq\", mode: 'copy'\n\n    input:\n    tuple val(name), path(bam), path(bai) from ch_aligned_preseq\n\n    output:\n    path '*.ccurve.txt' into ch_preseq_mqc\n    path '*.log'\n\n    script:\n    \"\"\"\n    preseq lc_extrap \\\\\n        -output ${name}.ccurve.txt \\\\\n        -verbose \\\\\n        -bam \\\\\n        -seed 42 \\\\\n        $bam\n    cp .command.err ${name}.command.log\n    \"\"\"\n}",
        "nb_lignes_process": 21,
        "string_script": "    \"\"\"\n    preseq lc_extrap \\\\\n        -output ${name}.ccurve.txt \\\\\n        -verbose \\\\\n        -bam \\\\\n        -seed 42 \\\\\n        $bam\n    cp .command.err ${name}.command.log\n    \"\"\"",
        "nb_lignes_script": 8,
        "language_script": "bash",
        "tools": [
            "preseq"
        ],
        "tools_url": [
            "https://bio.tools/preseq"
        ],
        "tools_dico": [
            {
                "name": "preseq",
                "uri": "https://bio.tools/preseq",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0654",
                            "term": "DNA"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0654",
                            "term": "DNA analysis"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2423",
                                    "term": "Prediction and recognition"
                                }
                            ],
                            []
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "This package is aimed at predicting and number of distinct reads and how many will be expected from additional sequencing using an initial sequencing experiment. The estimates can then be used to examine the utility of further sequencing, optimize the sequencing depth, or to screen multiple libraries to avoid low complexity samples.",
                "homepage": "http://smithlabresearch.org/software/preseq/"
            }
        ],
        "inputs": [
            "ch_aligned_preseq"
        ],
        "nb_inputs": 1,
        "outputs": [
            "ch_preseq_mqc"
        ],
        "nb_outputs": 1,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "tag \"$name\"",
            "publishDir \"${params.outdir}/preseq\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "dedup": {
        "name_process": "dedup",
        "string_process": "\nprocess dedup {\n\n        tag \"$name\"\n        publishDir \"${params.outdir}/dedup\", mode: 'copy'\n\n        input:\n        tuple val(name), path(bam), path(bai) from ch_aligned\n\n        output:\n        tuple val(name), path(\"${name}.dedup.bam\"), path(\"${name}.dedup.bam.bai\") into ch_dedup, ch_dedup_pureclip, ch_dedup_rseqc\n                                                     \n\n        script:\n        \"\"\"\n        samtools rmdup -S $bam ${name}.dedup.bam\n        samtools index -@ $task.cpus ${name}.dedup.bam\n        \"\"\"\n}",
        "nb_lignes_process": 17,
        "string_script": "        \"\"\"\n        samtools rmdup -S $bam ${name}.dedup.bam\n        samtools index -@ $task.cpus ${name}.dedup.bam\n        \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "ch_aligned"
        ],
        "nb_inputs": 1,
        "outputs": [
            "ch_dedup",
            "ch_dedup_pureclip",
            "ch_dedup_rseqc"
        ],
        "nb_outputs": 3,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "tag \"$name\"",
            "publishDir \"${params.outdir}/dedup\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "get_crosslinks": {
        "name_process": "get_crosslinks",
        "string_process": "\nprocess get_crosslinks {\n    tag \"$name\"\n    publishDir \"${params.outdir}/xlinks\", mode: 'copy'\n\n    input:\n    tuple val(name), path(bam), path(bai) from ch_dedup\n    path(fai) from ch_fai_crosslinks.collect()\n\n    output:\n    tuple val(name), path(\"${name}.xl.bed.gz\") into ch_xlinks_icount, ch_xlinks_paraclu, ch_xlinks_piranha\n    tuple val(name), path(\"${name}.xl.bedgraph.gz\") into ch_xlinks_bedgraphs\n    path \"*.xl.bed.gz\" into ch_xlinks_qc\n\n    script:\n    \"\"\"\n    bedtools bamtobed -i $bam > dedup.bed\n    bedtools shift -m 1 -p -1 -i dedup.bed -g $fai > shifted.bed\n    bedtools genomecov -dz -strand + -5 -i shifted.bed -g $fai | awk '{OFS=\"\\t\"}{print \\$1, \\$2, \\$2+1, \".\", \\$3, \"+\"}' > pos.bed\n    bedtools genomecov -dz -strand - -5 -i shifted.bed -g $fai | awk '{OFS=\"\\t\"}{print \\$1, \\$2, \\$2+1, \".\", \\$3, \"-\"}' > neg.bed\n    cat pos.bed neg.bed | sort -k1,1 -k2,2n | pigz > ${name}.xl.bed.gz\n    zcat ${name}.xl.bed.gz | awk '{OFS = \"\\t\"}{if (\\$6 == \"+\") {print \\$1, \\$2, \\$3, \\$5} else {print \\$1, \\$2, \\$3, -\\$5}}' | pigz > ${name}.xl.bedgraph.gz\n    \"\"\"\n}",
        "nb_lignes_process": 22,
        "string_script": "    \"\"\"\n    bedtools bamtobed -i $bam > dedup.bed\n    bedtools shift -m 1 -p -1 -i dedup.bed -g $fai > shifted.bed\n    bedtools genomecov -dz -strand + -5 -i shifted.bed -g $fai | awk '{OFS=\"\\t\"}{print \\$1, \\$2, \\$2+1, \".\", \\$3, \"+\"}' > pos.bed\n    bedtools genomecov -dz -strand - -5 -i shifted.bed -g $fai | awk '{OFS=\"\\t\"}{print \\$1, \\$2, \\$2+1, \".\", \\$3, \"-\"}' > neg.bed\n    cat pos.bed neg.bed | sort -k1,1 -k2,2n | pigz > ${name}.xl.bed.gz\n    zcat ${name}.xl.bed.gz | awk '{OFS = \"\\t\"}{if (\\$6 == \"+\") {print \\$1, \\$2, \\$3, \\$5} else {print \\$1, \\$2, \\$3, -\\$5}}' | pigz > ${name}.xl.bedgraph.gz\n    \"\"\"",
        "nb_lignes_script": 7,
        "language_script": "bash",
        "tools": [
            "BEDTools"
        ],
        "tools_url": [
            "https://bio.tools/bedtools"
        ],
        "tools_dico": [
            {
                "name": "BEDTools",
                "uri": "https://bio.tools/bedtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2429",
                                    "term": "Mapping"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2429",
                                    "term": "Cartography"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "BEDTools is an extensive suite of utilities for comparing genomic features in BED format.",
                "homepage": "https://github.com/arq5x/bedtools2"
            }
        ],
        "inputs": [
            "ch_dedup",
            "ch_fai_crosslinks"
        ],
        "nb_inputs": 2,
        "outputs": [
            "ch_xlinks_icount",
            "ch_xlinks_paraclu",
            "ch_xlinks_piranha",
            "ch_xlinks_bedgraphs",
            "ch_xlinks_qc"
        ],
        "nb_outputs": 5,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "tag \"$name\"",
            "publishDir \"${params.outdir}/xlinks\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "piranha_peak_call": {
        "name_process": "piranha_peak_call",
        "string_process": "\nprocess piranha_peak_call {\n\n        tag \"$name\"\n        publishDir \"${params.outdir}/piranha\", mode: 'copy'\n\n        input:\n        tuple val(name), path(xlinks) from ch_xlinks_piranha\n\n        output:\n        tuple val(name), path(\"${name}.${bin_size_both}nt_${cluster_dist}nt.peaks.bed.gz\") into ch_peaks_piranha\n        path \"*.peaks.bed.gz\" into ch_piranha_qc\n\n        script:\n        bin_size_both = 3\n        cluster_dist = 3\n        \"\"\"\n        pigz -d -c $xlinks | \\\\\n        awk '{OFS=\"\\t\"}{for(i=0;i<\\$5;i++) print }' \\\\\n        > expanded.bed\n        Piranha \\\\\n            expanded.bed \\\\\n            -s \\\\\n            -b $bin_size_both \\\\\n            -u $cluster_dist \\\\\n            -o paraclu.bed\n        awk '{OFS=\"\\t\"}{print \\$1, \\$2, \\$3, \".\", \\$5, \\$6}' paraclu.bed | \\\\\n        pigz > ${name}.${bin_size_both}nt_${cluster_dist}nt.peaks.bed.gz\n        \"\"\"\n}",
        "nb_lignes_process": 28,
        "string_script": "        bin_size_both = 3\n        cluster_dist = 3\n        \"\"\"\n        pigz -d -c $xlinks | \\\\\n        awk '{OFS=\"\\t\"}{for(i=0;i<\\$5;i++) print }' \\\\\n        > expanded.bed\n        Piranha \\\\\n            expanded.bed \\\\\n            -s \\\\\n            -b $bin_size_both \\\\\n            -u $cluster_dist \\\\\n            -o paraclu.bed\n        awk '{OFS=\"\\t\"}{print \\$1, \\$2, \\$3, \".\", \\$5, \\$6}' paraclu.bed | \\\\\n        pigz > ${name}.${bin_size_both}nt_${cluster_dist}nt.peaks.bed.gz\n        \"\"\"",
        "nb_lignes_script": 14,
        "language_script": "bash",
        "tools": [
            "PiRaNhA"
        ],
        "tools_url": [
            "https://bio.tools/piranha"
        ],
        "tools_dico": [
            {
                "name": "PiRaNhA",
                "uri": "https://bio.tools/piranha",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0078",
                            "term": "Proteins"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3534",
                            "term": "Protein binding sites"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0099",
                            "term": "RNA"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3510",
                            "term": "Protein sites, features and motifs"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3474",
                            "term": "Machine learning"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0078",
                            "term": "Protein bioinformatics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0078",
                            "term": "Protein informatics"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2575",
                                    "term": "Binding site prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0267",
                                    "term": "Protein secondary structure prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0272",
                                    "term": "Residue contact prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3092",
                                    "term": "Protein feature detection"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2479",
                                    "term": "Protein sequence analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2575",
                                    "term": "Protein binding site prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2575",
                                    "term": "Protein binding site detection"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0267",
                                    "term": "Secondary structure prediction (protein)"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0272",
                                    "term": "Residue interaction prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3092",
                                    "term": "Protein feature prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3092",
                                    "term": "Protein feature recognition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2479",
                                    "term": "Sequence analysis (protein)"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Predicts the location of RNA binding residues in protein sequences using a support vector machine. Up to 10 protein sequences may be submitted.",
                "homepage": "http://www.bioinformatics.sussex.ac.uk/PIRANHA"
            }
        ],
        "inputs": [
            "ch_xlinks_piranha"
        ],
        "nb_inputs": 1,
        "outputs": [
            "ch_peaks_piranha",
            "ch_piranha_qc"
        ],
        "nb_outputs": 2,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "tag \"$name\"",
            "publishDir \"${params.outdir}/piranha\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "piranha_motif_dreme": {
        "name_process": "piranha_motif_dreme",
        "string_process": "\nprocess piranha_motif_dreme {\n\n        tag \"$name\"\n        publishDir \"${params.outdir}/piranha_motif\", mode: 'copy'\n\n        input:\n        tuple val(name), path(peaks) from ch_peaks_piranha\n        path(fasta) from ch_fasta_dreme_piranha.collect()\n        path(fai) from ch_fai_piranha_motif.collect()\n\n        output:\n         tuple val(name), path(\"${name}_dreme/*\") into ch_motif_dreme_piranha\n\n        script:\n        motif_sample = params.motif_sample\n        \"\"\"\n        pigz -d -c $peaks | awk '{OFS=\"\\t\"}{if(\\$6 == \"+\") print \\$1, \\$2, \\$2+1, \\$4, \\$5, \\$6; else print \\$1, \\$3-1, \\$3, \\$4, \\$5, \\$6}' | \\\\\n        bedtools slop -s -l 20 -r 20 -i /dev/stdin -g $fai | \\\\\n        shuf -n $motif_sample > resized_peaks.bed\n        bedtools getfasta -fi $fasta -bed resized_peaks.bed -fo resized_peaks.fasta\n        dreme -norc -o ${name}_dreme -p resized_peaks.fasta\n        \"\"\"\n }",
        "nb_lignes_process": 22,
        "string_script": "        motif_sample = params.motif_sample\n        \"\"\"\n        pigz -d -c $peaks | awk '{OFS=\"\\t\"}{if(\\$6 == \"+\") print \\$1, \\$2, \\$2+1, \\$4, \\$5, \\$6; else print \\$1, \\$3-1, \\$3, \\$4, \\$5, \\$6}' | \\\\\n        bedtools slop -s -l 20 -r 20 -i /dev/stdin -g $fai | \\\\\n        shuf -n $motif_sample > resized_peaks.bed\n        bedtools getfasta -fi $fasta -bed resized_peaks.bed -fo resized_peaks.fasta\n        dreme -norc -o ${name}_dreme -p resized_peaks.fasta\n        \"\"\"",
        "nb_lignes_script": 7,
        "language_script": "bash",
        "tools": [
            "BEDTools"
        ],
        "tools_url": [
            "https://bio.tools/bedtools"
        ],
        "tools_dico": [
            {
                "name": "BEDTools",
                "uri": "https://bio.tools/bedtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2429",
                                    "term": "Mapping"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2429",
                                    "term": "Cartography"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "BEDTools is an extensive suite of utilities for comparing genomic features in BED format.",
                "homepage": "https://github.com/arq5x/bedtools2"
            }
        ],
        "inputs": [
            "ch_peaks_piranha",
            "ch_fasta_dreme_piranha",
            "ch_fai_piranha_motif"
        ],
        "nb_inputs": 3,
        "outputs": [
            "ch_motif_dreme_piranha"
        ],
        "nb_outputs": 1,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "tag \"$name\"",
            "publishDir \"${params.outdir}/piranha_motif\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "clipqc": {
        "name_process": "clipqc",
        "string_process": "\nprocess clipqc {\n\n    publishDir \"${params.outdir}/clipqc\", mode: 'copy'\n\n    input:\n    file ('premap/*') from ch_premap_qc.collect().ifEmpty([])\n    file ('mapped/*') from ch_align_qc.collect().ifEmpty([])\n            'dedup/*'                                        \n    file ('xlinks/*') from ch_xlinks_qc.collect().ifEmpty([])\n    file ('piranha/*') from ch_piranha_qc.collect().ifEmpty([])\n\n    output:\n    path \"*.tsv\" into ch_clipqc_mqc\n\n    script:\n    \"\"\"\n    python ${projectDir}/bin/clip_seq.py\n    \"\"\"\n}",
        "nb_lignes_process": 18,
        "string_script": "    \"\"\"\n    python ${projectDir}/bin/clip_seq.py\n    \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "ch_premap_qc",
            "ch_align_qc",
            "ch_xlinks_qc",
            "ch_piranha_qc"
        ],
        "nb_inputs": 4,
        "outputs": [
            "ch_clipqc_mqc"
        ],
        "nb_outputs": 1,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "publishDir \"${params.outdir}/clipqc\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "multiqc": {
        "name_process": "multiqc",
        "string_process": "\nprocess multiqc {\n\n    publishDir \"${params.outdir}/multiqc\", mode: 'copy'\n\n    input:\n    file (multiqc_config) from ch_multiqc_config\n    file (mqc_custom_config) from ch_multiqc_custom_config.collect().ifEmpty([])\n    file ('fastqc/*') from fastqc_ch.collect().ifEmpty([])\n    file ('premap/*') from ch_premap_mqc.collect().ifEmpty([])\n    file ('mapped/*') from ch_align_mqc.collect().ifEmpty([])\n    path ('preseq/*') from ch_preseq_mqc.collect().ifEmpty([])\n    file ('clipqc/*') from ch_clipqc_mqc.collect().ifEmpty([])\n\n    output:\n    file \"*html\" into ch_multiqc_report\n\n    script:\n    \"\"\"\n    multiqc .\n    \"\"\"\n}",
        "nb_lignes_process": 20,
        "string_script": "    \"\"\"\n    multiqc .\n    \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "MultiQC"
        ],
        "tools_url": [
            "https://bio.tools/multiqc"
        ],
        "tools_dico": [
            {
                "name": "MultiQC",
                "uri": "https://bio.tools/multiqc",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0091",
                            "term": "Bioinformatics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2428",
                                    "term": "Validation"
                                }
                            ],
                            []
                        ],
                        "input": [],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2048",
                                "term": "Report"
                            }
                        ]
                    }
                ],
                "description": "MultiQC aggregates results from multiple bioinformatics analyses across many samples into a single report. It searches a given directory for analysis logs and compiles a HTML report. It's a general use tool, perfect for summarising the output from numerous bioinformatics tools.",
                "homepage": "http://multiqc.info/"
            }
        ],
        "inputs": [
            "ch_multiqc_config",
            "ch_multiqc_custom_config",
            "fastqc_ch",
            "ch_premap_mqc",
            "ch_align_mqc",
            "ch_preseq_mqc",
            "ch_clipqc_mqc"
        ],
        "nb_inputs": 7,
        "outputs": [
            "ch_multiqc_report"
        ],
        "nb_outputs": 1,
        "name_workflow": "oisinmccaffrey__clipseq.nextflow",
        "directive": [
            "publishDir \"${params.outdir}/multiqc\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    }
}