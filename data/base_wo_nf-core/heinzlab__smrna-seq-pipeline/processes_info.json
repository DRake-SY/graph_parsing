{
    "makeBowtieIndex": {
        "name_process": "makeBowtieIndex",
        "string_process": "\nprocess makeBowtieIndex {\n\n    publishDir path: { params.saveReference ? \"${params.outdir}/bowtie/reference\" : params.outdir },\n               saveAs: { params.saveReference ? it : null }, mode: 'copy'\n\n    input:\n    file mature from mature\n    file hairpin from hairpin\n\n    output:\n    file 'mature_idx.*' into mature_index\n    file 'hairpin_idx.*' into hairpin_index\n\n    script:\n    \"\"\"\n    fasta_formatter -w 0 -i $mature -o mature_igenome.fa\n    fasta_nucleotide_changer -d -i mature_igenome.fa -o mature_idx.fa\n    bowtie-build mature_idx.fa mature_idx\n    fasta_formatter -w 0 -i $hairpin -o hairpin_igenome.fa\n    fasta_nucleotide_changer -d -i hairpin_igenome.fa -o hairpin_idx.fa\n    bowtie-build hairpin_idx.fa hairpin_idx\n    \"\"\"\n}",
        "nb_lignes_process": 22,
        "string_script": "    \"\"\"\n    fasta_formatter -w 0 -i $mature -o mature_igenome.fa\n    fasta_nucleotide_changer -d -i mature_igenome.fa -o mature_idx.fa\n    bowtie-build mature_idx.fa mature_idx\n    fasta_formatter -w 0 -i $hairpin -o hairpin_igenome.fa\n    fasta_nucleotide_changer -d -i hairpin_igenome.fa -o hairpin_idx.fa\n    bowtie-build hairpin_idx.fa hairpin_idx\n    \"\"\"",
        "nb_lignes_script": 7,
        "language_script": "bash",
        "tools": [
            "Bowtie"
        ],
        "tools_url": [
            "https://bio.tools/bowtie"
        ],
        "tools_dico": [
            {
                "name": "Bowtie",
                "uri": "https://bio.tools/bowtie",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0196",
                            "term": "Sequence assembly"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0006",
                                "term": "Data"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            },
                            {
                                "uri": "http://edamontology.org/data_0006",
                                "term": "Data"
                            }
                        ]
                    }
                ],
                "description": "Bowtie is an ultrafast, memory-efficient short read aligner.",
                "homepage": "http://bowtie-bio.sourceforge.net/index.shtml"
            }
        ],
        "inputs": [
            "mature",
            "hairpin"
        ],
        "nb_inputs": 2,
        "outputs": [
            "mature_index",
            "hairpin_index"
        ],
        "nb_outputs": 2,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "publishDir path: { params.saveReference ? \"${params.outdir}/bowtie/reference\" : params.outdir } , saveAs: { params.saveReference ? it : null }, mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "fastqc": {
        "name_process": "fastqc",
        "string_process": "\nprocess fastqc {\n    tag \"$reads\"\n    publishDir \"${params.outdir}/fastqc\", mode: 'copy'\n\n    when:\n    !params.skip_qc && !params.skip_fastqc\n\n    input:\n    file reads from raw_reads_fastqc\n\n    output:\n    file '*_fastqc.{zip,html}' into fastqc_results\n\n    script:\n    \"\"\"\n    fastqc -q $reads\n    \"\"\"\n}",
        "nb_lignes_process": 17,
        "string_script": "    \"\"\"\n    fastqc -q $reads\n    \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "FastQC"
        ],
        "tools_url": [
            "https://bio.tools/fastqc"
        ],
        "tools_dico": [
            {
                "name": "FastQC",
                "uri": "https://bio.tools/fastqc",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3572",
                            "term": "Data quality management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical calculation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality control"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0236",
                                    "term": "Sequence composition calculation"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Significance testing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical testing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical test"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2238",
                                    "term": "Statistical analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing QC"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality assessment"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0848",
                                "term": "Raw sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2955",
                                "term": "Sequence report"
                            }
                        ]
                    }
                ],
                "description": "This tool aims to provide a QC report which can spot problems or biases which originate either in the sequencer or in the starting library material. It can be run in one of two modes. It can either run as a stand alone interactive application for the immediate analysis of small numbers of FastQ files, or it can be run in a non-interactive mode where it would be suitable for integrating into a larger analysis pipeline for the systematic processing of large numbers of files.",
                "homepage": "http://www.bioinformatics.babraham.ac.uk/projects/fastqc/"
            }
        ],
        "inputs": [
            "raw_reads_fastqc"
        ],
        "nb_inputs": 1,
        "outputs": [
            "fastqc_results"
        ],
        "nb_outputs": 1,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "tag \"$reads\"",
            "publishDir \"${params.outdir}/fastqc\", mode: 'copy'"
        ],
        "when": "!params.skip_qc && !params.skip_fastqc",
        "stub": ""
    },
    "bbduk": {
        "name_process": "bbduk",
        "string_process": "\nprocess bbduk {\n    tag \"$reads\"\n    publishDir \"${params.outdir}/bbduk\", mode: 'copy'\n\n    input:\n    file reads from raw_reads_bbduk\n    file adapters from adapters\n\n    output:\n    file '*.gz' into trimmed_reads_bowtie, trimmed_reads_bowtie2, trimmed_reads_insertsize\n\n    script:\n    tg_length = \"--length ${params.length}\"\n    c_r1 = params.clip_R1 > 0 ? \"--clip_R1 ${params.clip_R1}\" : ''\n    tpc_r1 = params.three_prime_clip_R1 > 0 ? \"--three_prime_clip_R1 ${params.three_prime_clip_R1}\" : ''\n    prefix = reads.toString() - ~/(.R1)?(_R1)?(_trimmed)?(\\.fq)?(\\.fastq)?(\\.gz)?$/\n    \"\"\"\n    bbduk.sh in=$reads out=${prefix}_trimmed.fastq.gz ref=$adapters -ktrim=r k=23 mink=11 hdist=1 tpe tbo qtrim=r trimq=20\n    \"\"\"\n}",
        "nb_lignes_process": 19,
        "string_script": "    tg_length = \"--length ${params.length}\"\n    c_r1 = params.clip_R1 > 0 ? \"--clip_R1 ${params.clip_R1}\" : ''\n    tpc_r1 = params.three_prime_clip_R1 > 0 ? \"--three_prime_clip_R1 ${params.three_prime_clip_R1}\" : ''\n    prefix = reads.toString() - ~/(.R1)?(_R1)?(_trimmed)?(\\.fq)?(\\.fastq)?(\\.gz)?$/\n    \"\"\"\n    bbduk.sh in=$reads out=${prefix}_trimmed.fastq.gz ref=$adapters -ktrim=r k=23 mink=11 hdist=1 tpe tbo qtrim=r trimq=20\n    \"\"\"",
        "nb_lignes_script": 6,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "raw_reads_bbduk",
            "adapters"
        ],
        "nb_inputs": 2,
        "outputs": [
            "trimmed_reads_bowtie",
            "trimmed_reads_bowtie2",
            "trimmed_reads_insertsize"
        ],
        "nb_outputs": 3,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "tag \"$reads\"",
            "publishDir \"${params.outdir}/bbduk\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "insertsize": {
        "name_process": "insertsize",
        "string_process": "\nprocess insertsize {\n    tag \"$reads\"\n    publishDir \"${params.outdir}/bbduk/insertsize\", mode: 'copy'\n\n    input:\n    file reads from trimmed_reads_insertsize\n\n    output:\n    file '*.insertsize' into insertsize_results\n\n    script:\n    prefix = reads.toString() - ~/(.R1)?(_R1)?(_trimmed)?(\\.fq)?(\\.fastq)?(\\.gz)?$/\n    \"\"\"\n    awk 'NR%4 == 2 {lengths[length(\\$0)]++} END {for (l in lengths) {print l, lengths[l]}}' <(zcat $reads) >${prefix}.insertsize\n    \"\"\"\n}",
        "nb_lignes_process": 15,
        "string_script": "    prefix = reads.toString() - ~/(.R1)?(_R1)?(_trimmed)?(\\.fq)?(\\.fastq)?(\\.gz)?$/\n    \"\"\"\n    awk 'NR%4 == 2 {lengths[length(\\$0)]++} END {for (l in lengths) {print l, lengths[l]}}' <(zcat $reads) >${prefix}.insertsize\n    \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "trimmed_reads_insertsize"
        ],
        "nb_inputs": 1,
        "outputs": [
            "insertsize_results"
        ],
        "nb_outputs": 1,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "tag \"$reads\"",
            "publishDir \"${params.outdir}/bbduk/insertsize\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "bowtie_miRBase_mature": {
        "name_process": "bowtie_miRBase_mature",
        "string_process": "\nprocess bowtie_miRBase_mature {\n    tag \"$reads\"\n    publishDir \"${params.outdir}/bowtie/miRBase_mature\", mode: 'copy', pattern: '*.mature_unmapped.fq.gz'\n\n    input:\n    file reads from trimmed_reads_bowtie\n    file index from mature_index\n\n    output:\n    file '*.mature.bam' into miRBase_mature_bam\n    file '*.mature_unmapped.fq.gz' into mature_unmapped_reads\n\n    script:\n    index_base = index.toString().tokenize(' ')[0].tokenize('.')[0]\n    prefix = reads.toString() - ~/(.R1)?(_R1)?(_trimmed)?(\\.fq)?(\\.fastq)?(\\.gz)?$/\n    \"\"\"\n    bowtie \\\\\n        $index_base \\\\\n        -q <(zcat $reads) \\\\\n        -p 2 \\\\\n        -t \\\\\n        -k 1 \\\\\n        -m 1 \\\\\n        --best \\\\\n        --strata \\\\\n        -e 99999 \\\\\n        --chunkmbs 2048 \\\\\n        --un ${prefix}.mature_unmapped.fq \\\\\n        -S \\\\\n        | samtools view -bS - > ${prefix}.mature.bam\n    gzip ${prefix}.mature_unmapped.fq\n    \"\"\"\n}",
        "nb_lignes_process": 32,
        "string_script": "    index_base = index.toString().tokenize(' ')[0].tokenize('.')[0]\n    prefix = reads.toString() - ~/(.R1)?(_R1)?(_trimmed)?(\\.fq)?(\\.fastq)?(\\.gz)?$/\n    \"\"\"\n    bowtie \\\\\n        $index_base \\\\\n        -q <(zcat $reads) \\\\\n        -p 2 \\\\\n        -t \\\\\n        -k 1 \\\\\n        -m 1 \\\\\n        --best \\\\\n        --strata \\\\\n        -e 99999 \\\\\n        --chunkmbs 2048 \\\\\n        --un ${prefix}.mature_unmapped.fq \\\\\n        -S \\\\\n        | samtools view -bS - > ${prefix}.mature.bam\n    gzip ${prefix}.mature_unmapped.fq\n    \"\"\"",
        "nb_lignes_script": 18,
        "language_script": "bash",
        "tools": [
            "Bowtie",
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/bowtie",
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "Bowtie",
                "uri": "https://bio.tools/bowtie",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0196",
                            "term": "Sequence assembly"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0006",
                                "term": "Data"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            },
                            {
                                "uri": "http://edamontology.org/data_0006",
                                "term": "Data"
                            }
                        ]
                    }
                ],
                "description": "Bowtie is an ultrafast, memory-efficient short read aligner.",
                "homepage": "http://bowtie-bio.sourceforge.net/index.shtml"
            },
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "trimmed_reads_bowtie",
            "mature_index"
        ],
        "nb_inputs": 2,
        "outputs": [
            "miRBase_mature_bam",
            "mature_unmapped_reads"
        ],
        "nb_outputs": 2,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "tag \"$reads\"",
            "publishDir \"${params.outdir}/bowtie/miRBase_mature\", mode: 'copy', pattern: '*.mature_unmapped.fq.gz'"
        ],
        "when": "",
        "stub": ""
    },
    "bowtie_miRBase_hairpin": {
        "name_process": "bowtie_miRBase_hairpin",
        "string_process": "\nprocess bowtie_miRBase_hairpin {\n    tag \"$reads\"\n    publishDir \"${params.outdir}/bowtie/miRBase_hairpin\", mode: 'copy', pattern: '*.hairpin_unmapped.fq.gz'\n\n    input:\n    file reads from mature_unmapped_reads\n    file index from hairpin_index\n\n    output:\n    file '*.hairpin.bam' into miRBase_hairpin_bam\n    file '*.hairpin_unmapped.fq.gz' into hairpin_unmapped_reads\n\n    script:\n    index_base = index.toString().tokenize(' ')[0].tokenize('.')[0]\n    prefix = reads.toString() - '.mature_unmapped.fq.gz'\n    \"\"\"\n    bowtie \\\\\n        $index_base \\\\\n        -p 2 \\\\\n        -t \\\\\n        -k 1 \\\\\n        -m 1 \\\\\n        --best \\\\\n        --strata \\\\\n        -e 99999 \\\\\n        --chunkmbs 2048 \\\\\n        -q <(zcat $reads) \\\\\n        --un ${prefix}.hairpin_unmapped.fq \\\\\n        -S \\\\\n        | samtools view -bS - > ${prefix}.hairpin.bam\n    gzip ${prefix}.hairpin_unmapped.fq\n    \"\"\"\n}",
        "nb_lignes_process": 32,
        "string_script": "    index_base = index.toString().tokenize(' ')[0].tokenize('.')[0]\n    prefix = reads.toString() - '.mature_unmapped.fq.gz'\n    \"\"\"\n    bowtie \\\\\n        $index_base \\\\\n        -p 2 \\\\\n        -t \\\\\n        -k 1 \\\\\n        -m 1 \\\\\n        --best \\\\\n        --strata \\\\\n        -e 99999 \\\\\n        --chunkmbs 2048 \\\\\n        -q <(zcat $reads) \\\\\n        --un ${prefix}.hairpin_unmapped.fq \\\\\n        -S \\\\\n        | samtools view -bS - > ${prefix}.hairpin.bam\n    gzip ${prefix}.hairpin_unmapped.fq\n    \"\"\"",
        "nb_lignes_script": 18,
        "language_script": "bash",
        "tools": [
            "Bowtie",
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/bowtie",
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "Bowtie",
                "uri": "https://bio.tools/bowtie",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0196",
                            "term": "Sequence assembly"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0622",
                            "term": "Genomics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment generation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0292",
                                    "term": "Sequence alignment construction"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0006",
                                "term": "Data"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            },
                            {
                                "uri": "http://edamontology.org/data_0006",
                                "term": "Data"
                            }
                        ]
                    }
                ],
                "description": "Bowtie is an ultrafast, memory-efficient short read aligner.",
                "homepage": "http://bowtie-bio.sourceforge.net/index.shtml"
            },
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "mature_unmapped_reads",
            "hairpin_index"
        ],
        "nb_inputs": 2,
        "outputs": [
            "miRBase_hairpin_bam",
            "hairpin_unmapped_reads"
        ],
        "nb_outputs": 2,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "tag \"$reads\"",
            "publishDir \"${params.outdir}/bowtie/miRBase_hairpin\", mode: 'copy', pattern: '*.hairpin_unmapped.fq.gz'"
        ],
        "when": "",
        "stub": ""
    },
    "miRBasePostAlignment": {
        "name_process": "miRBasePostAlignment",
        "string_process": "\nprocess miRBasePostAlignment {\n    tag \"$input\"\n    publishDir \"${params.outdir}/bowtie\", mode: 'copy', saveAs: wrap_mature_and_hairpin\n\n    input:\n    file input from miRBase_mature_bam.mix(miRBase_hairpin_bam)\n\n    output:\n    file \"${input.baseName}.count\" into miRBase_counts\n    file \"${input.baseName}.sorted.bam\" into miRBase_bam\n    file \"${input.baseName}.sorted.bam.bai\" into miRBase_bai\n\n    script:\n    \"\"\"\n    samtools sort ${input.baseName}.bam -o ${input.baseName}.sorted.bam\n    samtools index ${input.baseName}.sorted.bam\n    samtools idxstats ${input.baseName}.sorted.bam > ${input.baseName}.count\n    \"\"\"\n}",
        "nb_lignes_process": 18,
        "string_script": "    \"\"\"\n    samtools sort ${input.baseName}.bam -o ${input.baseName}.sorted.bam\n    samtools index ${input.baseName}.sorted.bam\n    samtools idxstats ${input.baseName}.sorted.bam > ${input.baseName}.count\n    \"\"\"",
        "nb_lignes_script": 4,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "miRBase_mature_bam",
            "miRBase_hairpin_bam"
        ],
        "nb_inputs": 2,
        "outputs": [
            "miRBase_counts",
            "miRBase_bam",
            "miRBase_bai"
        ],
        "nb_outputs": 3,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "tag \"$input\"",
            "publishDir \"${params.outdir}/bowtie\", mode: 'copy', saveAs: wrap_mature_and_hairpin"
        ],
        "when": "",
        "stub": ""
    },
    "edgeR_miRBase": {
        "name_process": "edgeR_miRBase",
        "string_process": "\nprocess edgeR_miRBase {\n    publishDir \"${params.outdir}/edgeR\", mode: 'copy', saveAs: wrap_mature_and_hairpin\n\n    input:\n    file input_files from miRBase_counts.toSortedList()\n\n    output:\n    file '*.{txt,pdf}' into edgeR_miRBase_results\n\n    script:\n    \"\"\"\n    edgeR_miRBase.r $input_files\n    \"\"\"\n}",
        "nb_lignes_process": 13,
        "string_script": "    \"\"\"\n    edgeR_miRBase.r $input_files\n    \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "miRBase_counts"
        ],
        "nb_inputs": 1,
        "outputs": [
            "edgeR_miRBase_results"
        ],
        "nb_outputs": 1,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "publishDir \"${params.outdir}/edgeR\", mode: 'copy', saveAs: wrap_mature_and_hairpin"
        ],
        "when": "",
        "stub": ""
    },
    "bowtie2": {
        "name_process": "bowtie2",
        "string_process": " process bowtie2 {\n        tag \"$reads\"\n        publishDir \"${params.outdir}/bowtie2\", mode: 'copy'\n\n        input:\n        file reads from trimmed_reads_bowtie2\n        file bt2_indices\n\n        output:\n        file '*.bowtie2.bam' into bowtie2_bam, bowtie2_bam_for_unmapped\n\n        script:\n        index_base = bt2_indices[0].toString()  - ~/\\.\\d+\\.bt2/\n        prefix = reads.toString() - ~/(.R1)?(_R1)?(_trimmed)?(\\.fq)?(\\.fastq)?(\\.gz)?$/\n        \"\"\"\n        bowtie2 \\\\\n            -x $index_base \\\\\n            -U $reads \\\\\n            -k 10 \\\\\n            --very-sensitive \\\\\n            -p 8 \\\\\n            -t \\\\\n            | samtools view -bT $index_base - > ${prefix}.bowtie2.bam\n        \"\"\"\n    }",
        "nb_lignes_process": 23,
        "string_script": "        index_base = bt2_indices[0].toString()  - ~/\\.\\d+\\.bt2/\n        prefix = reads.toString() - ~/(.R1)?(_R1)?(_trimmed)?(\\.fq)?(\\.fastq)?(\\.gz)?$/\n        \"\"\"\n        bowtie2 \\\\\n            -x $index_base \\\\\n            -U $reads \\\\\n            -k 10 \\\\\n            --very-sensitive \\\\\n            -p 8 \\\\\n            -t \\\\\n            | samtools view -bT $index_base - > ${prefix}.bowtie2.bam\n        \"\"\"",
        "nb_lignes_script": 11,
        "language_script": "bash",
        "tools": [
            "Rbowtie2",
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/rbowtie2",
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "Rbowtie2",
                "uri": "https://bio.tools/rbowtie2",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0232",
                                    "term": "Sequence merging"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0232",
                                    "term": "Sequence splicing"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "This package provides an R wrapper of the popular bowtie2 sequencing reads aligner and AdapterRemoval, a convenient tool for rapid adapter trimming, identification, and read merging.",
                "homepage": "http://bioconductor.org/packages/release/bioc/html/Rbowtie2.html"
            },
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "trimmed_reads_bowtie2",
            "bt2_indices"
        ],
        "nb_inputs": 2,
        "outputs": [
            "bowtie2_bam",
            "bowtie2_bam_for_unmapped"
        ],
        "nb_outputs": 2,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "tag \"$reads\"",
            "publishDir \"${params.outdir}/bowtie2\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "bowtie2_unmapped": {
        "name_process": "bowtie2_unmapped",
        "string_process": " process bowtie2_unmapped {\n        tag \"${input_files[0].baseName}\"\n        publishDir \"${params.outdir}/bowtie2/unmapped\", mode: 'copy'\n\n        input:\n        file input_files from bowtie2_bam_for_unmapped.toSortedList()\n\n        output:\n        file 'unmapped_refgenome.txt' into bowtie2_unmapped\n\n        script:\n        \"\"\"\n        for i in $input_files\n        do\n          printf \"\\${i}\\t\"\n          samtools view -c -f0x4 \\${i}\n        done > unmapped_refgenome.txt\n        \"\"\"\n    }",
        "nb_lignes_process": 17,
        "string_script": "        \"\"\"\n        for i in $input_files\n        do\n          printf \"\\${i}\\t\"\n          samtools view -c -f0x4 \\${i}\n        done > unmapped_refgenome.txt\n        \"\"\"",
        "nb_lignes_script": 6,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "bowtie2_bam_for_unmapped"
        ],
        "nb_inputs": 1,
        "outputs": [
            "bowtie2_unmapped"
        ],
        "nb_outputs": 1,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "tag \"${input_files[0].baseName}\"",
            "publishDir \"${params.outdir}/bowtie2/unmapped\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "ngi_visualizations": {
        "name_process": "ngi_visualizations",
        "string_process": " process ngi_visualizations {\n        tag \"$bowtie2_bam\"\n        publishDir \"${params.outdir}/bowtie2/ngi_visualizations\", mode: 'copy'\n\n        input:\n        file gtf from gtf\n        file bowtie2_bam\n\n        output:\n        file '*.{png,pdf}' into bowtie2_ngi_visualizations\n\n        script:\n                                                          \n                                                                                   \n        \"\"\"\n        #!/usr/bin/env python\n        from ngi_visualizations.biotypes import count_biotypes\n        count_biotypes.main('$gtf','$bowtie2_bam')\n        \"\"\"\n    }",
        "nb_lignes_process": 18,
        "string_script": "        \"\"\"\n        #!/usr/bin/env python\n        from ngi_visualizations.biotypes import count_biotypes\n        count_biotypes.main('$gtf','$bowtie2_bam')\n        \"\"\"",
        "nb_lignes_script": 4,
        "language_script": "python",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "gtf",
            "bowtie2_bam"
        ],
        "nb_inputs": 2,
        "outputs": [
            "bowtie2_ngi_visualizations"
        ],
        "nb_outputs": 1,
        "name_workflow": "heinzlab__smrna-seq-pipeline",
        "directive": [
            "tag \"$bowtie2_bam\"",
            "publishDir \"${params.outdir}/bowtie2/ngi_visualizations\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    }
}