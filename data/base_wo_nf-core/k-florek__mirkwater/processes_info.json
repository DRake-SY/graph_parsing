{
    "preProcessPacBioBAM": {
        "name_process": "preProcessPacBioBAM",
        "string_process": "\nprocess preProcessPacBioBAM {\n  tag \"${reads.baseName}\"\n\n  input:\n  set file(reads), file(reference), file(reference_gff) from pacbio_reads_reference\n\n  when:\n  params.pacbio\n\n  output:\n  tuple val(\"${reads.baseName}\"), file(\"*.fastq\"), file(reference), file(reference_gff) into fastq_reads_mapping, fastq_reads_pbaa\n  file(\"*fasta.fai\") into reference_genome_index_pbaa\n  file(\"*fastq.fai\") into read_index\n\n  script:\n  \"\"\"\n    samtools fastq ${reads} > ${reads.baseName}.fastq\n    samtools faidx ${reference}\n    samtools fqidx ${reads.baseName}.fastq\n  \"\"\"\n}",
        "nb_lignes_process": 20,
        "string_script": "  \"\"\"\n    samtools fastq ${reads} > ${reads.baseName}.fastq\n    samtools faidx ${reference}\n    samtools fqidx ${reads.baseName}.fastq\n  \"\"\"",
        "nb_lignes_script": 4,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "pacbio_reads_reference"
        ],
        "nb_inputs": 1,
        "outputs": [
            "fastq_reads_mapping",
            "fastq_reads_pbaa",
            "reference_genome_index_pbaa",
            "read_index"
        ],
        "nb_outputs": 4,
        "name_workflow": "k-florek__mirkwater",
        "directive": [
            "tag \"${reads.baseName}\""
        ],
        "when": "params.pacbio",
        "stub": ""
    },
    "pbaa": {
        "name_process": "pbaa",
        "string_process": "\nprocess pbaa {\n  tag \"$name\"\n  publishDir \"${params.outdir}/pbaa_clustering\", pattern: '*passed*', mode: 'copy', saveAs: {\"${name}.clusters.passing.${file(it).getExtension()}\"}\n  publishDir \"${params.outdir}/pbaa_clustering\",pattern: '*failed*', mode: 'copy', saveAs: {\"${name}.clusters.failed.${file(it).getExtension()}\"}\n\n  input:\n  set val(name), file(reads), file(reference), file(reference_gff) from fastq_reads_pbaa\n  file(index) from reference_genome_index_pbaa\n  file(rd_index) from read_index\n\n  output:\n  file(\"*passed_cluster_sequences.fasta\") into passed_clusters\n  file(\"*failed_cluster_sequences.fasta\")\n\n  script:\n  \"\"\"\n\n  pbaa cluster ${reference} ${reads} ${name}.sam --filter ${params.minreaddepth} --min-var-frequency ${params.minfreq}\n  \"\"\"\n}",
        "nb_lignes_process": 19,
        "string_script": "  \"\"\"\n\n  pbaa cluster ${reference} ${reads} ${name}.sam --filter ${params.minreaddepth} --min-var-frequency ${params.minfreq}\n  \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [
            "BPBAac"
        ],
        "tools_url": [
            "https://bio.tools/bpbaac"
        ],
        "tools_dico": [
            {
                "name": "BPBAac",
                "uri": "https://bio.tools/bpbaac",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0130",
                            "term": "Protein folding, stability and design"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2269",
                            "term": "Statistics and probability"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0154",
                            "term": "Small molecules"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2479",
                                    "term": "Protein sequence analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2423",
                                    "term": "Prediction and recognition"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2479",
                                    "term": "Sequence analysis (protein)"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "A classifier, was developed and trained using Support Vector Machine (SVM) based on the Aac feature extracted using a Bi-profile Bayes model.",
                "homepage": "http://biocomputer.bio.cuhk.edu.hk/T3DB/BPBAac.php"
            }
        ],
        "inputs": [
            "fastq_reads_pbaa",
            "reference_genome_index_pbaa",
            "read_index"
        ],
        "nb_inputs": 3,
        "outputs": [
            "passed_clusters"
        ],
        "nb_outputs": 1,
        "name_workflow": "k-florek__mirkwater",
        "directive": [
            "tag \"$name\"",
            "publishDir \"${params.outdir}/pbaa_clustering\", pattern: '*passed*', mode: 'copy', saveAs: {\"${name}.clusters.passing.${file(it).getExtension()}\"}",
            "publishDir \"${params.outdir}/pbaa_clustering\",pattern: '*failed*', mode: 'copy', saveAs: {\"${name}.clusters.failed.${file(it).getExtension()}\"}"
        ],
        "when": "",
        "stub": ""
    },
    "cluster_seq_alignment": {
        "name_process": "cluster_seq_alignment",
        "string_process": "\nprocess cluster_seq_alignment {\n  publishDir \"${params.outdir}/cluster_alignment\", mode: 'copy'\n\n  input:\n  file(clusters) from passed_clusters.collect()\n  file(reference) from  reference_genome_cluster\n\n  output:\n  file(\"cluster_alignment.fasta\") into cluster_alignment\n\n  script:\n  \"\"\"\n  cat ${clusters} > all.fa\n  mafft --6merpair --adjustdirection --addfragments all.fa ${reference} > cluster_alignment.fasta\n  \"\"\"\n}",
        "nb_lignes_process": 15,
        "string_script": "  \"\"\"\n  cat ${clusters} > all.fa\n  mafft --6merpair --adjustdirection --addfragments all.fa ${reference} > cluster_alignment.fasta\n  \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [
            "MAFFT"
        ],
        "tools_url": [
            "https://bio.tools/MAFFT"
        ],
        "tools_dico": [
            {
                "name": "MAFFT",
                "uri": "https://bio.tools/MAFFT",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0492",
                                    "term": "Multiple sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0492",
                                    "term": "Multiple alignment"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0863",
                                "term": "Sequence alignment"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0863",
                                "term": "Sequence alignment"
                            }
                        ]
                    }
                ],
                "description": "MAFFT (Multiple Alignment using Fast Fourier Transform) is a high speed multiple sequence alignment program.",
                "homepage": "http://mafft.cbrc.jp/alignment/server/index.html"
            }
        ],
        "inputs": [
            "passed_clusters",
            "reference_genome_cluster"
        ],
        "nb_inputs": 2,
        "outputs": [
            "cluster_alignment"
        ],
        "nb_outputs": 1,
        "name_workflow": "k-florek__mirkwater",
        "directive": [
            "publishDir \"${params.outdir}/cluster_alignment\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "cluster_variant_sites": {
        "name_process": "cluster_variant_sites",
        "string_process": "\nprocess cluster_variant_sites {\n  publishDir \"${params.outdir}/cluster_variants\", mode: 'copy'\n\n  input:\n  file(alignment) from cluster_alignment\n\n  output:\n  file(\"cluster_variants.vcf\") into cluster_variants\n\n  script:\n  \"\"\"\n  snp-sites -cb -v -o cluster_variants.vcf ${alignment}\n  \"\"\"\n}",
        "nb_lignes_process": 13,
        "string_script": "  \"\"\"\n  snp-sites -cb -v -o cluster_variants.vcf ${alignment}\n  \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "cluster_alignment"
        ],
        "nb_inputs": 1,
        "outputs": [
            "cluster_variants"
        ],
        "nb_outputs": 1,
        "name_workflow": "k-florek__mirkwater",
        "directive": [
            "publishDir \"${params.outdir}/cluster_variants\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "prep_variant_calls": {
        "name_process": "prep_variant_calls",
        "string_process": "\nprocess prep_variant_calls {\n  publishDir \"${params.outdir}/cluster_variants\", mode: 'copy'\n\n  input:\n  file(vcf) from cluster_variants\n\n  output:\n  file(\"*sample*.vcf\") into prep_variant_calls\n\n  script:\n  \"\"\"\n  bcftools annotate --rename-chrs <(printf '1\\tNC_045512.2') ${vcf} > cluster_variants_chrom.vcf\n  for sample in \\$(bcftools query -l cluster_variants_chrom.vcf); do\n    bcftools view -c1 -Ov -s \\$sample -o \\$sample.vcf cluster_variants_chrom.vcf\n  done\n  mv cluster_variants_chrom.vcf ${vcf}\n  \"\"\"\n}",
        "nb_lignes_process": 17,
        "string_script": "  \"\"\"\n  bcftools annotate --rename-chrs <(printf '1\\tNC_045512.2') ${vcf} > cluster_variants_chrom.vcf\n  for sample in \\$(bcftools query -l cluster_variants_chrom.vcf); do\n    bcftools view -c1 -Ov -s \\$sample -o \\$sample.vcf cluster_variants_chrom.vcf\n  done\n  mv cluster_variants_chrom.vcf ${vcf}\n  \"\"\"",
        "nb_lignes_script": 6,
        "language_script": "bash",
        "tools": [
            "BCFtools"
        ],
        "tools_url": [
            "https://bio.tools/bcftools"
        ],
        "tools_dico": [
            {
                "name": "BCFtools",
                "uri": "https://bio.tools/bcftools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3516",
                            "term": "Genotyping experiment"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0199",
                            "term": "Genetic variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3517",
                            "term": "GWAS study"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2885",
                            "term": "DNA polymorphism"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0199",
                            "term": "DNA variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3517",
                            "term": "GWAS analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3517",
                            "term": "GWAS"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3517",
                            "term": "Genome-wide association study"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "Data handling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3227",
                                    "term": "Variant calling"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "Utility operation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "File handling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "File processing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2409",
                                    "term": "Report handling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3227",
                                    "term": "Variant mapping"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_3498",
                                "term": "Sequence variations"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_3498",
                                "term": "Sequence variations"
                            }
                        ]
                    }
                ],
                "description": "Set of utilities that manipulate variant calls in the Variant Call Format (VCF) and its binary counterpart BCF. All commands work transparently with both VCFs and BCFs, both uncompressed and BGZF-compressed.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "cluster_variants"
        ],
        "nb_inputs": 1,
        "outputs": [
            "prep_variant_calls"
        ],
        "nb_outputs": 1,
        "name_workflow": "k-florek__mirkwater",
        "directive": [
            "publishDir \"${params.outdir}/cluster_variants\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "annotate_variants": {
        "name_process": "annotate_variants",
        "string_process": "\nprocess annotate_variants {\n  publishDir \"${params.outdir}/annotated_variants\", mode: 'copy'\n\n  input:\n  tuple file(vcf), file(compressed_database) from annotation_input\n\n  output:\n  file(vcf) into annotated_variants\n\n  script:\n  \"\"\"\n  tar -xzf ${compressed_database}\n  mv ${vcf} input.vcf\n  snpEff ann sc2 input.vcf > ${vcf}\n  \"\"\"\n}",
        "nb_lignes_process": 15,
        "string_script": "  \"\"\"\n  tar -xzf ${compressed_database}\n  mv ${vcf} input.vcf\n  snpEff ann sc2 input.vcf > ${vcf}\n  \"\"\"",
        "nb_lignes_script": 4,
        "language_script": "bash",
        "tools": [
            "snpEff"
        ],
        "tools_url": [
            "https://bio.tools/snpeff"
        ],
        "tools_dico": [
            {
                "name": "snpEff",
                "uri": "https://bio.tools/snpeff",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0199",
                            "term": "Genetic variation"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3511",
                            "term": "Nucleic acid sites, features and motifs"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2885",
                            "term": "DNA polymorphism"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0199",
                            "term": "DNA variation"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0484",
                                    "term": "SNP detection"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0484",
                                    "term": "Single nucleotide polymorphism detection"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0484",
                                    "term": "SNP discovery"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0484",
                                    "term": "SNP calling"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0006",
                                "term": "Data"
                            },
                            {
                                "uri": "http://edamontology.org/data_0863",
                                "term": "Sequence alignment"
                            },
                            {
                                "uri": "http://edamontology.org/data_3498",
                                "term": "Sequence variations"
                            },
                            {
                                "uri": "http://edamontology.org/data_3002",
                                "term": "Annotation track"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0006",
                                "term": "Data"
                            },
                            {
                                "uri": "http://edamontology.org/data_2048",
                                "term": "Report"
                            }
                        ]
                    }
                ],
                "description": "Variant annotation and effect prediction tool. It annotates and predicts the effects of variants on genes and proteins (such as amino acid changes).",
                "homepage": "http://snpeff.sourceforge.net/"
            }
        ],
        "inputs": [
            "annotation_input"
        ],
        "nb_inputs": 1,
        "outputs": [
            "annotated_variants"
        ],
        "nb_outputs": 1,
        "name_workflow": "k-florek__mirkwater",
        "directive": [
            "publishDir \"${params.outdir}/annotated_variants\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "find_hits": {
        "name_process": "find_hits",
        "string_process": "\nprocess find_hits {\n  publishDir \"${params.outdir}/lineage_matches\", mode: 'copy'\n\n  input:\n  file(annotation) from annotated_variants\n\n  output:\n  file(\"*.results.csv\") into lineage_hits\n\n  script:\n  \"\"\"\n  python /usr/src/app/partial_matching.py /usr/src/app/definitions ${annotation}\n  \"\"\"\n}",
        "nb_lignes_process": 13,
        "string_script": "  \"\"\"\n  python /usr/src/app/partial_matching.py /usr/src/app/definitions ${annotation}\n  \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "annotated_variants"
        ],
        "nb_inputs": 1,
        "outputs": [
            "lineage_hits"
        ],
        "nb_outputs": 1,
        "name_workflow": "k-florek__mirkwater",
        "directive": [
            "publishDir \"${params.outdir}/lineage_matches\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "mapping_reads": {
        "name_process": "mapping_reads",
        "string_process": "\nprocess mapping_reads {\n  tag \"$name\"\n  publishDir \"${params.outdir}/mapped\", mode: 'copy'\n\n  input:\n  set val(name), file(reads), file(reference), file(reference_gff) from fastq_reads_mapping\n\n  output:\n  tuple name, file(\"*.sam\"), file(reference), file(reference_gff) into mapped_reads\n\n  script:\n  \"\"\"\n  minimap2 -ax splice:hq ${reference} ${reads} > ${name}.sam\n  \"\"\"\n}",
        "nb_lignes_process": 14,
        "string_script": "  \"\"\"\n  minimap2 -ax splice:hq ${reference} ${reads} > ${name}.sam\n  \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [
            "Minimap2"
        ],
        "tools_url": [
            "https://bio.tools/minimap2"
        ],
        "tools_dico": [
            {
                "name": "Minimap2",
                "uri": "https://bio.tools/minimap2",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0491",
                                    "term": "Pairwise sequence alignment"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0491",
                                    "term": "Pairwise alignment"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Pairwise aligner for genomic and spliced nucleotide sequences",
                "homepage": "https://github.com/lh3/minimap2"
            }
        ],
        "inputs": [
            "fastq_reads_mapping"
        ],
        "nb_inputs": 1,
        "outputs": [
            "mapped_reads"
        ],
        "nb_outputs": 1,
        "name_workflow": "k-florek__mirkwater",
        "directive": [
            "tag \"$name\"",
            "publishDir \"${params.outdir}/mapped\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "ivar_variant_calling": {
        "name_process": "ivar_variant_calling",
        "string_process": "\nprocess ivar_variant_calling {\n  tag \"$name\"\n  publishDir \"${params.outdir}/variant_calls\", mode: 'copy', saveAs: {\"${name}.${file(it).getExtension()}\"}\n\n  memory {2.GB * task.attempt}\n  errorStrategy {'retry'}\n  maxRetries 2\n\n  input:\n  set val(name), file(reads), file(reference), file(annotation) from mapped_reads\n\n  output:\n  file(\"*.tsv\")\n\n  script:\n  \"\"\"\n    samtools view -b ${reads} | samtools sort > ${name}.bam\n    samtools mpileup -aa -A -d 0 -B -Q 0 --reference ${reference} ${name}.bam | ivar variants -p ${name} -q ${params.minquality} -t ${params.minfreq} -m ${params.minreaddepth} -r ${reference} -g ${annotation}\n  \"\"\"\n}",
        "nb_lignes_process": 19,
        "string_script": "  \"\"\"\n    samtools view -b ${reads} | samtools sort > ${name}.bam\n    samtools mpileup -aa -A -d 0 -B -Q 0 --reference ${reference} ${name}.bam | ivar variants -p ${name} -q ${params.minquality} -t ${params.minfreq} -m ${params.minreaddepth} -r ${reference} -g ${annotation}\n  \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [
            "SAMtools",
            "AIVAR"
        ],
        "tools_url": [
            "https://bio.tools/samtools",
            "https://bio.tools/AIVAR"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            },
            {
                "name": "AIVAR",
                "uri": "https://bio.tools/AIVAR",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3474",
                            "term": "Machine learning"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Exome sequencing"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Targeted exome capture"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Exome analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "WES"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Exome"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Whole exome sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3676",
                            "term": "Exome capture"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3461",
                                    "term": "Virulence prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Deposition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3225",
                                    "term": "Variant classification"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3461",
                                    "term": "Pathogenicity prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Submission"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Data submission"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Database deposition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Database submission"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3431",
                                    "term": "Data deposition"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Assessing concordance among human, in silico predictions and functional assays on genetic variant classification.",
                "homepage": "https://github.com/TopGene/AIvar"
            }
        ],
        "inputs": [
            "mapped_reads"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "k-florek__mirkwater",
        "directive": [
            "tag \"$name\"",
            "publishDir \"${params.outdir}/variant_calls\", mode: 'copy', saveAs: {\"${name}.${file(it).getExtension()}\"}",
            "memory {2.GB * task.attempt}",
            "errorStrategy {'retry'}",
            "maxRetries 2"
        ],
        "when": "",
        "stub": ""
    },
    "summary": {
        "name_process": "summary",
        "string_process": "\nprocess summary {\n  publishDir \"${params.outdir}\", mode: 'copy'\n\n  input:\n  file(hits) from lineage_hits.collect()\n\n  output:\n  file(\"summary.csv\") into results\n\n  script:\n  \"\"\"\n  echo 'PBAA Cluster,Best Lineage Match,Matching Mutations,All Identified Mutations' > summary.csv\n  cat *.results.csv >> summary.csv\n  \"\"\"\n}",
        "nb_lignes_process": 14,
        "string_script": "  \"\"\"\n  echo 'PBAA Cluster,Best Lineage Match,Matching Mutations,All Identified Mutations' > summary.csv\n  cat *.results.csv >> summary.csv\n  \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "lineage_hits"
        ],
        "nb_inputs": 1,
        "outputs": [
            "results"
        ],
        "nb_outputs": 1,
        "name_workflow": "k-florek__mirkwater",
        "directive": [
            "publishDir \"${params.outdir}\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    }
}