{
    "get_software_versions": {
        "name_process": "get_software_versions",
        "string_process": " process get_software_versions {\n   publishDir \"${params.outdir}/pipeline_info\", mode: 'copy',\n   saveAs: { filename ->\n     if (filename.indexOf(\".csv\") > 0) filename\n     else null\n   }\n\n   output:\n   file 'software_versions_mqc.yaml' into software_versions_yaml\n   file \"software_versions.csv\"\n\n   script:\n   \"\"\"\n   echo $workflow.manifest.version &> v_ngi_QC.txt\n   echo $workflow.nextflow.version &> v_nextflow.txt\n   mosdepth --version > v_mosdepth.txt\n   scrape_software_versions.py &> software_versions_mqc.yaml\n   \"\"\"\n }",
        "nb_lignes_process": 17,
        "string_script": "   \"\"\"\n   echo $workflow.manifest.version &> v_ngi_QC.txt\n   echo $workflow.nextflow.version &> v_nextflow.txt\n   mosdepth --version > v_mosdepth.txt\n   scrape_software_versions.py &> software_versions_mqc.yaml\n   \"\"\"",
        "nb_lignes_script": 5,
        "language_script": "bash",
        "tools": [
            "mosdepth"
        ],
        "tools_url": [
            "https://bio.tools/mosdepth"
        ],
        "tools_dico": [
            {
                "name": "mosdepth",
                "uri": "https://bio.tools/mosdepth",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_2269",
                            "term": "Statistics and probability"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3572",
                            "term": "Data quality management"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2478",
                                    "term": "Nucleic acid sequence analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3230",
                                    "term": "Read depth analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2478",
                                    "term": "Sequence analysis (nucleic acid)"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Fast BAM/CRAM depth calculation for WGS, exome, or targeted sequencing.",
                "homepage": "https://github.com/brentp/mosdepth"
            }
        ],
        "inputs": [],
        "nb_inputs": 0,
        "outputs": [
            "software_versions_yaml"
        ],
        "nb_outputs": 1,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "publishDir \"${params.outdir}/pipeline_info\", mode: 'copy' , saveAs: { filename -> if (filename.indexOf(\".csv\") > 0) filename else null }"
        ],
        "when": "",
        "stub": ""
    },
    "modify_samplesheet": {
        "name_process": "modify_samplesheet",
        "string_process": " process modify_samplesheet {\n   publishDir \"${cluster_path}/data/05_QC/${project}/samplesheet/\", mode: params.publish_dir_mode\n\n   input:\n   path samplesheet from ch_input\n\n   output:\n   path \"samplesheet_bed.csv\" into ch_samplesheet, ch_samplesheet_percentage\n\n   script:\n   out = \"samplesheet_bed.csv\"\n\n   \"\"\"\n   modify_samplesheet.py $samplesheet $out\n   \"\"\"\n }",
        "nb_lignes_process": 14,
        "string_script": "   out = \"samplesheet_bed.csv\"\n\n   \"\"\"\n   modify_samplesheet.py $samplesheet $out\n   \"\"\"",
        "nb_lignes_script": 4,
        "language_script": "bash",
        "tools": [
            "Ragout"
        ],
        "tools_url": [
            "https://bio.tools/ragout"
        ],
        "tools_dico": [
            {
                "name": "Ragout",
                "uri": "https://bio.tools/ragout",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0654",
                            "term": "DNA"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0196",
                            "term": "Sequence assembly"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0654",
                            "term": "DNA analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Genome assembly"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Sequence assembly (genome assembly)"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Genomic assembly"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Tool for assisted assembly using multiple references. It takes a short read assembly (a set of contigs), a set of related references and a corresponding phylogenetic tree and then assembles the contigs into scaffolds.",
                "homepage": "http://fenderglass.github.io/Ragout/"
            }
        ],
        "inputs": [
            "ch_input"
        ],
        "nb_inputs": 1,
        "outputs": [
            "ch_samplesheet",
            "ch_samplesheet_percentage"
        ],
        "nb_outputs": 2,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "publishDir \"${cluster_path}/data/05_QC/${project}/samplesheet/\", mode: params.publish_dir_mode"
        ],
        "when": "",
        "stub": ""
    },
    "count_total": {
        "name_process": "count_total",
        "string_process": "\nprocess count_total {\n  tag \"$sample\"\n  label 'process_low'\n  publishDir \"${cluster_path}/data/05_QC/${project}/numberReadsBAM/\", mode: params.publish_dir_mode\n\n  input:\n  set val(sample), file(bam) from ch_bam_count\n\n  output:\n  path (\"*.tsv\") into ch_total_reads\n\n  script:\n  \"\"\"\n  samtools view -c $bam > \"${sample}.tsv\"\n  printf \"%s\\t%s\\n\" \"$sample\" \"\\$(echo \\$(cat ${sample}.tsv))\" > \"${sample}_total_reads.tsv\"\n  \"\"\"\n}",
        "nb_lignes_process": 16,
        "string_script": "  \"\"\"\n  samtools view -c $bam > \"${sample}.tsv\"\n  printf \"%s\\t%s\\n\" \"$sample\" \"\\$(echo \\$(cat ${sample}.tsv))\" > \"${sample}_total_reads.tsv\"\n  \"\"\"",
        "nb_lignes_script": 3,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "ch_bam_count"
        ],
        "nb_inputs": 1,
        "outputs": [
            "ch_total_reads"
        ],
        "nb_outputs": 1,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "tag \"$sample\"",
            "label 'process_low'",
            "publishDir \"${cluster_path}/data/05_QC/${project}/numberReadsBAM/\", mode: params.publish_dir_mode"
        ],
        "when": "",
        "stub": ""
    },
    "percentages": {
        "name_process": "percentages",
        "string_process": "\nprocess percentages {\n  publishDir \"${cluster_path}/data/05_QC/${project}/\", mode: params.publish_dir_mode,\n  saveAs: { filename ->\n      filename.endsWith(\".tsv\") ? \"numberReadsBAM/$filename\" : \"samplesheet/$filename\"\n    }\n\n  input:\n  path samplesheet from ch_samplesheet_percentage\n  path (\"totalReads/*\") from ch_total_reads.collect().ifEmpty([])\n\n  output:\n  path \"samplesheet_percentage.csv\" into ch_samplesheet_count\n  path \"total_counts.tsv\"\n\n  script:\n  out = \"samplesheet_percentage.csv\"\n\n  \"\"\"\n  printf \"sampleID\\tcounts\\n\" > total_counts.tsv\n  cat totalReads/*.tsv >> total_counts.tsv\n  percentage_samplesheet.py $samplesheet $out -c total_counts.tsv\n  \"\"\"\n}",
        "nb_lignes_process": 22,
        "string_script": "  out = \"samplesheet_percentage.csv\"\n\n  \"\"\"\n  printf \"sampleID\\tcounts\\n\" > total_counts.tsv\n  cat totalReads/*.tsv >> total_counts.tsv\n  percentage_samplesheet.py $samplesheet $out -c total_counts.tsv\n  \"\"\"",
        "nb_lignes_script": 6,
        "language_script": "bash",
        "tools": [
            "Ragout"
        ],
        "tools_url": [
            "https://bio.tools/ragout"
        ],
        "tools_dico": [
            {
                "name": "Ragout",
                "uri": "https://bio.tools/ragout",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0654",
                            "term": "DNA"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0196",
                            "term": "Sequence assembly"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0654",
                            "term": "DNA analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Genome assembly"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Sequence assembly (genome assembly)"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Genomic assembly"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Tool for assisted assembly using multiple references. It takes a short read assembly (a set of contigs), a set of related references and a corresponding phylogenetic tree and then assembles the contigs into scaffolds.",
                "homepage": "http://fenderglass.github.io/Ragout/"
            }
        ],
        "inputs": [
            "ch_samplesheet_percentage",
            "ch_total_reads"
        ],
        "nb_inputs": 2,
        "outputs": [
            "ch_samplesheet_count"
        ],
        "nb_outputs": 1,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "publishDir \"${cluster_path}/data/05_QC/${project}/\", mode: params.publish_dir_mode , saveAs: { filename -> filename.endsWith(\".tsv\") ? \"numberReadsBAM/$filename\" : \"samplesheet/$filename\" }"
        ],
        "when": "",
        "stub": ""
    },
    "samtools": {
        "name_process": "samtools",
        "string_process": "\nprocess samtools {\n  tag \"$sample\"\n  label 'process_low'\n  publishDir \"${cluster_path}/data/05_QC/${project}/samtools/${sample}\", mode: params.publish_dir_mode\n\n\n  input:\n  set val(sample), val(experiment), path(bam), path(bed), path(interval), val(percentage) from ch_samtools\n\n  output:\n  set val(sample), path(bam), path(\"${bam.baseName}.bam.bai\"), path(\"${bam.baseName}_${percentage}.bam\"), path(\"${bam.baseName}_${percentage}.bam.bai\"), val(experiment), path(bed), path(interval) into ch_mosdepth\n  set val(sample), path(bam), path(\"${bam.baseName}.bam.bai\"), path(\"${bam.baseName}_${percentage}.bam\"), path(\"${bam.baseName}_${percentage}.bam.bai\"), path(interval) into ch_picard_hsmetrics,\n                                                                                                                                                                             ch_picard_alignmentmetrics\n\n  script:\n  subset = \"${bam.baseName}_${percentage}.bam\"\n  \"\"\"\n  samtools index $bam\n  samtools view -s $percentage -b $bam > $subset\n  samtools index $subset\n  \"\"\"\n}",
        "nb_lignes_process": 21,
        "string_script": "  subset = \"${bam.baseName}_${percentage}.bam\"\n  \"\"\"\n  samtools index $bam\n  samtools view -s $percentage -b $bam > $subset\n  samtools index $subset\n  \"\"\"",
        "nb_lignes_script": 5,
        "language_script": "bash",
        "tools": [
            "SAMtools"
        ],
        "tools_url": [
            "https://bio.tools/samtools"
        ],
        "tools_dico": [
            {
                "name": "SAMtools",
                "uri": "https://bio.tools/samtools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "Rare diseases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0102",
                            "term": "Mapping"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3325",
                            "term": "https://en.wikipedia.org/wiki/Rare_disease"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3096",
                                    "term": "Editing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Parsing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Indexing"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Data visualisation"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0337",
                                    "term": "Rendering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Data loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_1812",
                                    "term": "Loading"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Data indexing"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0227",
                                    "term": "Database indexing"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0924",
                                "term": "Sequence trace"
                            }
                        ]
                    }
                ],
                "description": "A software package with various utilities for processing alignments in the SAM format, including variant calling and alignment viewing.",
                "homepage": "http://www.htslib.org/"
            }
        ],
        "inputs": [
            "ch_samtools"
        ],
        "nb_inputs": 1,
        "outputs": [
            "ch_mosdepth",
            "ch_picard_hsmetrics",
            "ch_picard_alignmentmetrics"
        ],
        "nb_outputs": 3,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "tag \"$sample\"",
            "label 'process_low'",
            "publishDir \"${cluster_path}/data/05_QC/${project}/samtools/${sample}\", mode: params.publish_dir_mode"
        ],
        "when": "",
        "stub": ""
    },
    "mosdepth": {
        "name_process": "mosdepth",
        "string_process": " process mosdepth {\n   tag \"$sample\"\n   label 'process_low'\n   publishDir \"${cluster_path}/data/05_QC/${project}/mosdepth/${sample}\", mode: params.publish_dir_mode\n\n\n   input:\n   set val(sample), path(bam), path(bai), path(bam_subset), path(bai_subset), val(experiment), path(bed), path(interval) from ch_mosdepth\n\n   output:\n   set val(sample), path(\"${prefix}.thresholds.bed\"), path(\"${prefix_subset}.thresholds.bed\") into ch_ontarget_coverage\n                                                           \n   path \"*.{txt,gz,csi}\"\n\n   script:\n\n   prefix = \"${bam.baseName}\"\n   prefix_subset = \"${bam_subset.baseName}\"\n   threshold = params.threshold\n\n   \"\"\"\n   mosdepth \\\\\n   --by $bed \\\\\n   --fast-mode \\\\\n   --thresholds 0,1,5,10,25,50,100,200,300,400,500 \\\\\n   -Q 20 \\\\\n   -t $task.cpus \\\\\n   ${prefix} \\\\\n   $bam\n\n   pigz -dk ${prefix}.thresholds.bed.gz\n\n   mosdepth \\\\\n   --by $bed \\\\\n   --fast-mode \\\\\n   --thresholds 0,1,5,10,25,50,100,200,300,400,500 \\\\\n   -Q 20 \\\\\n   -t $task.cpus \\\\\n   ${prefix_subset} \\\\\n   $bam_subset\n\n   pigz -dk ${prefix_subset}.thresholds.bed.gz\n   \"\"\"\n }",
        "nb_lignes_process": 42,
        "string_script": "   prefix = \"${bam.baseName}\"\n   prefix_subset = \"${bam_subset.baseName}\"\n   threshold = params.threshold\n\n   \"\"\"\n   mosdepth \\\\\n   --by $bed \\\\\n   --fast-mode \\\\\n   --thresholds 0,1,5,10,25,50,100,200,300,400,500 \\\\\n   -Q 20 \\\\\n   -t $task.cpus \\\\\n   ${prefix} \\\\\n   $bam\n\n   pigz -dk ${prefix}.thresholds.bed.gz\n\n   mosdepth \\\\\n   --by $bed \\\\\n   --fast-mode \\\\\n   --thresholds 0,1,5,10,25,50,100,200,300,400,500 \\\\\n   -Q 20 \\\\\n   -t $task.cpus \\\\\n   ${prefix_subset} \\\\\n   $bam_subset\n\n   pigz -dk ${prefix_subset}.thresholds.bed.gz\n   \"\"\"",
        "nb_lignes_script": 26,
        "language_script": "bash",
        "tools": [
            "Threshold-seq",
            "mosdepth"
        ],
        "tools_url": [
            "https://bio.tools/Threshold-seq",
            "https://bio.tools/mosdepth"
        ],
        "tools_dico": [
            {
                "name": "Threshold-seq",
                "uri": "https://bio.tools/Threshold-seq",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Gene expression"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0659",
                            "term": "Functional, regulatory and non-coding RNA"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Expression"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Transcriptome profiling"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA-Seq analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small RNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Small-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "Whole transcriptome shotgun sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "RNA sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3170",
                            "term": "WTSS"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3192",
                                    "term": "Sequence trimming"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3192",
                                    "term": "Trimming"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Tool for determining the threshold in short RNA-seq datasets.",
                "homepage": "https://cm.jefferson.edu/threshold-seq/"
            },
            {
                "name": "mosdepth",
                "uri": "https://bio.tools/mosdepth",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_2269",
                            "term": "Statistics and probability"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3572",
                            "term": "Data quality management"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2478",
                                    "term": "Nucleic acid sequence analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3230",
                                    "term": "Read depth analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2478",
                                    "term": "Sequence analysis (nucleic acid)"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Fast BAM/CRAM depth calculation for WGS, exome, or targeted sequencing.",
                "homepage": "https://github.com/brentp/mosdepth"
            }
        ],
        "inputs": [
            "ch_mosdepth"
        ],
        "nb_inputs": 1,
        "outputs": [
            "ch_ontarget_coverage"
        ],
        "nb_outputs": 1,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "tag \"$sample\"",
            "label 'process_low'",
            "publishDir \"${cluster_path}/data/05_QC/${project}/mosdepth/${sample}\", mode: params.publish_dir_mode"
        ],
        "when": "",
        "stub": ""
    },
    "picard_hsmetrics": {
        "name_process": "picard_hsmetrics",
        "string_process": "\nprocess picard_hsmetrics {\n  tag \"$sample\"\n  label 'process_medium'\n  publishDir \"${cluster_path}/data/05_QC/${project}/HSmetrics/${sample}\", mode: params.publish_dir_mode\n\n  input:\n  set val(sample), path(bam), path(bai), path(bam_subset), path(bai_subset), path(interval) from ch_picard_hsmetrics\n  file(genome) from ch_genome\n  file(index) from ch_genome_index\n\n  output:\n  path(\"${bam.baseName}.hybrid_selection_metrics.txt\") into ch_merge_original_HSmetrics\n  path(\"${bam_subset.baseName}.hybrid_selection_metrics.txt\") into ch_merge_subset_HSmetrics\n\n  script:\n  outfile = \"${bam.baseName}.hybrid_selection_metrics.txt\"\n  outfile_subset = \"${bam_subset.baseName}.hybrid_selection_metrics.txt\"\n  java_options = (task.memory.toGiga() > 42) ? params.markdup_java_options : \"\\\"-Xms\" +  (task.memory.toGiga() / 2 )+\"g \"+ \"-Xmx\" + (task.memory.toGiga() - 1)+ \"g\\\"\"\n\n  \"\"\"\n  picard ${java_options} CollectHsMetrics \\\n  INPUT=$bam \\\n  OUTPUT=$outfile \\\n  TARGET_INTERVALS=$interval \\\n  BAIT_INTERVALS=$interval \\\n  TMP_DIR=tmp\n\n  picard ${java_options} CollectHsMetrics \\\n  INPUT=$bam_subset \\\n  OUTPUT=$outfile_subset \\\n  TARGET_INTERVALS=$interval \\\n  BAIT_INTERVALS=$interval \\\n  TMP_DIR=tmp\n  \"\"\"\n}",
        "nb_lignes_process": 34,
        "string_script": "  outfile = \"${bam.baseName}.hybrid_selection_metrics.txt\"\n  outfile_subset = \"${bam_subset.baseName}.hybrid_selection_metrics.txt\"\n  java_options = (task.memory.toGiga() > 42) ? params.markdup_java_options : \"\\\"-Xms\" +  (task.memory.toGiga() / 2 )+\"g \"+ \"-Xmx\" + (task.memory.toGiga() - 1)+ \"g\\\"\"\n\n  \"\"\"\n  picard ${java_options} CollectHsMetrics \\\n  INPUT=$bam \\\n  OUTPUT=$outfile \\\n  TARGET_INTERVALS=$interval \\\n  BAIT_INTERVALS=$interval \\\n  TMP_DIR=tmp\n\n  picard ${java_options} CollectHsMetrics \\\n  INPUT=$bam_subset \\\n  OUTPUT=$outfile_subset \\\n  TARGET_INTERVALS=$interval \\\n  BAIT_INTERVALS=$interval \\\n  TMP_DIR=tmp\n  \"\"\"",
        "nb_lignes_script": 18,
        "language_script": "bash",
        "tools": [
            "Picard"
        ],
        "tools_url": [
            "https://bio.tools/picard_tools"
        ],
        "tools_dico": [
            {
                "name": "Picard",
                "uri": "https://bio.tools/picard_tools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Biological databases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Data management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Information systems"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Databases and information systems"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Genetic variation analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Sequence variation analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Variant analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Genetic variation annotation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "A set of command line tools for manipulating high-throughput sequencing (HTS) data in formats such as SAM/BAM/CRAM and VCF. Available as a standalone program or within the GATK4 program.",
                "homepage": "https://github.com/broadinstitute/picard"
            }
        ],
        "inputs": [
            "ch_picard_hsmetrics",
            "ch_genome",
            "ch_genome_index"
        ],
        "nb_inputs": 3,
        "outputs": [
            "ch_merge_original_HSmetrics",
            "ch_merge_subset_HSmetrics"
        ],
        "nb_outputs": 2,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "tag \"$sample\"",
            "label 'process_medium'",
            "publishDir \"${cluster_path}/data/05_QC/${project}/HSmetrics/${sample}\", mode: params.publish_dir_mode"
        ],
        "when": "",
        "stub": ""
    },
    "picard_alignmentmetrics": {
        "name_process": "picard_alignmentmetrics",
        "string_process": "\nprocess picard_alignmentmetrics {\n  tag \"$sample\"\n  label 'process_low'\n  publishDir \"${cluster_path}/data/05_QC/${project}/HSmetrics/${sample}\", mode: params.publish_dir_mode\n\n  input:\n  set val(sample), path(bam), path(bai), path(bam_subset), path(bai_subset), path(interval) from ch_picard_alignmentmetrics\n  file(genome) from ch_genome\n  file(index) from ch_genome_index\n\n  output:\n  path(\"${bam.baseName}.alignment_metrics.txt\") into ch_merge_original_Alignmentmetrics\n  path(\"${bam_subset.baseName}.alignment_metrics.txt\") into ch_merge_subset_Alignmentmetrics\n\n  script:\n  outfile = \"${bam.baseName}.alignment_metrics.txt\"\n  outfile_subset = \"${bam_subset.baseName}.alignment_metrics.txt\"\n  java_options = (task.memory.toGiga() > 8) ? params.markdup_java_options : \"\\\"-Xms\" +  (task.memory.toGiga() / 2 )+\"g \"+ \"-Xmx\" + (task.memory.toGiga() - 1)+ \"g\\\"\"\n\n  \"\"\"\n  picard ${java_options} CollectAlignmentSummaryMetrics \\\n  INPUT=$bam \\\n  OUTPUT=$outfile \\\n  R=$genome\n\n  picard ${java_options} CollectAlignmentSummaryMetrics \\\n  INPUT=$bam_subset \\\n  OUTPUT=$outfile_subset \\\n  R=$genome\n  \"\"\"\n}",
        "nb_lignes_process": 30,
        "string_script": "  outfile = \"${bam.baseName}.alignment_metrics.txt\"\n  outfile_subset = \"${bam_subset.baseName}.alignment_metrics.txt\"\n  java_options = (task.memory.toGiga() > 8) ? params.markdup_java_options : \"\\\"-Xms\" +  (task.memory.toGiga() / 2 )+\"g \"+ \"-Xmx\" + (task.memory.toGiga() - 1)+ \"g\\\"\"\n\n  \"\"\"\n  picard ${java_options} CollectAlignmentSummaryMetrics \\\n  INPUT=$bam \\\n  OUTPUT=$outfile \\\n  R=$genome\n\n  picard ${java_options} CollectAlignmentSummaryMetrics \\\n  INPUT=$bam_subset \\\n  OUTPUT=$outfile_subset \\\n  R=$genome\n  \"\"\"",
        "nb_lignes_script": 14,
        "language_script": "bash",
        "tools": [
            "Picard"
        ],
        "tools_url": [
            "https://bio.tools/picard_tools"
        ],
        "tools_dico": [
            {
                "name": "Picard",
                "uri": "https://bio.tools/picard_tools",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Biological databases"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Data management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Information systems"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Databases and information systems"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Genetic variation analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Sequence variation analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Variant analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Genetic variation annotation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "A set of command line tools for manipulating high-throughput sequencing (HTS) data in formats such as SAM/BAM/CRAM and VCF. Available as a standalone program or within the GATK4 program.",
                "homepage": "https://github.com/broadinstitute/picard"
            }
        ],
        "inputs": [
            "ch_picard_alignmentmetrics",
            "ch_genome",
            "ch_genome_index"
        ],
        "nb_inputs": 3,
        "outputs": [
            "ch_merge_original_Alignmentmetrics",
            "ch_merge_subset_Alignmentmetrics"
        ],
        "nb_outputs": 2,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "tag \"$sample\"",
            "label 'process_low'",
            "publishDir \"${cluster_path}/data/05_QC/${project}/HSmetrics/${sample}\", mode: params.publish_dir_mode"
        ],
        "when": "",
        "stub": ""
    },
    "merge_metrics": {
        "name_process": "merge_metrics",
        "string_process": "\nprocess merge_metrics {\n  label 'process_low'\n  publishDir \"${cluster_path}/data/05_QC/${project}/mergedmetrics/\", mode: params.publish_dir_mode\n\n  input:\n  path(\"originalHSMetrics/*\") from ch_merge_original_HSmetrics.collect()\n  path(\"subsetHSMetrics/*\") from ch_merge_subset_HSmetrics.collect()\n  path(\"originalAlignmentMetrics/*\") from ch_merge_original_Alignmentmetrics.collect()\n  path(\"subsetAlignmentMetrics/*\") from ch_merge_subset_Alignmentmetrics.collect()\n\n  output:\n  path(\"*_metrics.txt\")\n\n  script:\n  \"\"\"\n  merge_Metrics.sh \"originalHSMetrics\" \"Original.hybrid_selection_metrics_tmp.txt\"\n  merge_Metrics.sh \"subsetHSMetrics\" \"Subset.hybrid_selection_metrics_tmp.txt\"\n  merge_Metrics.sh \"originalAlignmentMetrics\" \"Original.Alignment_metrics_tmp.txt\"\n  merge_Metrics.sh \"subsetAlignmentMetrics\" \"Subset.Alignment_metrics_tmp.txt\"\n  \"\"\"\n}",
        "nb_lignes_process": 20,
        "string_script": "  \"\"\"\n  merge_Metrics.sh \"originalHSMetrics\" \"Original.hybrid_selection_metrics_tmp.txt\"\n  merge_Metrics.sh \"subsetHSMetrics\" \"Subset.hybrid_selection_metrics_tmp.txt\"\n  merge_Metrics.sh \"originalAlignmentMetrics\" \"Original.Alignment_metrics_tmp.txt\"\n  merge_Metrics.sh \"subsetAlignmentMetrics\" \"Subset.Alignment_metrics_tmp.txt\"\n  \"\"\"",
        "nb_lignes_script": 5,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "ch_merge_original_HSmetrics",
            "ch_merge_subset_HSmetrics",
            "ch_merge_original_Alignmentmetrics",
            "ch_merge_subset_Alignmentmetrics"
        ],
        "nb_inputs": 4,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "label 'process_low'",
            "publishDir \"${cluster_path}/data/05_QC/${project}/mergedmetrics/\", mode: params.publish_dir_mode"
        ],
        "when": "",
        "stub": ""
    },
    "ontarget_coverage": {
        "name_process": "ontarget_coverage",
        "string_process": "\nprocess ontarget_coverage {\n  tag \"$sample\"\n  label 'process_low'\n  publishDir \"${cluster_path}/data/05_QC/${project}/coverageTables/\", mode: params.publish_dir_mode\n\n  input:\n  set val(sample), path(bed), path(bed_subset) from ch_ontarget_coverage\n\n  output:\n  set path(\"${sample}_summary.tsv\"), path(\"${sample}_subset_summary.tsv\") into ch_collect_tables\n\n  script:\n  out = \"${sample}_summary.tsv\"\n  out_subset = \"${sample}_subset_summary.tsv\"\n  sample_subset = \"${sample}_subset\"\n\n  \"\"\"\n  mosdepth_table.py $bed $out -s $sample\n  mosdepth_table.py $bed_subset $out_subset -s $sample_subset\n  \"\"\"\n}",
        "nb_lignes_process": 20,
        "string_script": "  out = \"${sample}_summary.tsv\"\n  out_subset = \"${sample}_subset_summary.tsv\"\n  sample_subset = \"${sample}_subset\"\n\n  \"\"\"\n  mosdepth_table.py $bed $out -s $sample\n  mosdepth_table.py $bed_subset $out_subset -s $sample_subset\n  \"\"\"",
        "nb_lignes_script": 7,
        "language_script": "bash",
        "tools": [
            "Ragout"
        ],
        "tools_url": [
            "https://bio.tools/ragout"
        ],
        "tools_dico": [
            {
                "name": "Ragout",
                "uri": "https://bio.tools/ragout",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0654",
                            "term": "DNA"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0196",
                            "term": "Sequence assembly"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0654",
                            "term": "DNA analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Genome assembly"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Sequence assembly (genome assembly)"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0525",
                                    "term": "Genomic assembly"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Tool for assisted assembly using multiple references. It takes a short read assembly (a set of contigs), a set of related references and a corresponding phylogenetic tree and then assembles the contigs into scaffolds.",
                "homepage": "http://fenderglass.github.io/Ragout/"
            }
        ],
        "inputs": [
            "ch_ontarget_coverage"
        ],
        "nb_inputs": 1,
        "outputs": [
            "ch_collect_tables"
        ],
        "nb_outputs": 1,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "tag \"$sample\"",
            "label 'process_low'",
            "publishDir \"${cluster_path}/data/05_QC/${project}/coverageTables/\", mode: params.publish_dir_mode"
        ],
        "when": "",
        "stub": ""
    },
    "cat_summary": {
        "name_process": "cat_summary",
        "string_process": "\nprocess cat_summary {\n  label 'process_low'\n  publishDir \"${cluster_path}/data/05_QC/${project}/coverageMergedTables/\", mode: params.publish_dir_mode\n\n  input:\n  set path(\"tables/*\"), path(\"subset_tables/\") from ch_collect_tables.collect().ifEmpty([])\n\n  output:\n  path(\"*.tsv\")\n\n                                                                                                                                                         \n                                      \n  script:\n  \"\"\"\n  printf \"%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\n\" \"\" \"1X\" \"5X\" \"10X\" \"25X\" \"50X\" \"100X\" \"200X\" \"300X\" \"400X\" \"500X\" > coverages.tsv\n\n  for f in \\$(find tables -name \"*.tsv\"); do \\\\\n  cat \\$f >> coverages.tsv;\n  done\n\n\n  printf \"%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\n\" \"\" \"1X\" \"5X\" \"10X\" \"25X\" \"50X\" \"100X\" \"200X\" \"300X\" \"400X\" \"500X\" > coverages_subset.tsv\n\n  for f in \\$(find subset_tables -name \"*.tsv\"); do \\\\\n  cat \\$f >> coverages_subset.tsv;\n  done\n  \"\"\"\n}",
        "nb_lignes_process": 27,
        "string_script": "  \"\"\"\n  printf \"%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\n\" \"\" \"1X\" \"5X\" \"10X\" \"25X\" \"50X\" \"100X\" \"200X\" \"300X\" \"400X\" \"500X\" > coverages.tsv\n\n  for f in \\$(find tables -name \"*.tsv\"); do \\\\\n  cat \\$f >> coverages.tsv;\n  done\n\n\n  printf \"%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\t%s\\n\" \"\" \"1X\" \"5X\" \"10X\" \"25X\" \"50X\" \"100X\" \"200X\" \"300X\" \"400X\" \"500X\" > coverages_subset.tsv\n\n  for f in \\$(find subset_tables -name \"*.tsv\"); do \\\\\n  cat \\$f >> coverages_subset.tsv;\n  done\n  \"\"\"",
        "nb_lignes_script": 13,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "ch_collect_tables"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "mpozuelo__exome_mosdepth",
        "directive": [
            "label 'process_low'",
            "publishDir \"${cluster_path}/data/05_QC/${project}/coverageMergedTables/\", mode: params.publish_dir_mode"
        ],
        "when": "",
        "stub": ""
    }
}