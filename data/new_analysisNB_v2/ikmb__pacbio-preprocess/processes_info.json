{
    "get_software_versions": {
        "name_process": "get_software_versions",
        "string_process": "\nprocess get_software_versions {\n\n    publishDir \"${params.outdir}/Summary/versions\", mode: 'copy'\n\n    output:\n    file(\"v*.txt\")\n    file(yaml_file) into software_versions_yaml\n\n    script:\n    yaml_file = \"software_versions_mqc.yaml\"\n\n    \"\"\"\n    echo $workflow.manifest.version &> v_ikmb_pacbio-preprocess.txt\n    echo $workflow.nextflow.version &> v_nextflow.txt\n    bam2fasta --version &> v_bam2fasta.txt\n    lima --version &> v_lima.txt\n    extracthifi --version &> v_extracthifi.txt     \n    ccs --version &> v_ccs.txt\n    multiqc --version &> v_multiqc.txt\n    parse_versions.pl >  $yaml_file\n    \"\"\"\n}",
        "nb_lignes_process": 21,
        "string_script": "    yaml_file = \"software_versions_mqc.yaml\"\n\n    \"\"\"\n    echo $workflow.manifest.version &> v_ikmb_pacbio-preprocess.txt\n    echo $workflow.nextflow.version &> v_nextflow.txt\n    bam2fasta --version &> v_bam2fasta.txt\n    lima --version &> v_lima.txt\n    extracthifi --version &> v_extracthifi.txt     \n    ccs --version &> v_ccs.txt\n    multiqc --version &> v_multiqc.txt\n    parse_versions.pl >  $yaml_file\n    \"\"\"",
        "nb_lignes_script": 11,
        "language_script": "bash",
        "tools": [
            "blima",
            "ICCS",
            "MultiQC"
        ],
        "tools_url": [
            "https://bio.tools/blima",
            "https://bio.tools/ICCS",
            "https://bio.tools/multiqc"
        ],
        "tools_dico": [
            {
                "name": "blima",
                "uri": "https://bio.tools/blima",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3518",
                            "term": "Microarray experiment"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3518",
                            "term": "Microarrays"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2495",
                                    "term": "Expression analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2495",
                                    "term": "Expression data analysis"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Includes several algorithms for the preprocessing of Illumina microarray data. It focuses to the bead level analysis and provides novel approach to the quantile normalization of the vectors of unequal lengths. It provides variety of the methods for background correction including background subtraction, RMA like convolution and background outlier removal. It also implements variance stabilizing transformation on the bead level, methods for data summarization and t-test performance.",
                "homepage": "http://bioconductor.org/packages/release/bioc/html/blima.html"
            },
            {
                "name": "ICCS",
                "uri": "https://bio.tools/ICCS",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0593",
                            "term": "NMR"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3295",
                            "term": "Epigenetics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Gene expression"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3385",
                            "term": "Light microscopy"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3306",
                            "term": "Biophysics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0593",
                            "term": "Nuclear magnetic resonance spectroscopy"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0593",
                            "term": "NMR spectroscopy"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Expression"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3443",
                                    "term": "Image analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3435",
                                    "term": "Standardisation and normalisation"
                                }
                            ],
                            []
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Nanoscale Distribution of Nuclear Sites by Super-Resolved Image Cross-Correlation Spectroscopy.\n\nUser-fiendly code for image cross-correlation specroscopy (ICCS) analysis based on the following article:",
                "homepage": "https://github.com/llanzano/ICCS"
            },
            {
                "name": "MultiQC",
                "uri": "https://bio.tools/multiqc",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0091",
                            "term": "Bioinformatics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2428",
                                    "term": "Validation"
                                }
                            ],
                            []
                        ],
                        "input": [],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2048",
                                "term": "Report"
                            }
                        ]
                    }
                ],
                "description": "MultiQC aggregates results from multiple bioinformatics analyses across many samples into a single report. It searches a given directory for analysis logs and compiles a HTML report. It's a general use tool, perfect for summarising the output from numerous bioinformatics tools.",
                "homepage": "http://multiqc.info/"
            }
        ],
        "inputs": [],
        "nb_inputs": 0,
        "outputs": [
            "software_versions_yaml"
        ],
        "nb_outputs": 1,
        "name_workflow": "ikmb__pacbio-preprocess",
        "directive": [
            "publishDir \"${params.outdir}/Summary/versions\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "BamToCCS": {
        "name_process": "BamToCCS",
        "string_process": "\tprocess BamToCCS {\n\n\t\tlabel 'pbccs'\n\t\t\n\t\tscratch true\n\n\t\tpublishDir \"${params.outdir}/${sample}/CCS\", mode: 'copy',\n\t\t\tsaveAs: { filename ->\n\t\t\t\tif( filename.indexOf(\"report.txt\") > 0 ) filename\n\t\t\t\telse null\n\t\t\t}\n\n\t\tinput:\n\t\tset val(sample),file(bam),file(bam_index) from bamFile\n\t\teach chunk from chunks\n\n\n\t\toutput:\n\t\tset val(sample),file(reads) into ReadChunks\n\t\tfile(report)\n\n\t\tscript:\n\t\treads = bam.getBaseName() + \".\" + chunk + \".ccs.bam\"\n\t\treport = bam.getBaseName() + \".\" + chunk + \".ccs.report.txt\"\n\t\toptions =\"\"\n\t\tif (params.max_length) {\n\t\t\toptions = \"--max-length=${params.max_length}\"\n\t\t}\n\n\t\t\"\"\"\n\t\t\tccs $bam $reads --min-passes ${params.min_passes} --min-length=${params.min_length} --chunk $chunk/10 -j ${task.cpus}\n\t\t\tmv *ccs_report.txt $report\n\t\t\"\"\"\n\n\t}",
        "nb_lignes_process": 33,
        "string_script": "\t\treads = bam.getBaseName() + \".\" + chunk + \".ccs.bam\"\n\t\treport = bam.getBaseName() + \".\" + chunk + \".ccs.report.txt\"\n\t\toptions =\"\"\n\t\tif (params.max_length) {\n\t\t\toptions = \"--max-length=${params.max_length}\"\n\t\t}\n\n\t\t\"\"\"\n\t\t\tccs $bam $reads --min-passes ${params.min_passes} --min-length=${params.min_length} --chunk $chunk/10 -j ${task.cpus}\n\t\t\tmv *ccs_report.txt $report\n\t\t\"\"\"",
        "nb_lignes_script": 10,
        "language_script": "bash",
        "tools": [
            "Readseq",
            "Reporter",
            "ICCS"
        ],
        "tools_url": [
            "https://bio.tools/readseq",
            "https://bio.tools/reporter",
            "https://bio.tools/ICCS"
        ],
        "tools_dico": [
            {
                "name": "Readseq",
                "uri": "https://bio.tools/readseq",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Biological databases"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Data management"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Information systems"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3071",
                            "term": "Databases and information systems"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Formatting"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File reformatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File format conversion"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "File formatting"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0335",
                                    "term": "Reformatting"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_2044",
                                "term": "Sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2044",
                                "term": "Sequence"
                            }
                        ]
                    }
                ],
                "description": "Convert biosequences between a selection of common biological sequence formats.",
                "homepage": "http://www.ebi.ac.uk/Tools/sfc/readseq/"
            },
            {
                "name": "Reporter",
                "uri": "https://bio.tools/reporter",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0121",
                            "term": "Proteomics"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3630",
                                    "term": "Protein quantification"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3630",
                                    "term": "Protein quantitation"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_2536",
                                "term": "Mass spectrometry data"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2886",
                                "term": "Protein sequence record"
                            }
                        ]
                    }
                ],
                "description": "Protein quantification based on reporter ions.",
                "homepage": "http://compomics.github.io/projects/reporter.html"
            },
            {
                "name": "ICCS",
                "uri": "https://bio.tools/ICCS",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0593",
                            "term": "NMR"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3295",
                            "term": "Epigenetics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Gene expression"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3385",
                            "term": "Light microscopy"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3306",
                            "term": "Biophysics"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0593",
                            "term": "Nuclear magnetic resonance spectroscopy"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0593",
                            "term": "NMR spectroscopy"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0203",
                            "term": "Expression"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3443",
                                    "term": "Image analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3435",
                                    "term": "Standardisation and normalisation"
                                }
                            ],
                            []
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Nanoscale Distribution of Nuclear Sites by Super-Resolved Image Cross-Correlation Spectroscopy.\n\nUser-fiendly code for image cross-correlation specroscopy (ICCS) analysis based on the following article:",
                "homepage": "https://github.com/llanzano/ICCS"
            }
        ],
        "inputs": [
            "bamFile",
            "chunks"
        ],
        "nb_inputs": 2,
        "outputs": [
            "ReadChunks",
            "report"
        ],
        "nb_outputs": 2,
        "name_workflow": "ikmb__pacbio-preprocess",
        "directive": [
            "label 'pbccs'",
            "scratch true",
            "publishDir \"${params.outdir}/${sample}/CCS\", mode: 'copy' , saveAs: { filename -> if( filename.indexOf(\"report.txt\") > 0 ) filename else null }"
        ],
        "when": "",
        "stub": ""
    },
    "CcsMerge": {
        "name_process": "CcsMerge",
        "string_process": "\tprocess CcsMerge {\n\n\t\tlabel 'pbbam'\n\n\t\tscratch true \n\n\t        publishDir \"${params.outdir}/${sample}/CCS\", mode: 'copy'\n\n\t\tinput:\n\t\tset val(sample),file(read_chunks) from ReadChunksGrouped\n\n\t\toutput:\n\t\tset val(sample),file(bam),file(pbi) into mergedBam\n\n\t\tscript:\n\t\tbam = sample + \".\" + params.min_passes + \"_min_passes\" + \".\" + params.min_length + \"_min_length.reads.ccs.bam\"\n\t\tpbi = bam + \".pbi\"\n\n\t\t\n\n\t\t\"\"\"\n\t\t\tpbmerge -o $bam $read_chunks\n\t\t\tpbindex $bam\n\t\t\"\"\"\n\t}",
        "nb_lignes_process": 23,
        "string_script": "\t\tbam = sample + \".\" + params.min_passes + \"_min_passes\" + \".\" + params.min_length + \"_min_length.reads.ccs.bam\"\n\t\tpbi = bam + \".pbi\"\n\n\t\t\n\n\t\t\"\"\"\n\t\t\tpbmerge -o $bam $read_chunks\n\t\t\tpbindex $bam\n\t\t\"\"\"",
        "nb_lignes_script": 8,
        "language_script": "bash",
        "tools": [
            "BaMM",
            "PBIL"
        ],
        "tools_url": [
            "https://bio.tools/bamm",
            "https://bio.tools/pbil"
        ],
        "tools_dico": [
            {
                "name": "BaMM",
                "uri": "https://bio.tools/bamm",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3169",
                            "term": "ChIP-seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0160",
                            "term": "Sequence sites, features and motifs"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3169",
                            "term": "Chip-sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3169",
                            "term": "Chip Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3169",
                            "term": "ChIP-sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3169",
                            "term": "Chip sequencing"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0239",
                                    "term": "Sequence motif recognition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3501",
                                    "term": "Enrichment analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0238",
                                    "term": "Sequence motif discovery"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0239",
                                    "term": "Motif scanning"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0239",
                                    "term": "Sequence signature recognition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0239",
                                    "term": "Sequence signature detection"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3501",
                                    "term": "Enrichment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3501",
                                    "term": "Over-representation analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0238",
                                    "term": "Motif discovery"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "de-novo motif discovery and regulatory sequence analysis.\nDiscovery of regulatory motifs with higher-order Bayesian Markov Models (BaMMs)",
                "homepage": "https://bammmotif.mpibpc.mpg.de"
            },
            {
                "name": "PBIL",
                "uri": "https://bio.tools/pbil",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0082",
                            "term": "Structure prediction"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0097",
                            "term": "Nucleic acid structure analysis"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0157",
                            "term": "Sequence composition, complexity and repeats"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0077",
                            "term": "Nucleic acids"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3511",
                            "term": "Nucleic acid sites, features and motifs"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0097",
                            "term": "Nucleic acid structure"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0077",
                            "term": "Nucleic acid bioinformatics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0077",
                            "term": "Nucleic acid informatics"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0279",
                                    "term": "Nucleic acid folding analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2451",
                                    "term": "Sequence comparison"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2478",
                                    "term": "Nucleic acid sequence analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0279",
                                    "term": "Nucleic acid folding modelling"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0279",
                                    "term": "Nucleic acid folding prediction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0279",
                                    "term": "Nucleic acid folding"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2478",
                                    "term": "Sequence analysis (nucleic acid)"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Pole Bio-Informatique Lyonnais (PBIL) provides access to sequence databanks (EMBL, GenBank, SWISS-PROT, PIR) and to many tools of nucleic acid and protein sequence analyses.",
                "homepage": "https://prabi.ibcp.fr/htm/site/web/home"
            }
        ],
        "inputs": [
            "ReadChunksGrouped"
        ],
        "nb_inputs": 1,
        "outputs": [
            "mergedBam"
        ],
        "nb_outputs": 1,
        "name_workflow": "ikmb__pacbio-preprocess",
        "directive": [
            "label 'pbbam'",
            "scratch true",
            "publishDir \"${params.outdir}/${sample}/CCS\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "GetHiFiReads": {
        "name_process": "GetHiFiReads",
        "string_process": "\tprocess GetHiFiReads {\n\n\t\tlabel 'extracthifi'\t\n\n               \tpublishDir \"${params.outdir}/${sample}/HiFi\", mode: 'copy'\n\n\t        input:\n                set val(sample),file(bam),file(pbi) from mergedBam\n\n               \toutput:\n\t        set val(sample),file(hifi) into ExtractedBam\n\n                script:\n              \thifi = bam.getBaseName() + \".hifi.bam\"\n\t        hifi_pbi = hifi + \".pbi\"\n\t\n                \"\"\"\n               \t        extracthifi $bam $hifi\n\t        \"\"\"\n\n        }",
        "nb_lignes_process": 19,
        "string_script": "              \thifi = bam.getBaseName() + \".hifi.bam\"\n\t        hifi_pbi = hifi + \".pbi\"\n\t\n                \"\"\"\n               \t        extracthifi $bam $hifi\n\t        \"\"\"",
        "nb_lignes_script": 5,
        "language_script": "bash",
        "tools": [
            "HiFiX"
        ],
        "tools_url": [
            "https://bio.tools/hifix"
        ],
        "tools_dico": [
            {
                "name": "HiFiX",
                "uri": "https://bio.tools/hifix",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3432",
                                    "term": "Clustering"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0291",
                                    "term": "Sequence clustering"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0291",
                                    "term": "Sequence cluster construction"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_0291",
                                    "term": "Sequence cluster generation"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "The software package HiFiX implements the novel algorithm for HIgh FIdelity Clustering of Sequences.",
                "homepage": "http://lbbe.univ-lyon1.fr/-HiFiX-.html"
            }
        ],
        "inputs": [
            "mergedBam"
        ],
        "nb_inputs": 1,
        "outputs": [
            "ExtractedBam"
        ],
        "nb_outputs": 1,
        "name_workflow": "ikmb__pacbio-preprocess",
        "directive": [
            "label 'extracthifi'",
            "publishDir \"${params.outdir}/${sample}/HiFi\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "IndexBam": {
        "name_process": "IndexBam",
        "string_process": "\tprocess IndexBam {\n\n\t\tlabel 'pbbam'\n\n\t\tinput:\n\t\tset val(sample),file(hifi) from ExtractedBam\n\n\t\toutput:\n                set val(sample),file(hifi),file(hifi_pbi) into (HiFiBam, bamQC)\n\n\t\tscript:\n\n\t\thifi_pbi = hifi + \".pbi\"\n\n\t\t\"\"\"\n\t\t\tpbindex $hifi\n\t\t\"\"\"\n\n\t}",
        "nb_lignes_process": 17,
        "string_script": "\t\thifi_pbi = hifi + \".pbi\"\n\n\t\t\"\"\"\n\t\t\tpbindex $hifi\n\t\t\"\"\"",
        "nb_lignes_script": 4,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "ExtractedBam"
        ],
        "nb_inputs": 1,
        "outputs": [
            ""
        ],
        "nb_outputs": 1,
        "name_workflow": "ikmb__pacbio-preprocess",
        "directive": [
            "label 'pbbam'"
        ],
        "when": "",
        "stub": ""
    },
    "PbDemux": {
        "name_process": "PbDemux",
        "string_process": "\tprocess PbDemux {\n\n\t\tlabel 'lima'\n\n\t\tpublishDir \"${params.outdir}/${sample}/Demux\", mode: 'copy'\n\n\t\tinput:\n\t\tset val(sample),file(bam),file(pbi) from HiFiBam\n\t\tfile(barcode_fa) from barcodes.collect()\n\n\t\toutput:\n\t\tset val(sample),file(\"*-*.bam\") into final_bams\n\t\tset val(sample),file(\"*.lima.*\") into lima_reports\n\t\t\n\t\tscript:\n\t\tdef options = \"\"\n\t\tif (params.hifi || params.hifi_extract) {\n\t\t\toptions = \"--hifi-preset SYMMETRIC\"\n\t\t}\t\n\t\tdemux = bam.getBaseName() + \".demux.bam\"\n\t\t\"\"\"\n\t\t\tlima $bam $barcode_fa $demux --same $options --split-named\n\t\t\"\"\"\n\n\t}",
        "nb_lignes_process": 23,
        "string_script": "\t\tdef options = \"\"\n\t\tif (params.hifi || params.hifi_extract) {\n\t\t\toptions = \"--hifi-preset SYMMETRIC\"\n\t\t}\t\n\t\tdemux = bam.getBaseName() + \".demux.bam\"\n\t\t\"\"\"\n\t\t\tlima $bam $barcode_fa $demux --same $options --split-named\n\t\t\"\"\"",
        "nb_lignes_script": 7,
        "language_script": "bash",
        "tools": [
            "demuxlet",
            "blima"
        ],
        "tools_url": [
            "https://bio.tools/demuxlet",
            "https://bio.tools/blima"
        ],
        "tools_dico": [
            {
                "name": "demuxlet",
                "uri": "https://bio.tools/demuxlet",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3308",
                            "term": "Transcriptomics"
                        },
                        {
                            "uri": "http://edamontology.org/topic_2269",
                            "term": "Statistics and probability"
                        }
                    ],
                    []
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2423",
                                    "term": "Prediction and recognition"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality control"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Genetic variation analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing QC"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3218",
                                    "term": "Sequencing quality assessment"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Sequence variation analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Variant analysis"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_3197",
                                    "term": "Genetic variation annotation"
                                }
                            ]
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_3498",
                                "term": "Sequence variations"
                            },
                            {
                                "uri": "http://edamontology.org/data_1383",
                                "term": "Nucleic acid sequence alignment"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_2048",
                                "term": "Report"
                            }
                        ]
                    }
                ],
                "description": "Deconvolution of sample identity and identification of multiplets when multiple samples are pooled by barcoded single cell sequencing.",
                "homepage": "https://github.com/statgen/demuxlet"
            },
            {
                "name": "blima",
                "uri": "https://bio.tools/blima",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3518",
                            "term": "Microarray experiment"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3518",
                            "term": "Microarrays"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2495",
                                    "term": "Expression analysis"
                                }
                            ],
                            [
                                {
                                    "uri": "http://edamontology.org/operation_2495",
                                    "term": "Expression data analysis"
                                }
                            ]
                        ],
                        "input": [],
                        "output": []
                    }
                ],
                "description": "Includes several algorithms for the preprocessing of Illumina microarray data. It focuses to the bead level analysis and provides novel approach to the quantile normalization of the vectors of unequal lengths. It provides variety of the methods for background correction including background subtraction, RMA like convolution and background outlier removal. It also implements variance stabilizing transformation on the bead level, methods for data summarization and t-test performance.",
                "homepage": "http://bioconductor.org/packages/release/bioc/html/blima.html"
            }
        ],
        "inputs": [
            "HiFiBam",
            "barcodes"
        ],
        "nb_inputs": 2,
        "outputs": [
            "final_bams",
            "lima_reports"
        ],
        "nb_outputs": 2,
        "name_workflow": "ikmb__pacbio-preprocess",
        "directive": [
            "label 'lima'",
            "publishDir \"${params.outdir}/${sample}/Demux\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "bam2fasta": {
        "name_process": "bam2fasta",
        "string_process": "\tprocess bam2fasta {\n\n\t\tlabel 'bam2fastx'\n\n\t\tpublishDir \"${params.outdir}/${sample}/Fasta\", mode: 'copy' \n\n\t\tinput:\n\t\tset val(sample),file(bam),file(pbi) from bamQC\n\n\t\toutput:\n\t\tset val(sample),file(fasta) into fasta_reads\n\n\t\tscript:\n\t\tfasta = bam.getBaseName() + \".fasta.gz\"\n\t\tbase_name = bam.getBaseName()\n\t\t\"\"\"\n\t\t\tbam2fasta -o $base_name $bam\n\t\t\"\"\"\n\t\t\n\t}",
        "nb_lignes_process": 18,
        "string_script": "\t\tfasta = bam.getBaseName() + \".fasta.gz\"\n\t\tbase_name = bam.getBaseName()\n\t\t\"\"\"\n\t\t\tbam2fasta -o $base_name $bam\n\t\t\"\"\"",
        "nb_lignes_script": 4,
        "language_script": "bash",
        "tools": [
            "FASTA"
        ],
        "tools_url": [
            "https://bio.tools/fasta"
        ],
        "tools_dico": [
            {
                "name": "FASTA",
                "uri": "https://bio.tools/fasta",
                "topic": [
                    [
                        {
                            "uri": "http://edamontology.org/topic_3512",
                            "term": "Gene transcripts"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "Sequencing"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0157",
                            "term": "Sequence composition, complexity and repeats"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequence analysis"
                        }
                    ],
                    [
                        {
                            "uri": "http://edamontology.org/topic_3512",
                            "term": "mRNA features"
                        },
                        {
                            "uri": "http://edamontology.org/topic_3168",
                            "term": "DNA-Seq"
                        },
                        {
                            "uri": "http://edamontology.org/topic_0080",
                            "term": "Sequences"
                        }
                    ]
                ],
                "function": [
                    {
                        "operation": [
                            [
                                {
                                    "uri": "http://edamontology.org/operation_0346",
                                    "term": "Sequence similarity search"
                                },
                                {
                                    "uri": "http://edamontology.org/operation_2451",
                                    "term": "Sequence comparison"
                                }
                            ],
                            []
                        ],
                        "input": [
                            {
                                "uri": "http://edamontology.org/data_2044",
                                "term": "Sequence"
                            }
                        ],
                        "output": [
                            {
                                "uri": "http://edamontology.org/data_0857",
                                "term": "Sequence search results"
                            }
                        ]
                    }
                ],
                "description": "The FASTA programs find regions of local or global similarity between protein or DNA sequences, either by searching protein or DNA databases, or by identifying local duplications within a sequence. Like BLAST, FASTA can be used to infer functional and evolutionary relationships between sequences as well as help identify members of gene families.",
                "homepage": "http://fasta.bioch.virginia.edu/"
            }
        ],
        "inputs": [
            "bamQC"
        ],
        "nb_inputs": 1,
        "outputs": [
            "fasta_reads"
        ],
        "nb_outputs": 1,
        "name_workflow": "ikmb__pacbio-preprocess",
        "directive": [
            "label 'bam2fastx'",
            "publishDir \"${params.outdir}/${sample}/Fasta\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    },
    "nanoplot": {
        "name_process": "nanoplot",
        "string_process": "\tprocess nanoplot {\n\n\t\tlabel 'nanoplot'\n\n        \tpublishDir \"${params.outdir}/${sample}/QC\", mode: 'copy'\n\n\t        input:\n        \tset val(sample),file(fasta) from fasta_reads\n\n\t        output:\n        \tfile(\"nanoplot\")\n\n\t        script:\n\n        \t\"\"\"\n                \tNanoPlot -t ${task.cpus} -o nanoplot --fasta $fasta\n\t        \"\"\"\n\t}",
        "nb_lignes_process": 16,
        "string_script": "        \t\"\"\"\n                \tNanoPlot -t ${task.cpus} -o nanoplot --fasta $fasta\n\t        \"\"\"",
        "nb_lignes_script": 2,
        "language_script": "bash",
        "tools": [],
        "tools_url": [],
        "tools_dico": [],
        "inputs": [
            "fasta_reads"
        ],
        "nb_inputs": 1,
        "outputs": [],
        "nb_outputs": 0,
        "name_workflow": "ikmb__pacbio-preprocess",
        "directive": [
            "label 'nanoplot'",
            "publishDir \"${params.outdir}/${sample}/QC\", mode: 'copy'"
        ],
        "when": "",
        "stub": ""
    }
}